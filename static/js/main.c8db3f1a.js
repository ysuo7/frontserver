/*! For license information please see main.c8db3f1a.js.LICENSE.txt */
(()=>{var e={3361:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ie});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,a=Object.assign;function s(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function f(e){return e.length}function p(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,b=0,w="";function x(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:m,column:g,length:a,return:""}}function S(e,t){return a(x("",null,null,"",null,null,0),e,{length:-e.length},t)}function k(){return b=y>0?u(w,--y):0,g--,10===b&&(g=1,m--),b}function _(){return b=y<v?u(w,y++):0,g++,10===b&&(g=1,m++),b}function I(){return u(w,y)}function E(){return y}function T(e,t){return d(w,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R(e){return m=g=1,v=h(w=e),y=0,[]}function P(e){return w="",e}function A(e){return s(T(y-1,O(91===e?e+2:40===e?e+1:e)))}function N(e){for(;(b=I())&&b<33;)_();return C(e)>2||C(b)>3?"":" "}function D(e,t){for(;--t&&_()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return T(e,E()+(t<6&&32==I()&&32==_()))}function O(e){for(;_();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&O(b);break;case 40:41===e&&O(e);break;case 92:_()}return y}function M(e,t){for(;_()&&e+b!==57&&(e+b!==84||47!==I()););return"/*"+T(t,y-1)+"*"+o(47===e?e:_())}function L(e){for(;!C(I());)_();return T(e,y)}var j="-ms-",F="-moz-",Z="-webkit-",z="comm",B="rule",U="decl",V="@keyframes";function q(e,t){for(var n="",r=f(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function W(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case U:return e.return=e.return||e.value;case z:return"";case V:return e.return=e.value+"{"+q(e.children,r)+"}";case B:e.value=e.props.join(",")}return h(n=q(e.children,r))?e.return=e.value+"{"+n+"}":""}function H(e){return P(K("",null,null,null,[""],e=R(e),0,[0],e))}function K(e,t,n,r,i,a,s,d,f){for(var m=0,g=0,v=s,y=0,b=0,w=0,x=1,S=1,T=1,C=0,R="",P=i,O=a,j=r,F=R;S;)switch(w=C,C=_()){case 40:if(108!=w&&58==u(F,v-1)){-1!=c(F+=l(A(C),"&","&\f"),"&\f")&&(T=-1);break}case 34:case 39:case 91:F+=A(C);break;case 9:case 10:case 13:case 32:F+=N(w);break;case 92:F+=D(E()-1,7);continue;case 47:switch(I()){case 42:case 47:p(Q(M(_(),E()),t,n),f);break;default:F+="/"}break;case 123*x:d[m++]=h(F)*T;case 125*x:case 59:case 0:switch(C){case 0:case 125:S=0;case 59+g:-1==T&&(F=l(F,/\f/g,"")),b>0&&h(F)-v&&p(b>32?$(F+";",r,n,v-1):$(l(F," ","")+";",r,n,v-2),f);break;case 59:F+=";";default:if(p(j=G(F,t,n,m,g,i,d,R,P=[],O=[],v),a),123===C)if(0===g)K(F,t,j,j,P,a,v,d,O);else switch(99===y&&110===u(F,3)?100:y){case 100:case 108:case 109:case 115:K(e,j,j,r&&p(G(e,j,j,0,0,i,d,R,i,P=[],v),O),i,O,v,d,r?P:O);break;default:K(F,j,j,j,[""],O,0,d,O)}}m=g=b=0,x=T=1,R=F="",v=s;break;case 58:v=1+h(F),b=w;default:if(x<1)if(123==C)--x;else if(125==C&&0==x++&&125==k())continue;switch(F+=o(C),C*x){case 38:T=g>0?1:(F+="\f",-1);break;case 44:d[m++]=(h(F)-1)*T,T=1;break;case 64:45===I()&&(F+=A(_())),y=I(),g=v=h(R=F+=L(E())),C++;break;case 45:45===w&&2==h(F)&&(x=0)}}return a}function G(e,t,n,r,o,a,c,u,h,p,m){for(var g=o-1,v=0===o?a:[""],y=f(v),b=0,w=0,S=0;b<r;++b)for(var k=0,_=d(e,g+1,g=i(w=c[b])),I=e;k<y;++k)(I=s(w>0?v[k]+" "+_:l(_,/&\f/g,v[k])))&&(h[S++]=I);return x(e,t,n,0===o?B:u,h,p,m)}function Q(e,t,n){return x(e,t,n,z,o(b),d(e,2,-2),0)}function $(e,t,n,r){return x(e,t,n,U,d(e,0,r),d(e,r+1,-1),r)}var Y=function(e,t,n){for(var r=0,i=0;r=i,i=I(),38===r&&12===i&&(t[n]=1),!C(i);)_();return T(e,y)},X=function(e,t){return P(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===I()&&(t[n]=1),e[n]+=Y(y-1,t,n);break;case 2:e[n]+=A(r);break;case 4:if(44===r){e[++n]=58===I()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=_());return e}(R(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!r){J.set(e,!0);for(var i=[],o=X(t,i),a=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return Z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Z+e+F+e+j+e+e;case 6828:case 4268:return Z+e+j+e+e;case 6165:return Z+e+j+"flex-"+e+e;case 5187:return Z+e+l(e,/(\w+).+(:[^]+)/,Z+"box-$1$2"+j+"flex-$1$2")+e;case 5443:return Z+e+j+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return Z+e+j+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return Z+e+j+l(e,"shrink","negative")+e;case 5292:return Z+e+j+l(e,"basis","preferred-size")+e;case 6060:return Z+"box-"+l(e,"-grow","")+Z+e+j+l(e,"grow","positive")+e;case 4554:return Z+l(e,/([^-])(transform)/g,"$1"+Z+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,Z+"$1"),/(image-set)/,Z+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,Z+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,Z+"box-pack:$3"+j+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Z+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,Z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+Z+"$2-$3$1"+F+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+Z)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Z+(45===u(e,14)?"inline-":"")+"box$3$1"+Z+"$2$3$1"+j+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return Z+e+j+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Z+e+j+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Z+e+j+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Z+e+j+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case U:e.return=ne(e.value,e.length);break;case V:return q([S(e,{value:l(e.value,"@","@"+Z)})],r);case B:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return q([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return q([S(e,{props:[l(t,/:(plac\w+)/,":"+Z+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,j+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var o,a,s={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;l.push(e)}));var c,u,d=[W,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=f(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([ee,te].concat(i,d));a=function(e,t,n,r){c=n,q(H(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return p.sheet.hydrate(l),p}},9797:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{Z:()=>r})},2564:(e,t,n)=>{"use strict";n.d(t,{T:()=>l,i:()=>o,w:()=>s});var r=n(2791),i=n(3361),o=(n(9140),n(2561),!0),a=r.createContext("undefined"!==typeof HTMLElement?(0,i.Z)({key:"css"}):null);a.Provider;var s=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(a);return e(t,i,n)}))};o||(s=function(e){return function(t){var n=(0,r.useContext)(a);return null===n?(n=(0,i.Z)({key:"css"}),r.createElement(a.Provider,{value:n},e(t,n))):e(t,n)}});var l=r.createContext({})},9140:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(9797),o=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},c=(0,i.Z)((function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()})),u=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===r[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":l(a)&&(r+=c(o)+":"+u(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=d(e,t,a);switch(o){case"animation":case"animationName":r+=c(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var h=0;h<a.length;h++)l(a[h])&&(r+=c(o)+":"+u(o,a[h])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=h,o=n(e);return h=i,d(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var h,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var p=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";h=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=d(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=d(n,t,e[a]),r&&(i+=o[a]);f.lastIndex=0;for(var s,l="";null!==(s=f.exec(i));)l+="-"+s[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:h}}},2561:(e,t,n)=>{"use strict";var r;n.d(t,{L:()=>a,j:()=>s});var i=n(2791),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,a=o||function(e){return e()},s=o||i.useLayoutEffect},5438:(e,t,n)=>{"use strict";n.d(t,{My:()=>o,fp:()=>r,hC:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},o=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}},2419:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=a},1131:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.Z=a},403:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined");t.Z=a},2898:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert");t.Z=a},5585:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");t.Z=a},5403:(e,t,n)=>{"use strict";var r=n(4836);t.Z=void 0;var i=r(n(5649)),o=n(184),a=(0,i.default)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=a},5649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(4454)},1979:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(7462),i=n(3366),o=n(6189),a=n(2466),s=n(5080),l=n(7416),c=n(104);var u=n(2065);const d={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},f={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},x={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function S(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,u.$n)(e.main,i):"dark"===t&&(e.dark=(0,u._j)(e.main,o)))}function k(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:s=.2}=e,l=(0,i.Z)(e,b),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[200],light:g[50],dark:g[400]}:{main:g[700],light:g[400],dark:g[800]}}(t),k=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[200],light:f[50],dark:f[400]}:{main:f[500],light:f[300],dark:f[700]}}(t),_=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(t),I=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[700],light:v[500],dark:v[900]}}(t),E=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(t),T=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function C(e){return(0,u.mi)(e,x.text.primary)>=n?x.text.primary:w.text.primary}const R=e=>{let{color:t,name:n,mainShade:i=500,lightShade:a=300,darkShade:l=700}=e;if(t=(0,r.Z)({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error((0,o.Z)(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error((0,o.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return S(t,"light",a,s),S(t,"dark",l,s),t.contrastText||(t.contrastText=C(t.main)),t},P={dark:x,light:w};return(0,a.Z)((0,r.Z)({common:(0,r.Z)({},d),mode:t,primary:R({color:c,name:"primary"}),secondary:R({color:k,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:_,name:"error"}),warning:R({color:T,name:"warning"}),info:R({color:I,name:"info"}),success:R({color:E,name:"success"}),grey:h,contrastThreshold:n,getContrastText:C,augmentColor:R,tonalOffset:s},P[t]),l)}const _=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const I={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){const n="function"===typeof t?t(e):t,{fontFamily:o=E,fontSize:s=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:f,pxToRem:p}=n,m=(0,i.Z)(n,_);const g=s/14,v=p||(e=>"".concat(e/h*g,"rem")),y=(e,t,n,i,a)=>{return(0,r.Z)({fontFamily:o,fontWeight:e,fontSize:v(t),lineHeight:n},o===E?{letterSpacing:"".concat((s=i/t,Math.round(1e5*s)/1e5),"em")}:{},a,f);var s},b={h1:y(l,96,1.167,-1.5),h2:y(l,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(u,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(u,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(u,14,1.75,.4,I),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,I),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,a.Z)((0,r.Z)({htmlFontSize:h,pxToRem:v,fontFamily:o,fontSize:s,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},b),m,{clone:!1})}function C(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const R=["none",C(0,2,1,-1,0,1,1,0,0,1,3,0),C(0,3,1,-2,0,2,2,0,0,1,5,0),C(0,3,3,-2,0,3,4,0,0,1,8,0),C(0,2,4,-1,0,4,5,0,0,1,10,0),C(0,3,5,-1,0,5,8,0,0,1,14,0),C(0,3,5,-1,0,6,10,0,0,1,18,0),C(0,4,5,-2,0,7,10,1,0,2,16,1),C(0,5,5,-3,0,8,10,1,0,3,14,2),C(0,5,6,-3,0,9,12,1,0,3,16,2),C(0,6,6,-3,0,10,14,1,0,4,18,3),C(0,6,7,-4,0,11,15,1,0,4,20,3),C(0,7,8,-4,0,12,17,2,0,5,22,4),C(0,7,8,-4,0,13,19,2,0,5,24,4),C(0,7,9,-4,0,14,21,2,0,5,26,4),C(0,8,9,-5,0,15,22,2,0,6,28,5),C(0,8,10,-5,0,16,24,2,0,6,30,5),C(0,8,11,-5,0,17,26,2,0,6,32,5),C(0,9,11,-5,0,18,28,2,0,7,34,6),C(0,9,12,-6,0,19,29,2,0,7,36,6),C(0,10,13,-6,0,20,31,3,0,8,38,7),C(0,10,13,-6,0,21,33,3,0,8,40,7),C(0,10,14,-6,0,22,35,3,0,8,42,7),C(0,11,14,-7,0,23,36,3,0,9,44,8),C(0,11,15,-7,0,24,38,3,0,9,46,8)];var P=n(1314);const A={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},N=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:u={},typography:d={}}=e,h=(0,i.Z)(e,N);if(e.vars)throw new Error((0,o.Z)(18));const f=k(n),p=(0,s.Z)(e);let m=(0,a.Z)(p,{mixins:(g=p.breakpoints,v=t,(0,r.Z)({toolbar:{minHeight:56,[g.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[g.up("sm")]:{minHeight:64}}},v)),palette:f,shadows:R.slice(),typography:T(f,d),transitions:(0,P.ZP)(u),zIndex:(0,r.Z)({},A)});var g,v;m=(0,a.Z)(m,h);for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];return m=b.reduce(((e,t)=>(0,a.Z)(e,t)),m),m.unstable_sxConfig=(0,r.Z)({},l.Z,null==h?void 0:h.unstable_sxConfig),m.unstable_sx=function(e){return(0,c.Z)({sx:e,theme:this})},m}const O=D},1314:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>u,x9:()=>s});var r=n(3366),i=n(7462);const o=["duration","easing","delay"],a={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},s={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l(e){return"".concat(Math.round(e),"ms")}function c(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function u(e){const t=(0,i.Z)({},a,e.easing),n=(0,i.Z)({},s,e.duration);return(0,i.Z)({getAutoHeightDuration:c,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:a=n.standard,easing:s=t.easeInOut,delay:c=0}=i;(0,r.Z)(i,o);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof a?a:l(a)," ").concat(s," ").concat("string"===typeof c?c:l(c)))).join(",")}},e,{easing:t,duration:n})}},6482:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(1979).Z)()},988:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r="$$material"},6934:(e,t,n)=>{"use strict";n.d(t,{Dz:()=>s,FO:()=>a,ZP:()=>l});var r=n(4046),i=n(6482),o=n(988);const a=e=>(0,r.x9)(e)&&"classes"!==e,s=r.x9,l=(0,r.ZP)({themeId:o.Z,defaultTheme:i.Z,rootShouldForwardProp:a})},1402:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(7078),i=n(6482),o=n(988);function a(e){let{props:t,name:n}=e;return(0,r.Z)({props:t,name:n,defaultTheme:i.Z,themeId:o.Z})}},4036:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(1122).Z},9201:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(7462),i=n(2791),o=n(3366),a=n(3733),s=n(4419),l=n(4036),c=n(1402),u=n(6934),d=n(5878),h=n(1217);function f(e){return(0,h.Z)("MuiSvgIcon",e)}(0,d.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(184);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,u.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat((0,l.Z)(n.color))],t["fontSize".concat((0,l.Z)(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,o,a,s,l,c,u,d,h,f,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(a=t.typography)||null==(s=a.pxToRem)?void 0:s.call(a,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(f=(t.vars||t).palette)||null==(f=f[n.color])?void 0:f.main)?h:{action:null==(p=(t.vars||t).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),v=i.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiSvgIcon"}),{children:u,className:d,color:h="inherit",component:v="svg",fontSize:y="medium",htmlColor:b,inheritViewBox:w=!1,titleAccess:x,viewBox:S="0 0 24 24"}=n,k=(0,o.Z)(n,m),_=i.isValidElement(u)&&"svg"===u.type,I=(0,r.Z)({},n,{color:h,component:v,fontSize:y,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:S,hasSvgAsChild:_}),E={};w||(E.viewBox=S);const T=(e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root","inherit"!==t&&"color".concat((0,l.Z)(t)),"fontSize".concat((0,l.Z)(n))]};return(0,s.Z)(i,f,r)})(I);return(0,p.jsxs)(g,(0,r.Z)({as:v,className:(0,a.Z)(T.root,d),focusable:"false",color:b,"aria-hidden":!x||void 0,role:x?"img":void 0,ref:t},E,k,_&&u.props,{ownerState:I,children:[_?u.props.children:u,x?(0,p.jsx)("title",{children:x}):null]}))}));v.muiName="SvgIcon";const y=v;function b(e,t){function n(n,i){return(0,p.jsx)(y,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))}return n.muiName=y.muiName,i.memo(i.forwardRef(n))}},3199:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(2254).Z},4454:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>i.Z,createChainedFunction:()=>o,createSvgIcon:()=>a.Z,debounce:()=>s.Z,deprecatedPropType:()=>l,isMuiElement:()=>c.Z,ownerDocument:()=>u.Z,ownerWindow:()=>d.Z,requirePropFactory:()=>h,setRef:()=>f,unstable_ClassNameGenerator:()=>x,unstable_useEnhancedEffect:()=>p.Z,unstable_useId:()=>m,unsupportedProp:()=>g,useControlled:()=>v.Z,useEventCallback:()=>y.Z,useForkRef:()=>b.Z,useIsFocusVisible:()=>w.Z});var r=n(5902),i=n(4036);const o=n(8949).Z;var a=n(9201),s=n(3199);const l=function(e,t){return()=>null};var c=n(9103),u=n(8301),d=n(7602);n(7462);const h=function(e,t){return()=>null};const f=n(2971).Z;var p=n(162);const m=n(8252).Z;const g=function(e,t,n,r,i){return null};var v=n(5158),y=n(9683),b=n(2071),w=n(3031);const x={configure:e=>{r.Z.configure(e)}}},9103:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2791);const i=function(e,t){var n,i;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)}},8301:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(4913).Z},7602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(5202).Z},5158:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2791);const i=function(e){let{controlled:t,default:n,name:i,state:o="value"}=e;const{current:a}=r.useRef(void 0!==t),[s,l]=r.useState(n);return[a?t:s,r.useCallback((e=>{a||l(e)}),[])]}},162:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(2876).Z},9683:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(7054).Z},2071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(6117).Z},3031:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(2791);let i,o=!0,a=!1;const s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function c(){o=!1}function u(){"hidden"===this.visibilityState&&a&&(o=!0)}function d(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const h=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",l,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",u,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!d(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,window.clearTimeout(i),i=window.setTimeout((()=>{a=!1}),100),t.current=!1,!0)},ref:e}}},2421:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>y,Co:()=>b});var r=n(7462),i=n(2791),o=n(9797),a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=(0,o.Z)((function(e){return a.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(2564),c=n(5438),u=n(9140),d=n(2561),h=s,f=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:f},m=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,c.hC)(t,n,r),(0,d.L)((function(){return(0,c.My)(t,n,r)})),null},v=function e(t,n){var o,a,s=t.__emotion_real===t,d=s&&t.__emotion_base||t;void 0!==n&&(o=n.label,a=n.target);var h=m(t,n,s),f=h||p(d),v=!f("as");return function(){var y=arguments,b=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&b.push("label:"+o+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{0,b.push(y[0][0]);for(var w=y.length,x=1;x<w;x++)b.push(y[x],y[0][x])}var S=(0,l.w)((function(e,t,n){var r=v&&e.as||d,o="",s=[],m=e;if(null==e.theme){for(var y in m={},e)m[y]=e[y];m.theme=i.useContext(l.T)}"string"===typeof e.className?o=(0,c.fp)(t.registered,s,e.className):null!=e.className&&(o=e.className+" ");var w=(0,u.O)(b.concat(s),t.registered,m);o+=t.key+"-"+w.name,void 0!==a&&(o+=" "+a);var x=v&&void 0===h?p(r):f,S={};for(var k in e)v&&"as"===k||x(k)&&(S[k]=e[k]);return S.className=o,S.ref=n,i.createElement(i.Fragment,null,i.createElement(g,{cache:t,serialized:w,isStringTag:"string"===typeof r}),i.createElement(r,S))}));return S.displayName=void 0!==o?o:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=d,S.__emotion_styles=b,S.__emotion_forwardProp=h,Object.defineProperty(S,"toString",{value:function(){return"."+a}}),S.withComponent=function(t,i){return e(t,(0,r.Z)({},n,i,{shouldForwardProp:m(S,i,!0)})).apply(void 0,b)},S}}.bind();function y(e,t){return v(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));const b=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},1184:(e,t,n)=>{"use strict";n.d(t,{L7:()=>l,P$:()=>u,VO:()=>i,W8:()=>s,dt:()=>c,k9:()=>a});var r=n(2466);const i={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(i[e],"px)")};function a(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||o;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||o;return Object.keys(t).reduce(((r,o)=>{if(-1!==Object.keys(e.values||i).indexOf(o)){r[e.up(o)]=n(t[o],o)}else{const e=o;r[e]=t[e]}return r}),{})}return n(t)}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function c(e){const t=s(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];const a=[t,...i].reduce(((e,t)=>(0,r.Z)(e,t)),{});return l(Object.keys(t),a)}function u(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let a;return o.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[a],a=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[a],a=n):e[n]=t,e)),{})}},2065:(e,t,n)=>{"use strict";n.d(t,{$n:()=>d,Fq:()=>c,_j:()=>u,mi:()=>l});var r=n(6189);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));let i,a=e.substring(t+1,e.length-1);if("color"===n){if(a=a.split(" "),i=a.shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else a=a.split(",");return a=a.map((e=>parseFloat(e))),{type:n,values:a,colorSpace:i}}function a(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function s(e){let t="hsl"===(e=o(e)).type||"hsla"===e.type?o(function(e){e=o(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)};let c="rgb";const u=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(c+="a",u.push(t[3])),a({type:c,values:u})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){const n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,a(e)}function u(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function d(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return a(e)}},4046:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>I,x9:()=>b});var r=n(3366),i=n(7462),o=n(2421),a=n(2466),s=n(5080),l=n(1122);const c=["variant"];function u(e){return 0===e.length}function d(e){const{variant:t}=e,n=(0,r.Z)(e,c);let i=t||"";return Object.keys(n).sort().forEach((t=>{i+="color"===t?u(i)?e[t]:(0,l.Z)(e[t]):"".concat(u(i)?t:(0,l.Z)(t)).concat((0,l.Z)(e[t].toString()))})),i}var h=n(104);const f=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];const p=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,m=e=>{const t={};return e&&e.forEach((e=>{const n=d(e.props);t[n]=e.style})),t},g=(e,t)=>{let n=[];return t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants),m(n)},v=(e,t,n)=>{const{ownerState:r={}}=e,i=[];return n&&n.forEach((n=>{let o=!0;Object.keys(n.props).forEach((t=>{r[t]!==n.props[t]&&e[t]!==n.props[t]&&(o=!1)})),o&&i.push(t[d(n.props)])})),i},y=(e,t,n,r)=>{var i;const o=null==n||null==(i=n.components)||null==(i=i[r])?void 0:i.variants;return v(e,t,o)};function b(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const w=(0,s.Z)(),x=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function S(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function k(e){return e?(t,n)=>n[e]:null}const _=e=>{let{styledArg:t,props:n,defaultTheme:r,themeId:o}=e;const a=t((0,i.Z)({},n,{theme:S((0,i.Z)({},n,{defaultTheme:r,themeId:o}))}));let s;if(a&&a.variants&&(s=a.variants,delete a.variants),s){return[a,...v(n,m(s),s)]}return a};function I(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=w,rootShouldForwardProp:s=b,slotShouldForwardProp:l=b}=e,c=e=>(0,h.Z)((0,i.Z)({},e,{theme:S((0,i.Z)({},e,{defaultTheme:n,themeId:t}))}));return c.__mui_systemSx=!0,function(e){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.Co)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:h,skipVariantsResolver:w,skipSx:I,overridesResolver:E=k(x(h))}=u,T=(0,r.Z)(u,f),C=void 0!==w?w:h&&"Root"!==h&&"root"!==h||!1,R=I||!1;let P=b;"Root"===h||"root"===h?P=s:h?P=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(P=void 0);const A=(0,o.ZP)(e,(0,i.Z)({shouldForwardProp:P,label:undefined},T)),N=function(r){for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];const u=s?s.map((e=>{if("function"===typeof e&&e.__emotion_real!==e)return r=>_({styledArg:e,props:r,defaultTheme:n,themeId:t});if((0,a.P)(e)){let t,n=e;return e&&e.variants&&(t=e.variants,delete n.variants,n=n=>{let r=e;return v(n,m(t),t).forEach((e=>{r=(0,a.Z)(r,e)})),r}),n}return e})):[];let h=r;if((0,a.P)(r)){let e;r&&r.variants&&(e=r.variants,delete h.variants,h=t=>{let n=r;return v(t,m(e),e).forEach((e=>{n=(0,a.Z)(n,e)})),n})}else"function"===typeof r&&r.__emotion_real!==r&&(h=e=>_({styledArg:r,props:e,defaultTheme:n,themeId:t}));d&&E&&u.push((e=>{const r=S((0,i.Z)({},e,{defaultTheme:n,themeId:t})),o=p(d,r);if(o){const t={};return Object.entries(o).forEach((n=>{let[o,a]=n;t[o]="function"===typeof a?a((0,i.Z)({},e,{theme:r})):a})),E(e,t)}return null})),d&&!C&&u.push((e=>{const r=S((0,i.Z)({},e,{defaultTheme:n,themeId:t}));return y(e,g(d,r),r,d)})),R||u.push(c);const f=u.length-s.length;if(Array.isArray(r)&&f>0){const e=new Array(f).fill("");h=[...r,...e],h.raw=[...r.raw,...e]}const b=A(h,...u);return e.muiName&&(b.muiName=e.muiName),b};return A.withConfig&&(N.withConfig=A.withConfig),N}}},5080:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(7462),i=n(3366),o=n(2466);const a=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,r.Z)({},e,{[t.key]:t.val})),{})};const l={borderRadius:4};var c=n(5682);var u=n(104),d=n(7416);const h=["breakpoints","palette","spacing","shape"];const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:f,shape:p={}}=e,m=(0,i.Z)(e,h),g=function(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=e,l=(0,i.Z)(e,a),c=s(t),u=Object.keys(c);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-o/100).concat(n,")")}function f(e,r){const i=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof t[u[i]]?t[u[i]]:r)-o/100).concat(n,")")}return(0,r.Z)({keys:u,values:c,up:d,down:h,between:f,only:function(e){return u.indexOf(e)+1<u.length?f(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):f(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,c.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(f);let y=(0,o.Z)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},n),spacing:v,shape:(0,r.Z)({},l,p)},m);for(var b=arguments.length,w=new Array(b>1?b-1:0),x=1;x<b;x++)w[x-1]=arguments[x];return y=w.reduce(((e,t)=>(0,o.Z)(e,t)),y),y.unstable_sxConfig=(0,r.Z)({},d.Z,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,u.Z)({sx:e,theme:this})},y}},8247:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2466);const i=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:(e,t,n)=>{"use strict";n.d(t,{hB:()=>p,eI:()=>f,NA:()=>m,e6:()=>y,o3:()=>b});var r=n(1184),i=n(8529),o=n(8247);const a={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=a[t],i=s[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function f(e,t,n,r){var o;const a=null!=(o=(0,i.DW)(e,t,!1))?o:n;return"number"===typeof a?e=>"string"===typeof e?e:a*e:Array.isArray(a)?e=>"string"===typeof e?e:a[e]:"function"===typeof a?a:()=>{}}function p(e){return f(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,i){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),i),a=e[n];return(0,r.k9)(e,a,o)}function v(e,t){const n=p(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(o.Z,{})}function y(e){return v(e,u)}function b(e){return v(e,d)}function w(e){return v(e,h)}y.propTypes={},y.filterProps=u,b.propTypes={},b.filterProps=d,w.propTypes={},w.filterProps=h},8529:(e,t,n)=>{"use strict";n.d(t,{DW:()=>o,Jq:()=>a,ZP:()=>s});var r=n(1122),i=n(1184);function o(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function a(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}const s=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:s,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=o(e.theme,s)||{};return(0,i.k9)(e,c,(e=>{let i=a(u,l,e);return e===i&&"string"===typeof e&&(i=a(u,l,"".concat(t).concat("default"===e?"":(0,r.Z)(e)),e)),!1===n?i:{[n]:i}}))};return c.propTypes={},c.filterProps=[t],c}},7416:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(5682),i=n(8529),o=n(8247);const a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,o.Z)(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};var s=n(1184);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,i.ZP)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),f=c("borderBottom",l),p=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),b=c("borderLeftColor"),w=c("outline",l),x=c("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.eI)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r.NA)(t,e)});return(0,s.k9)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];a(u,d,h,f,p,m,g,v,y,b,S,w,x);const k=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.eI)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r.NA)(t,e)});return(0,s.k9)(e,e.gap,n)}return null};k.propTypes={},k.filterProps=["gap"];const _=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.eI)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r.NA)(t,e)});return(0,s.k9)(e,e.columnGap,n)}return null};_.propTypes={},_.filterProps=["columnGap"];const I=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.eI)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r.NA)(t,e)});return(0,s.k9)(e,e.rowGap,n)}return null};I.propTypes={},I.filterProps=["rowGap"];a(k,_,I,(0,i.ZP)({prop:"gridColumn"}),(0,i.ZP)({prop:"gridRow"}),(0,i.ZP)({prop:"gridAutoFlow"}),(0,i.ZP)({prop:"gridAutoColumns"}),(0,i.ZP)({prop:"gridAutoRows"}),(0,i.ZP)({prop:"gridTemplateColumns"}),(0,i.ZP)({prop:"gridTemplateRows"}),(0,i.ZP)({prop:"gridTemplateAreas"}),(0,i.ZP)({prop:"gridArea"}));function E(e,t){return"grey"===t?t:e}a((0,i.ZP)({prop:"color",themeKey:"palette",transform:E}),(0,i.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:E}),(0,i.ZP)({prop:"backgroundColor",themeKey:"palette",transform:E}));function T(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const C=(0,i.ZP)({prop:"width",transform:T}),R=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||s.VO[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:T(t)}};return(0,s.k9)(e,e.maxWidth,t)}return null};R.filterProps=["maxWidth"];const P=(0,i.ZP)({prop:"minWidth",transform:T}),A=(0,i.ZP)({prop:"height",transform:T}),N=(0,i.ZP)({prop:"maxHeight",transform:T}),D=(0,i.ZP)({prop:"minHeight",transform:T}),O=((0,i.ZP)({prop:"size",cssProperty:"width",transform:T}),(0,i.ZP)({prop:"size",cssProperty:"height",transform:T}),a(C,R,P,A,N,D,(0,i.ZP)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:E},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:E},backgroundColor:{themeKey:"palette",transform:E},p:{style:r.o3},pt:{style:r.o3},pr:{style:r.o3},pb:{style:r.o3},pl:{style:r.o3},px:{style:r.o3},py:{style:r.o3},padding:{style:r.o3},paddingTop:{style:r.o3},paddingRight:{style:r.o3},paddingBottom:{style:r.o3},paddingLeft:{style:r.o3},paddingX:{style:r.o3},paddingY:{style:r.o3},paddingInline:{style:r.o3},paddingInlineStart:{style:r.o3},paddingInlineEnd:{style:r.o3},paddingBlock:{style:r.o3},paddingBlockStart:{style:r.o3},paddingBlockEnd:{style:r.o3},m:{style:r.e6},mt:{style:r.e6},mr:{style:r.e6},mb:{style:r.e6},ml:{style:r.e6},mx:{style:r.e6},my:{style:r.e6},margin:{style:r.e6},marginTop:{style:r.e6},marginRight:{style:r.e6},marginBottom:{style:r.e6},marginLeft:{style:r.e6},marginX:{style:r.e6},marginY:{style:r.e6},marginInline:{style:r.e6},marginInlineStart:{style:r.e6},marginInlineEnd:{style:r.e6},marginBlock:{style:r.e6},marginBlockStart:{style:r.e6},marginBlockEnd:{style:r.e6},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:k},rowGap:{style:I},columnGap:{style:_},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:T},maxWidth:{style:R},minWidth:{transform:T},height:{transform:T},maxHeight:{transform:T},minHeight:{transform:T},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},104:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(1122),i=n(8247),o=n(8529),a=n(1184),s=n(7416);const l=function(){function e(e,t,n,i){const s={[e]:t,theme:n},l=i[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const f=(0,o.DW)(n,u)||{};if(h)return h(s);return(0,a.k9)(s,t,(t=>{let n=(0,o.Jq)(f,d,t);return t===n&&"string"===typeof t&&(n=(0,o.Jq)(f,d,"".concat(e).concat("default"===t?"":(0,r.Z)(t)),t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:o,theme:l={}}=n||{};if(!o)return null;const c=null!=(r=l.unstable_sxConfig)?r:s.Z;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const o=(0,a.W8)(l.breakpoints),s=Object.keys(o);let u=o;return Object.keys(r).forEach((n=>{const o=(s=r[n],d=l,"function"===typeof s?s(d):s);var s,d;if(null!==o&&void 0!==o)if("object"===typeof o)if(c[n])u=(0,i.Z)(u,e(n,o,l,c));else{const e=(0,a.k9)({theme:l},o,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,o)?u=(0,i.Z)(u,e):u[n]=t({sx:o,theme:l})}else u=(0,i.Z)(u,e(n,o,l,c))})),(0,a.L7)(s,u)}return Array.isArray(o)?o.map(u):u(o)}}();l.filterProps=["sx"];const c=l},418:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(5080),i=n(9120);const o=(0,r.Z)();const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return(0,i.Z)(e)}},7078:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(5735);var i=n(418);function o(e){let{props:t,name:n,defaultTheme:o,themeId:a}=e,s=(0,i.Z)(o);a&&(s=s[a]||s);const l=function(e){const{theme:t,name:n,props:i}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,i):i}({theme:s,name:n,props:t});return l}},9120:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2791),i=n(2564);const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=r.useContext(i.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},5902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=e=>e,i=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},1122:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{Z:()=>r})},8949:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}n.d(t,{Z:()=>r})},2254:(e,t,n)=>{"use strict";function r(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}n.d(t,{Z:()=>r})},2466:(e,t,n)=>{"use strict";n.d(t,{P:()=>i,Z:()=>a});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function o(e){if(!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=o(e[n])})),t}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const s=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?s[r]=a(e[r],t[r],n):n.clone?s[r]=i(t[r])?o(t[r]):t[r]:s[r]=t[r])})),s}},6189:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:()=>r})},1217:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(5902);const i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o=i[t];return o?"".concat(n,"-").concat(o):"".concat(r.Z.generate(e),"-").concat(t)}},5878:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(1217);function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i={};return t.forEach((t=>{i[t]=(0,r.Z)(e,t,n)})),i}},4913:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:()=>r})},5202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(4913);function i(e){return(0,r.Z)(e).defaultView||window}},5735:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(7462);function i(e,t){const n=(0,r.Z)({},t);return Object.keys(e).forEach((o=>{if(o.toString().match(/^(components|slots)$/))n[o]=(0,r.Z)({},e[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const a=e[o]||{},s=t[o];n[o]={},s&&Object.keys(s)?a&&Object.keys(a)?(n[o]=(0,r.Z)({},s),Object.keys(a).forEach((e=>{n[o][e]=i(a[e],s[e])}))):n[o]=s:n[o]=a}else void 0===n[o]&&(n[o]=e[o])})),n}},2971:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:()=>r})},2876:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2791);const i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},7054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2791),i=n(2876);const o=function(e){const t=r.useRef(e);return(0,i.Z)((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current}},6117:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2791),i=n(2971);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,i.Z)(t,e)}))}),t)}},8252:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>s});var i=n(2791);let o=0;const a=(r||(r=n.t(i,2)))["useId".toString()];function s(e){if(void 0!==a){const t=a();return null!=e?e:t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect((()=>{null==t&&(o+=1,n("mui-".concat(o)))}),[t]),r}(e)}},2110:(e,t,n)=>{"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},746:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||x(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=x},8309:(e,t,n)=>{"use strict";e.exports=n(746)},4463:(e,t,n)=>{"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,j=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var Z=!1;function z(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case I:return"Profiler";case _:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,_e=null;function Ie(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),Se(e.stateNode,e.type,t))}}function Ee(e){ke?_e?_e.push(e):_e=[e]:ke=e}function Te(){if(ke){var e=ke,t=_e;if(_e=ke=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Re(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==ke||null!==_e)&&(Re(),Te())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){De=!1}function Me(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,je=null,Fe=!1,Ze=null,ze={onError:function(e){Le=!0,je=e}};function Be(e,t,n,r,i,o,a,s,l){Le=!1,je=null,Me.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ue(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return qe(i),e;if(a===r)return qe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,kt,_t,It,Et=!1,Tt=[],Ct=null,Rt=null,Pt=null,At=new Map,Nt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void It(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Zt(e,t,n){Ft(e)&&n.delete(t)}function zt(){Et=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Rt&&Ft(Rt)&&(Rt=null),null!==Pt&&Ft(Pt)&&(Pt=null),At.forEach(Zt),Nt.forEach(Zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Rt&&Bt(Rt,e),null!==Pt&&Bt(Pt,e),At.forEach(t),Nt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var Vt=w.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Ht(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Kt(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Rt=Lt(Rt,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return At.set(o,Lt(At.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,Lt(Nt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Qt(e,t,n,r))&&qr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=yi(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=j({},cn,{view:0,detail:0}),hn=on(dn),fn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),mn=on(j({},fn,{dataTransfer:0})),gn=on(j({},dn,{relatedTarget:0})),vn=on(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(j({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function In(){return _n}var En=j({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(En),Cn=on(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Pn=on(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(An),Dn=[9,13,27,32],On=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,jn=u&&(!On||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Zn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Gn(e){Fr(e,0)}function Qn(e){if(K(wi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];Wn(t,Kn,e,xe(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},_r={};function Ir(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return kr[e]=n[t];return e}u&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Rr=Ir("transitionend"),Pr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Or=Ar[Dr];Nr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Nr(Er,"onAnimationEnd"),Nr(Tr,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=je;Le=!1,je=null,Fe||(Fe=!0,Ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;jr(i,s,c),o=l}}}if(Fe)throw e=Ze,Fe=!1,Ze=null,e}function Zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=o,i=xe(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Er:case Tr:case Cr:l=vn;break;case Rr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ne(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:wi(l),f=null==c?s:wi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,yi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(a,s,l,u,!1),null!==c&&null!==d&&Gr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=$n;else if(qn(s))if(Yn)g=ar;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Un=!0)),0<(v=Hr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&zn(e,t)?(e=en(),Jt=Xt=Yt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Ne(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ne(n,o))&&a.unshift(Wr(n,l,s)):i||null!=(l=Ne(n,o))&&a.push(Wr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[fi]||null}var Si=[],ki=-1;function _i(e){return{current:e}}function Ii(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function Ei(e,t){ki++,Si[ki]=e.current,e.current=t}var Ti={},Ci=_i(Ti),Ri=_i(!1),Pi=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ii(Ri),Ii(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(o(168));Ei(Ci,t),Ei(Ri,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return j({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ci.current,Ei(Ci,e),Ei(Ri,Ri.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ri),Ii(Ci),Ei(Ci,e)):Ii(Ri),Ei(Ri,n)}var Fi=null,Zi=!1,zi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function Ui(){if(!zi&&null!==Fi){zi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Je,Ui),i}finally{bt=t,zi=!1}}return null}var Vi=[],qi=0,Wi=null,Hi=0,Ki=[],Gi=0,Qi=null,$i=1,Yi="";function Xi(e,t){Vi[qi++]=Hi,Vi[qi++]=Wi,Wi=e,Hi=t}function Ji(e,t,n){Ki[Gi++]=$i,Ki[Gi++]=Yi,Ki[Gi++]=Qi,Qi=e;var r=$i;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-at(t)+i|n<<i|r,Yi=o+e}else $i=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function to(e){for(;e===Wi;)Wi=Vi[--qi],Vi[qi]=null,Hi=Vi[--qi],Vi[qi]=null;for(;e===Qi;)Qi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null,$i=Ki[--Gi],Ki[Gi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:$i,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=_i(null),bo=null,wo=null,xo=null;function So(){xo=wo=bo=null}function ko(e){var t=yo.current;Ii(yo),e._currentValue=t}function _o(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Io(e,t){bo=e,xo=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var To=null;function Co(e){null===To?To=[e]:To.push(e)}function Ro(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Co(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ao=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,Co(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Ao=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=j({},d,h);break e;case 2:Ao=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);jl|=a,e.lanes=a,e.memoizedState=d}}function Zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var zo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Uo={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Oo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(rc(t,e,r,n),Lo(t,e,r))}};function Vo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function qo(e,t,n){var r=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(i=Ni(t)?Pi:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zo,No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Eo(o):(o=Ni(t)?Pi:Ci.current,i.context=Ai(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Uo.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===zo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qo(e){return(0,e._init)(e._payload)}function $o(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&Qo(o)===t.type)?((r=i(t,n.props)).ref=Ko(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ko(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case S:return(t=Zc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),io&&Xi(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Xi(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}function g(i,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return io&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Qo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Ko(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((o=Lc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Mc(a.type,a.key,a.props,null,r.mode,l)).ref=Ko(r,o,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Zc(a,r.mode,l)).return=r,r=o}return s(r);case N:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(M(a))return g(r,o,a,l);Go(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Yo=$o(!0),Xo=$o(!1),Jo={},ea=_i(Jo),ta=_i(Jo),na=_i(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(Ei(na,t),Ei(ta,e),Ei(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(ea),Ei(ea,t)}function oa(){Ii(ea),Ii(ta),Ii(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Ei(ta,e),Ei(ea,n))}function sa(e){ta.current===e&&(Ii(ea),Ii(ta))}var la=_i(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=w.ReactCurrentDispatcher,fa=w.ReactCurrentBatchConfig,pa=0,ma=null,ga=null,va=null,ya=!1,ba=!1,wa=0,xa=0;function Sa(){throw Error(o(321))}function ka(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function _a(e,t,n,r,i,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,va=ga=null,t.updateQueue=null,ha.current=cs,e=n(r,i)}while(ba)}if(ha.current=as,t=null!==ga&&null!==ga.next,pa=0,va=ga=ma=null,ya=!1,t)throw Error(o(300));return e}function Ia(){var e=0!==wa;return wa=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ma.memoizedState=va=e:va=va.next=e,va}function Ta(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===va?ma.memoizedState:va.next;if(null!==t)va=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===va?ma.memoizedState=va=e:va=va.next=e}return va}function Ca(e,t){return"function"===typeof t?t(e):t}function Ra(e){var t=Ta(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,ma.lanes|=d,jl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,jl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pa(e){var t=Ta(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Na(e,t){var n=ma,r=Ta(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,qa(Ma.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Za(9,Oa.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(o(349));0!==(30&pa)||Da(n,t,i)}return i}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oa(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&ja(e)}function Ma(e,t,n){return n((function(){La(t)&&ja(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function ja(e){var t=Po(e,1);null!==t&&rc(t,e,1,-1)}function Fa(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Za(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function za(){return Ta().memoizedState}function Ba(e,t,n,r){var i=Ea();ma.flags|=e,i.memoizedState=Za(1|t,n,void 0,void 0===r?null:r)}function Ua(e,t,n,r){var i=Ta();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&ka(r,a.deps))return void(i.memoizedState=Za(t,n,o,r))}ma.flags|=e,i.memoizedState=Za(1|t,n,o,r)}function Va(e,t){return Ba(8390656,8,e,t)}function qa(e,t){return Ua(2048,8,e,t)}function Wa(e,t){return Ua(4,2,e,t)}function Ha(e,t){return Ua(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4,4,Ka.bind(null,t,e),n)}function Qa(){}function $a(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ka(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ka(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,jl|=n,e.baseState=!0),t)}function Ja(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{bt=n,fa.transition=r}}function es(){return Ta().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ro(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Co(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ro(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Eo,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:Eo,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ea();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:Fa,useDebugValue:Qa,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Ja.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Ea();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pl)throw Error(o(349));0!==(30&pa)||Da(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Va(Ma.bind(null,r,a,e),[e]),r.flags|=2048,Za(9,Oa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=Pl.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=($i&~(1<<32-at($i)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Eo,useCallback:$a,useContext:Eo,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Ya,useReducer:Ra,useRef:za,useState:function(){return Ra(Ca)},useDebugValue:Qa,useDeferredValue:function(e){return Xa(Ta(),ga.memoizedState,e)},useTransition:function(){return[Ra(Ca)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Na,useId:es,unstable_isNewReconciler:!1},cs={readContext:Eo,useCallback:$a,useContext:Eo,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Ya,useReducer:Pa,useRef:za,useState:function(){return Pa(Ca)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ta();return null===ga?t.memoizedState=e:Xa(t,ga.memoizedState,e)},useTransition:function(){return[Pa(Ca)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Na,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),hs(0,t)},n}function ms(e,t,n){(n=Oo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oo(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function xs(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Yo(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return Io(t,i),r=_a(e,t,n,r,o,i),n=Ia(),null===e||ws?(io&&n&&eo(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function ks(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_s(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return Ts(e,t,n,r,i)}function Is(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ol,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ol,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ei(Ol,Dl),Dl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ei(Ol,Dl),Dl|=r;return xs(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var o=Ni(n)?Pi:Ci.current;return o=Ai(t,o),Io(t,i),n=_a(e,t,n,r,o,i),r=Ia(),null===e||ws?(io&&r&&eo(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Cs(e,t,n,r,i){if(Ni(n)){var o=!0;Li(t)}else o=!1;if(Io(t,i),null===t.stateNode)qs(e,t),qo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Eo(c):c=Ai(t,c=Ni(n)?Pi:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Wo(t,a,r,c),Ao=!1;var h=t.memoizedState;a.state=h,Fo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||Ri.current||Ao?("function"===typeof u&&(Bo(t,n,u,r),l=t.memoizedState),(s=Ao||Vo(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Do(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vo(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Eo(l):l=Ai(t,l=Ni(n)?Pi:Ci.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&Wo(t,a,r,l),Ao=!1,h=t.memoizedState,a.state=h,Fo(t,r,a,i);var p=t.memoizedState;s!==d||h!==p||Ri.current||Ao?("function"===typeof f&&(Bo(t,n,f,r),p=t.memoizedState),(c=Ao||Vo(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,o,i)}function Rs(e,t,n,r,i,o){Es(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),Ws(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,s,o)):xs(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ia(e,t.containerInfo)}function As(e,t,n,r,i){return po(),mo(i),t.flags|=256,xs(e,t,n,r),t.child}var Ns,Ds,Os,Ms,Ls={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ei(la,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=jc(l,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ls,e):Zs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Yo(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return zs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),ws||l){if(null!==(r=Pl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Po(e,i),rc(r,e,i,-1))}return gc(),zs(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Ki[Gi++]=$i,Ki[Gi++]=Yi,Ki[Gi++]=Qi,$i=e.id,Yi=e.overflow,Qi=t),t=Zs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Oc(r,s):(s=Lc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?js(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Zs(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&mo(r),Yo(t,e.child,null,n),(e=Zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_o(e.return,t,n)}function Us(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Us(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Us(t,!0,n,null,o);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Ni(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,oa(),Ii(Ri),Ii(Ci),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ds(e,t),Ks(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Zr("cancel",r),Zr("close",r);break;case"iframe":case"object":case"embed":Zr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Zr(Mr[i],r);break;case"source":Zr("error",r);break;case"img":case"image":case"link":Zr("error",r),Zr("load",r);break;case"details":Zr("toggle",r);break;case"input":$(r,a),Zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Zr("invalid",r);break;case"textarea":ie(r,a),Zr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Zr("scroll",r)}switch(n){case"input":H(r),J(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Zr("cancel",e),Zr("close",e),i=r;break;case"iframe":case"object":case"embed":Zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Zr(Mr[i],e);i=r;break;case"source":Zr("error",e),i=r;break;case"img":case"image":case"link":Zr("error",e),Zr("load",e),i=r;break;case"details":Zr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Zr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Zr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":H(e),J(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ii(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Ml&&(Ml=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return oa(),Ds(e,t),null===e&&Ur(t.stateNode.containerInfo),Ks(t),null;case 10:return ko(t.type._context),Ks(t),null;case 19:if(Ii(la),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Hs(a,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,Hs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Vl&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Ks(t),null}else 2*Ye()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=la.current,Ei(la,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Qs(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ii(Ri),Ii(Ci),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ii(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(la),null;case 4:return oa(),null;case 10:return ko(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Zr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Ys=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ys&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ic(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fl(e,t,n),Ys=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Rc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));pl(a,s,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ic(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Ic(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Ic(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ic(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":X(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){Ic(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ic(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Ic(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Ye())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||d,gl(t,e),Ys=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ic(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(h);continue}}null!==p?(p.return=f,Js=p):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Ic(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ic(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(o(161))}}catch(s){Ic(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Js=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$s;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=$s;var c=Ys;if($s=a,(Ys=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?kl(i):null!==l?(l.return=a,Js=l):kl(i);for(;null!==o;)Js=o,wl(o,t,n),o=o.sibling;Js=i,$s=s,Ys=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):xl(e)}}function xl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Zo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Zo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&ol(t)}catch(f){Ic(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function kl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Ic(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ic(t,i,l)}}var o=t.return;try{ol(t)}catch(l){Ic(t,o,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){Ic(t,a,l)}}}catch(l){Ic(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var _l,Il=Math.ceil,El=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Rl=0,Pl=null,Al=null,Nl=0,Dl=0,Ol=_i(0),Ml=0,Ll=null,jl=0,Fl=0,Zl=0,zl=null,Bl=null,Ul=0,Vl=1/0,ql=null,Wl=!1,Hl=null,Kl=null,Gl=!1,Ql=null,$l=0,Yl=0,Xl=null,Jl=-1,ec=0;function tc(){return 0!==(6&Rl)?Ye():-1!==Jl?Jl:Jl=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Nl?Nl&-Nl:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rc(e,t,n,r){if(50<Yl)throw Yl=0,Xl=null,Error(o(185));vt(e,n,r),0!==(2&Rl)&&e===Pl||(e===Pl&&(0===(2&Rl)&&(Fl|=n),4===Ml&&lc(e,Nl)),ic(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Vl=Ye()+500,Zi&&Ui()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===Pl?Nl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Zi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),ai((function(){0===(6&Rl)&&Ui()})),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,ec=0,0!==(6&Rl))throw Error(o(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Pl?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Rl;Rl|=2;var a=mc();for(Pl===e&&Nl===t||(ql=null,Vl=Ye()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}So(),El.current=a,Rl=i,null!==Al?t=0:(Pl=null,Nl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Ye()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,Bl,ql);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Ul+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Bl,ql),t);break}Sc(e,Bl,ql);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Il(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Bl,ql),r);break}Sc(e,Bl,ql);break;default:throw Error(o(329))}}}return ic(e,Ye()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&sc(t)),e}function sc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~Zl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Rl))throw Error(o(327));kc();var t=ht(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Bl,ql),ic(e,Ye()),null}function uc(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Vl=Ye()+500,Zi&&Ui())}}function dc(e){null!==Ql&&0===Ql.tag&&0===(6&Rl)&&kc();var t=Rl;Rl|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Rl=t))&&Ui()}}function hc(){Dl=Ol.current,Ii(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:oa(),Ii(Ri),Ii(Ci),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ii(la);break;case 10:ko(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pl=e,Al=e=Oc(e.current,null),Nl=Dl=t,Ml=0,Ll=null,Zl=Fl=jl=0,Bl=zl=null,null!==To){for(t=0;t<To.length;t++)if(null!==(r=(n=To[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}To=null}return e}function pc(e,t){for(;;){var n=Al;try{if(So(),ha.current=as,ya){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,va=ga=ma=null,ba=!1,wa=0,Tl.current=null,null===n||null===n.return){Ml=1,Ll=t,Al=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Nl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&gs(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gs(a,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),mo(us(c,l));break e}}a=c=us(c,l),4!==Ml&&(Ml=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,jo(a,ps(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,jo(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(w){t=w,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function mc(){var e=El.current;return El.current=as,null===e?as:e}function gc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Pl||0===(268435455&jl)&&0===(268435455&Fl)||lc(Pl,Nl)}function vc(e,t){var n=Rl;Rl|=2;var r=mc();for(Pl===e&&Nl===t||(ql=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(So(),Rl=n,El.current=r,null!==Al)throw Error(o(261));return Pl=null,Nl=0,Ml}function yc(){for(;null!==Al;)wc(Al)}function bc(){for(;null!==Al&&!Qe();)wc(Al)}function wc(e){var t=_l(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?xc(e):Al=t,Tl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Dl)))return void(Al=n)}else{if(null!==(n=Qs(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Ml=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Ml&&(Ml=5)}function Sc(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Ql);if(0!==(6&Rl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Pl&&(Al=Pl=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Pc(tt,(function(){return kc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var s=bt;bt=1;var l=Rl;Rl|=4,Tl.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){Ic(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),$e(),Rl=l,bt=s,Cl.transition=a}else e.current=n;if(Gl&&(Gl=!1,Ql=e,$l=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!==(1&$l)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===Xl?Yl++:(Yl=0,Xl=e):Yl=0,Ui()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function kc(){if(null!==Ql){var e=wt($l),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,$l=0,0!==(6&Rl))throw Error(o(331));var i=Rl;for(Rl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var f=(d=Js).sibling,p=d.return;if(al(d),d===u){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){Ic(l,l.return,S)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Rl=i,Ui(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function _c(e,t,n){e=Mo(e,t=ps(0,t=us(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Ic(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Mo(t,e=ms(t,e=us(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Nl&n)===n&&(4===Ml||3===Ml&&(130023424&Nl)===Nl&&500>Ye()-Ul?fc(e,0):Zl|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Po(e,t))&&(vt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Rc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Pc(e,t){return Ke(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Ac(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Lc(n.children,i,a,t);case _:s=8,i|=8;break;case I:return(e=Nc(12,n,t,2|i)).elementType=I,e.lanes=a,e;case R:return(e=Nc(13,n,t,i)).elementType=R,e.lanes=a,e;case P:return(e=Nc(19,n,t,i)).elementType=P,e.lanes=a,e;case D:return jc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case T:s=9;break e;case C:s=11;break e;case A:s=14;break e;case N:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Nc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Zc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,a,s,l){return e=new zc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Nc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Uc(e){if(!e)return Ti;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Mi(e,n,t)}return t}function Vc(e,t,n,r,i,o,a,s,l){return(e=Bc(n,r,!0,e,0,o,0,s,l)).context=Uc(null),n=e.current,(o=Oo(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,a))&&(rc(e,i,a,o),Lo(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),po();break;case 5:aa(t);break;case 1:Ni(t.type)&&Li(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ei(la,1&la.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ei(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return Ws(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,io&&0!==(1048576&t.flags)&&Ji(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);Io(t,n),i=_a(null,t,r,e,i,n);var a=Ia();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=Uo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Rs(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=ks(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Do(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=As(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ws(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Es(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yo(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ei(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ri.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Oo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),_o(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),_o(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Io(t,n),r=r(i=Eo(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),ks(e,t,r,i=vo(r.type,i),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),qs(e,t),t.tag=1,Ni(r)?(e=!0,Li(t)):e=!1,Io(t,n),qo(t,r,i),Ho(t,r,i,n),Rs(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Is(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wc(a);s.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}var a=Vc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Ur(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Ur(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(a)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Ye()),0===(6&Rl)&&(Vl=Ye()+500,Ui()))}break;case 13:dc((function(){var t=Po(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Po(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},_t=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));K(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Re=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Ee,Te,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:(e,t,n)=>{"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},7441:(e,t,n)=>{"use strict";n(1372)},6374:(e,t,n)=>{"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+C(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),R(a,t,i,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+C(s=e[c],c);l+=R(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=R(s=s.value,t,i,u=o+C(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},D={transition:null},O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:D,ReactCurrentOwner:k};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},2791:(e,t,n)=>{"use strict";e.exports=n(9117)},184:(e,t,n)=>{"use strict";e.exports=n(6374)},6813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,D(S);else{var t=r(u);null!==t&&O(x,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(E),E=-1),p=!0;var o=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!R());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&O(x,d.startTime-n),l=!1}return l}finally{h=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,_=!1,I=null,E=-1,T=5,C=-1;function R(){return!(t.unstable_now()-C<T)}function P(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?k():(_=!1,I=null)}}else _=!1}if("function"===typeof b)k=function(){b(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,N=A.port2;A.port1.onmessage=P,k=function(){N.postMessage(null)}}else k=function(){v(P,0)};function D(e){I=e,_||(_=!0,k())}function O(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,O(x,o-a))):(e.sortIndex=s,n(c,e),m||p||(m=!0,D(S))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5296:(e,t,n)=>{"use strict";e.exports=n(6813)},4836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},7462:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},3366:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:()=>r})},3733:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:()=>i});const i=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Bi,SDK_VERSION:()=>Ho,_DEFAULT_ENTRY_NAME:()=>Oo,_addComponent:()=>Fo,_addOrOverwriteComponent:()=>Zo,_apps:()=>Lo,_clearComponents:()=>Vo,_components:()=>jo,_getProvider:()=>Bo,_registerComponent:()=>zo,_removeServiceInstance:()=>Uo,deleteApp:()=>$o,getApp:()=>Go,getApps:()=>Qo,initializeApp:()=>Ko,onLog:()=>Xo,registerVersion:()=>Yo,setLogLevel:()=>Jo});var t,r=n(2791),i=n.t(r,2),o=n(1250);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const s="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:c=!1}=i,f=o.history,p=t.Pop,m=null,g=v();function v(){return(f.state||{idx:null}).idx}function y(){p=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:p,location:w.location,delta:n})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:h(e);return l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(a({},f.state,{idx:g}),""));let w={get action(){return p},get location(){return e(o,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(s,y),m=e,()=>{o.removeEventListener(s,y),m=null}},createHref:e=>n(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let i=d(w.location,e,n);r&&r(i,e),g=v()+1;let a=u(i,g),s=w.createHref(i);try{f.pushState(a,"",s)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;o.location.assign(s)}c&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,n){p=t.Replace;let i=d(w.location,e,n);r&&r(i,e),g=v();let o=u(i,g),a=w.createHref(i);f.replaceState(o,"",a),c&&m&&m({action:p,location:w.location,delta:0})},go:e=>f.go(e)};return w}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));const g=new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,i)=>{let o=[...n,i],s="string"===typeof e.id?e.id:o.join("-");if(l(!0!==e.index||!e.children,"Cannot specify children on an index route"),l(!r[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=a({},e,t(e),{id:s});return r[s]=n,n}{let n=a({},e,t(e),{id:s,children:void 0});return r[s]=n,e.children&&(n.children=v(e.children,t,o,r)),n}}))}function y(e,t,n){void 0===n&&(n="/");let r=N(("string"===typeof t?f(t):t).pathname||"/",n);if(null==r)return null;let i=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let a=0;null==o&&a<i.length;++a)o=R(i[a],A(r));return o}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(l(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=L([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),b(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:C(s,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=w(r.join("/")),s=[];return s.push(...a.map((e=>""===e?o:[o,e].join("/")))),i&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:\w+$/,S=3,k=2,_=1,I=10,E=-2,T=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=E),t&&(r+=k),n.filter((e=>!T(e))).reduce(((e,t)=>e+(x.test(t)?S:""===t?_:I)),r)}function R(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let e=n[a],s=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:L([i,c.pathname]),pathnameBase:j(L([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=L([i,c.pathnameBase]))}return o}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return c(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:o,pathnameBase:a,pattern:e}}function A(e){try{return decodeURI(e)}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=a({},e),l(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let o,s=""===e||""===i.pathname,c=s?"/":i.pathname;if(null==c)o=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}o="/"+e.join("/")}else{let e=t.length-1;if(c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:F(r),hash:Z(i)}}(i,o),d=c&&"/"!==c&&c.endsWith("/"),h=(s||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class z{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],V=new Set(U),q=["get",...U],W=new Set(q),H=new Set([301,302,303,307,308]),K=new Set([307,308]),G={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Q={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},$={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Y=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),J="remix-router-transitions";function ee(e){const n=e.window?e.window:"undefined"!==typeof window?window:void 0,r="undefined"!==typeof n&&"undefined"!==typeof n.document&&"undefined"!==typeof n.document.createElement,i=!r;let o;if(l(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;o=e=>({hasErrorBoundary:t(e)})}else o=X;let s,u={},h=v(e.routes,o,void 0,u),f=e.basename||"/",p=a({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),g=null,b=new Set,w=null,x=null,S=null,k=null!=e.hydrationData,_=y(h,e.history.location,f),I=null;if(null==_){let t=ve(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=ge(h);_=n,I={[r.id]:t}}let E,T,C=!_.some((e=>e.route.lazy))&&(!_.some((e=>e.route.loader))||null!=e.hydrationData),R={historyAction:e.history.action,location:e.history.location,matches:_,initialized:C,navigation:G,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||I,fetchers:new Map,blockers:new Map},P=t.Pop,A=!1,D=!1,O=new Map,M=null,L=!1,j=!1,F=[],Z=[],z=new Map,B=0,U=-1,V=new Map,q=new Set,W=new Map,H=new Map,ee=new Set,re=new Map,oe=new Map,ae=!1;function se(e,t){void 0===t&&(t={}),R=a({},R,e);let n=[],r=[];p.v7_fetcherPersist&&R.fetchers.forEach(((e,t)=>{"idle"===e.state&&(ee.has(t)?r.push(t):n.push(t))})),[...b].forEach((e=>e(R,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync}))),p.v7_fetcherPersist&&(n.forEach((e=>R.fetchers.delete(e))),r.forEach((e=>Me(e))))}function ue(n,r,i){var o,l;let c,{flushSync:u}=void 0===i?{}:i,d=null!=R.actionData&&null!=R.navigation.formMethod&&Ie(R.navigation.formMethod)&&"loading"===R.navigation.state&&!0!==(null==(o=n.state)?void 0:o._isRedirect);c=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:d?R.actionData:null;let f=r.loaderData?pe(R.loaderData,r.loaderData,r.matches||[],r.errors):R.loaderData,p=R.blockers;p.size>0&&(p=new Map(p),p.forEach(((e,t)=>p.set(t,$))));let m,g=!0===A||null!=R.navigation.formMethod&&Ie(R.navigation.formMethod)&&!0!==(null==(l=n.state)?void 0:l._isRedirect);if(s&&(h=s,s=void 0),L||P===t.Pop||(P===t.Push?e.history.push(n,n.state):P===t.Replace&&e.history.replace(n,n.state)),P===t.Pop){let e=O.get(R.location.pathname);e&&e.has(n.pathname)?m={currentLocation:R.location,nextLocation:n}:O.has(n.pathname)&&(m={currentLocation:n,nextLocation:R.location})}else if(D){let e=O.get(R.location.pathname);e?e.add(n.pathname):(e=new Set([n.pathname]),O.set(R.location.pathname,e)),m={currentLocation:R.location,nextLocation:n}}se(a({},r,{actionData:c,loaderData:f,historyAction:P,location:n,initialized:!0,navigation:G,revalidation:"idle",restoreScrollPosition:We(n,r.matches||R.matches),preventScrollReset:g,blockers:p}),{viewTransitionOpts:m,flushSync:!0===u}),P=t.Pop,A=!1,D=!1,L=!1,j=!1,F=[],Z=[]}async function de(n,r,i){T&&T.abort(),T=null,P=n,L=!0===(i&&i.startUninterruptedRevalidation),function(e,t){if(w&&S){let n=qe(e,t);w[n]=S()}}(R.location,R.matches),A=!0===(i&&i.preventScrollReset),D=!0===(i&&i.enableViewTransition);let l=s||h,c=i&&i.overrideNavigation,d=y(l,r,f),p=!0===(i&&i.flushSync);if(!d){let e=ve(404,{pathname:r.pathname}),{matches:t,route:n}=ge(l);return Ve(),void ue(r,{matches:t,loaderData:{},errors:{[n.id]:e}},{flushSync:p})}if(R.initialized&&!j&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(R.location,r)&&!(i&&i.submission&&Ie(i.submission.formMethod)))return void ue(r,{matches:d},{flushSync:p});T=new AbortController;let g,v,b=ce(e.history,r,T.signal,i&&i.submission);if(i&&i.pendingError)v={[me(d).route.id]:i.pendingError};else if(i&&i.submission&&Ie(i.submission.formMethod)){let e=await async function(e,n,r,i,a){void 0===a&&(a={});ke();let s,l=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(n,r);se({navigation:l},{flushSync:!0===a.flushSync});let c=Re(i,n);if(c.route.action||c.route.lazy){if(s=await le("action",e,c,i,u,o,f),e.signal.aborted)return{shortCircuited:!0}}else s={type:m.error,error:ve(405,{method:e.method,pathname:n.pathname,routeId:c.route.id})};if(Se(s)){let e;return e=a&&null!=a.replace?a.replace:s.location===R.location.pathname+R.location.search,await he(R,s,{submission:r,replace:e}),{shortCircuited:!0}}if(xe(s)){let e=me(i,c.route.id);return!0!==(a&&a.replace)&&(P=t.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:s.error}}}if(we(s))throw ve(400,{type:"defer-action"});return{pendingActionData:{[c.route.id]:s.data}}}(b,r,i.submission,d,{replace:i.replace,flushSync:p});if(e.shortCircuited)return;g=e.pendingActionData,v=e.pendingActionError,c=Ae(r,i.submission),p=!1,b=new Request(b.url,{signal:b.signal})}let{shortCircuited:x,loaderData:k,errors:_}=await async function(t,n,r,i,o,l,c,u,d,p){let m=i||Ae(n,o),g=o||l||Pe(m),v=s||h,[y,b]=ie(e.history,R,r,g,n,j,F,Z,ee,W,q,v,f,d,p);if(Ve((e=>!(r&&r.some((t=>t.route.id===e)))||y&&y.some((t=>t.route.id===e)))),U=++B,0===y.length&&0===b.length){let e=Fe();return ue(n,a({matches:r,loaderData:{},errors:p||null},d?{actionData:d}:{},e?{fetchers:new Map(R.fetchers)}:{}),{flushSync:u}),{shortCircuited:!0}}if(!L){b.forEach((e=>{let t=R.fetchers.get(e.key),n=Ne(void 0,t?t.data:void 0);R.fetchers.set(e.key,n)}));let e=d||R.actionData;se(a({navigation:m},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},b.length>0?{fetchers:new Map(R.fetchers)}:{}),{flushSync:u})}b.forEach((e=>{z.has(e.key)&&Le(e.key),e.controller&&z.set(e.key,e.controller)}));let w=()=>b.forEach((e=>Le(e.key)));T&&T.signal.addEventListener("abort",w);let{results:x,loaderResults:S,fetcherResults:k}=await be(R.matches,r,y,b,t);if(t.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",w);b.forEach((e=>z.delete(e.key)));let _=ye(x);if(_){if(_.idx>=y.length){let e=b[_.idx-y.length].key;q.add(e)}return await he(R,_.result,{replace:c}),{shortCircuited:!0}}let{loaderData:I,errors:E}=fe(R,r,y,S,p,b,k,re);re.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&re.delete(t)}))}));let C=Fe(),P=Ze(U),A=C||P||b.length>0;return a({loaderData:I,errors:E},A?{fetchers:new Map(R.fetchers)}:{})}(b,r,d,c,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,p,g,v);x||(T=null,ue(r,a({matches:d},g?{actionData:g}:{},{loaderData:k,errors:_})))}async function he(i,o,s){let{submission:c,fetcherSubmission:u,replace:h}=void 0===s?{}:s;o.revalidate&&(j=!0);let p=d(i.location,o.location,{_isRedirect:!0});if(l(p,"Expected a location on the redirect navigation"),r){let t=!1;if(o.reloadDocument)t=!0;else if(Y.test(o.location)){const r=e.history.createURL(o.location);t=r.origin!==n.location.origin||null==N(r.pathname,f)}if(t)return void(h?n.location.replace(o.location):n.location.assign(o.location))}T=null;let m=!0===h?t.Replace:t.Push,{formMethod:g,formAction:v,formEncType:y}=i.navigation;!c&&!u&&g&&v&&y&&(c=Pe(i.navigation));let b=c||u;if(K.has(o.status)&&b&&Ie(b.formMethod))await de(m,p,{submission:a({},b,{formAction:o.location}),preventScrollReset:A});else{let e=Ae(p,c);await de(m,p,{overrideNavigation:e,fetcherSubmission:u,preventScrollReset:A})}}async function be(t,n,r,i,a){let s=await Promise.all([...r.map((e=>le("loader",a,e,n,u,o,f))),...i.map((t=>{if(t.matches&&t.match&&t.controller)return le("loader",ce(e.history,t.path,t.controller.signal),t.match,t.matches,u,o,f);return{type:m.error,error:ve(404,{pathname:t.path})}}))]),l=s.slice(0,r.length),c=s.slice(r.length);return await Promise.all([Ee(t,r,l,l.map((()=>a.signal)),!1,R.loaderData),Ee(t,i.map((e=>e.match)),c,i.map((e=>e.controller?e.controller.signal:null)),!0)]),{results:s,loaderResults:l,fetcherResults:c}}function ke(){j=!0,F.push(...Ve()),W.forEach(((e,t)=>{z.has(t)&&(Z.push(t),Le(t))}))}function _e(e,t,n){void 0===n&&(n={}),R.fetchers.set(e,t),se({fetchers:new Map(R.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Ce(e,t,n,r){void 0===r&&(r={});let i=me(R.matches,t);Me(e),se({errors:{[i.route.id]:n},fetchers:new Map(R.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function Oe(e){return p.v7_fetcherPersist&&(H.set(e,(H.get(e)||0)+1),ee.has(e)&&ee.delete(e)),R.fetchers.get(e)||Q}function Me(e){let t=R.fetchers.get(e);!z.has(e)||t&&"loading"===t.state&&V.has(e)||Le(e),W.delete(e),V.delete(e),q.delete(e),ee.delete(e),R.fetchers.delete(e)}function Le(e){let t=z.get(e);l(t,"Expected fetch controller: "+e),t.abort(),z.delete(e)}function je(e){for(let t of e){let e=De(Oe(t).data);R.fetchers.set(t,e)}}function Fe(){let e=[],t=!1;for(let n of q){let r=R.fetchers.get(n);l(r,"Expected fetcher: "+n),"loading"===r.state&&(q.delete(n),e.push(n),t=!0)}return je(e),t}function Ze(e){let t=[];for(let[n,r]of V)if(r<e){let e=R.fetchers.get(n);l(e,"Expected fetcher: "+n),"loading"===e.state&&(Le(n),V.delete(n),t.push(n))}return je(t),t.length>0}function ze(e){R.blockers.delete(e),oe.delete(e)}function Be(e,t){let n=R.blockers.get(e)||$;l("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let r=new Map(R.blockers);r.set(e,t),se({blockers:r})}function Ue(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===oe.size)return;oe.size>1&&c(!1,"A router only supports one blocker at a time");let i=Array.from(oe.entries()),[o,a]=i[i.length-1],s=R.blockers.get(o);return s&&"proceeding"===s.state?void 0:a({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}function Ve(e){let t=[];return re.forEach(((n,r)=>{e&&!e(r)||(n.cancel(),t.push(r),re.delete(r))})),t}function qe(e,t){if(x){return x(e,t.map((e=>function(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,R.loaderData))))||e.key}return e.key}function We(e,t){if(w){let n=qe(e,t),r=w[n];if("number"===typeof r)return r}return null}return E={get basename(){return f},get state(){return R},get routes(){return h},get window(){return n},initialize:function(){if(g=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(ae)return void(ae=!1);c(0===oe.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let o=Ue({currentLocation:R.location,nextLocation:r,historyAction:n});return o&&null!=i?(ae=!0,e.history.go(-1*i),void Be(o,{state:"blocked",location:r,proceed(){Be(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){let e=new Map(R.blockers);e.set(o,$),se({blockers:e})}})):de(n,r)})),r){!function(e,t){try{let n=e.sessionStorage.getItem(J);if(n){let e=JSON.parse(n);for(let[n,r]of Object.entries(e||{}))r&&Array.isArray(r)&&t.set(n,new Set(r||[]))}}catch(n){}}(n,O);let e=()=>function(e,t){if(t.size>0){let r={};for(let[e,n]of t)r[e]=[...n];try{e.sessionStorage.setItem(J,JSON.stringify(r))}catch(n){c(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(n,O);n.addEventListener("pagehide",e),M=()=>n.removeEventListener("pagehide",e)}return R.initialized||de(t.Pop,R.location),E},subscribe:function(e){return b.add(e),()=>b.delete(e)},enableScrollRestoration:function(e,t,n){if(w=e,S=t,x=n||null,!k&&R.navigation===G){k=!0;let e=We(R.location,R.matches);null!=e&&se({restoreScrollPosition:e})}return()=>{w=null,S=null,x=null}},navigate:async function n(r,i){if("number"===typeof r)return void e.history.go(r);let o=te(R.location,R.matches,f,p.v7_prependBasename,r,null==i?void 0:i.fromRouteId,null==i?void 0:i.relative),{path:s,submission:l,error:c}=ne(p.v7_normalizeFormMethod,!1,o,i),u=R.location,h=d(R.location,s,i&&i.state);h=a({},h,e.history.encodeLocation(h));let m=i&&null!=i.replace?i.replace:void 0,g=t.Push;!0===m?g=t.Replace:!1===m||null!=l&&Ie(l.formMethod)&&l.formAction===R.location.pathname+R.location.search&&(g=t.Replace);let v=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,y=!0===(i&&i.unstable_flushSync),b=Ue({currentLocation:u,nextLocation:h,historyAction:g});if(!b)return await de(g,h,{submission:l,pendingError:c,preventScrollReset:v,replace:i&&i.replace,enableViewTransition:i&&i.unstable_viewTransition,flushSync:y});Be(b,{state:"blocked",location:h,proceed(){Be(b,{state:"proceeding",proceed:void 0,reset:void 0,location:h}),n(r,i)},reset(){let e=new Map(R.blockers);e.set(b,$),se({blockers:e})}})},fetch:function(t,n,r,a){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");z.has(t)&&Le(t);let c=!0===(a&&a.unstable_flushSync),d=s||h,m=te(R.location,R.matches,f,p.v7_prependBasename,r,n,null==a?void 0:a.relative),g=y(d,m,f);if(!g)return void Ce(t,n,ve(404,{pathname:m}),{flushSync:c});let{path:v,submission:b,error:w}=ne(p.v7_normalizeFormMethod,!0,m,a);if(w)return void Ce(t,n,w,{flushSync:c});let x=Re(g,v);A=!0===(a&&a.preventScrollReset),b&&Ie(b.formMethod)?async function(t,n,r,i,a,c,d){if(ke(),W.delete(t),!i.route.action&&!i.route.lazy){let e=ve(405,{method:d.formMethod,pathname:r,routeId:n});return void Ce(t,n,e,{flushSync:c})}let p=R.fetchers.get(t);_e(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(d,p),{flushSync:c});let m=new AbortController,g=ce(e.history,r,m.signal,d);z.set(t,m);let v=B,b=await le("action",g,i,a,u,o,f);if(g.signal.aborted)return void(z.get(t)===m&&z.delete(t));if(ee.has(t))return void _e(t,De(void 0));if(Se(b))return z.delete(t),U>v?void _e(t,De(void 0)):(q.add(t),_e(t,Ne(d)),he(R,b,{fetcherSubmission:d}));if(xe(b))return void Ce(t,n,b.error);if(we(b))throw ve(400,{type:"defer-action"});let w=R.navigation.location||R.location,x=ce(e.history,w,m.signal),S=s||h,k="idle"!==R.navigation.state?y(S,R.navigation.location,f):R.matches;l(k,"Didn't find any matches after fetcher action");let _=++B;V.set(t,_);let I=Ne(d,b.data);R.fetchers.set(t,I);let[E,C]=ie(e.history,R,k,d,w,j,F,Z,ee,W,q,S,f,{[i.route.id]:b.data},void 0);C.filter((e=>e.key!==t)).forEach((e=>{let t=e.key,n=R.fetchers.get(t),r=Ne(void 0,n?n.data:void 0);R.fetchers.set(t,r),z.has(t)&&Le(t),e.controller&&z.set(t,e.controller)})),se({fetchers:new Map(R.fetchers)});let A=()=>C.forEach((e=>Le(e.key)));m.signal.addEventListener("abort",A);let{results:N,loaderResults:D,fetcherResults:O}=await be(R.matches,k,E,C,x);if(m.signal.aborted)return;m.signal.removeEventListener("abort",A),V.delete(t),z.delete(t),C.forEach((e=>z.delete(e.key)));let M=ye(N);if(M){if(M.idx>=E.length){let e=C[M.idx-E.length].key;q.add(e)}return he(R,M.result)}let{loaderData:L,errors:H}=fe(R,R.matches,E,D,void 0,C,O,re);if(R.fetchers.has(t)){let e=De(b.data);R.fetchers.set(t,e)}Ze(_),"loading"===R.navigation.state&&_>U?(l(P,"Expected pending action"),T&&T.abort(),ue(R.navigation.location,{matches:k,loaderData:L,errors:H,fetchers:new Map(R.fetchers)})):(se({errors:H,loaderData:pe(R.loaderData,L,k,H),fetchers:new Map(R.fetchers)}),j=!1)}(t,n,v,x,g,c,b):(W.set(t,{routeId:n,path:v}),async function(t,n,r,i,a,s,c){let d=R.fetchers.get(t);_e(t,Ne(c,d?d.data:void 0),{flushSync:s});let h=new AbortController,p=ce(e.history,r,h.signal);z.set(t,h);let m=B,g=await le("loader",p,i,a,u,o,f);we(g)&&(g=await Te(g,p.signal,!0)||g);z.get(t)===h&&z.delete(t);if(p.signal.aborted)return;if(ee.has(t))return void _e(t,De(void 0));if(Se(g))return U>m?void _e(t,De(void 0)):(q.add(t),void await he(R,g));if(xe(g))return void Ce(t,n,g.error);l(!we(g),"Unhandled fetcher deferred data"),_e(t,De(g.data))}(t,n,v,x,g,c,b))},revalidate:function(){ke(),se({revalidation:"loading"}),"submitting"!==R.navigation.state&&("idle"!==R.navigation.state?de(P||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation}):de(R.historyAction,R.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Oe,deleteFetcher:function(e){if(p.v7_fetcherPersist){let t=(H.get(e)||0)-1;t<=0?(H.delete(e),ee.add(e)):H.set(e,t)}else Me(e);se({fetchers:new Map(R.fetchers)})},dispose:function(){g&&g(),M&&M(),b.clear(),T&&T.abort(),R.fetchers.forEach(((e,t)=>Me(t))),R.blockers.forEach(((e,t)=>ze(t)))},getBlocker:function(e,t){let n=R.blockers.get(e)||$;return oe.get(e)!==t&&oe.set(e,t),n},deleteBlocker:ze,_internalFetchControllers:z,_internalActiveDeferreds:re,_internalSetRoutes:function(e){u={},s=v(e,o,void 0,u)}},E}Symbol("deferred");function te(e,t,n,r,i,o,a){let s,l;if(o){s=[];for(let e of t)if(s.push(e),e.route.id===o){l=e;break}}else s=t,l=t[t.length-1];let c=M(i||".",O(s).map((e=>e.pathnameBase)),N(e.pathname,n)||e.pathname,"path"===a);return null==i&&(c.search=e.search,c.hash=e.hash),null!=i&&""!==i&&"."!==i||!l||!l.route.index||Ce(c.search)||(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(c.pathname="/"===c.pathname?n:L([n,c.pathname])),h(c)}function ne(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!_e(r.formMethod))return{path:n,error:ve(405,{method:r.formMethod})};let i,o,a=()=>({path:n,error:ve(400,{type:"invalid-body"})}),s=r.formMethod||"get",c=e?s.toUpperCase():s.toLowerCase(),u=be(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!Ie(c))return a();let e="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce(((e,t)=>{let[n,r]=t;return""+e+n+"="+r+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===r.formEncType){if(!Ie(c))return a();try{let e="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:c,formAction:u,formEncType:r.formEncType,formData:void 0,json:e,text:void 0}}}catch(m){return a()}}}if(l("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=ue(r.formData),o=r.formData;else if(r.body instanceof FormData)i=ue(r.body),o=r.body;else if(r.body instanceof URLSearchParams)i=r.body,o=de(i);else if(null==r.body)i=new URLSearchParams,o=new FormData;else try{i=new URLSearchParams(r.body),o=de(i)}catch(m){return a()}let d={formMethod:c,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:o,json:void 0,text:void 0};if(Ie(d.formMethod))return{path:n,submission:d};let p=f(n);return t&&p.search&&Ce(p.search)&&i.append("index",""),p.search="?"+i,{path:h(p),submission:d}}function re(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function ie(e,t,n,r,i,o,s,l,c,u,d,h,f,p,m){let g=m?Object.values(m)[0]:p?Object.values(p)[0]:void 0,v=e.createURL(t.location),b=e.createURL(i),w=m?Object.keys(m)[0]:void 0,x=re(n,w).filter(((e,n)=>{if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||s.some((t=>t===e.route.id)))return!0;let i=t.matches[n],l=e;return ae(e,a({currentUrl:v,currentParams:i.params,nextUrl:b,nextParams:l.params},r,{actionResult:g,defaultShouldRevalidate:o||v.pathname+v.search===b.pathname+b.search||v.search!==b.search||oe(i,l)}))})),S=[];return u.forEach(((e,i)=>{if(!n.some((t=>t.route.id===e.routeId))||c.has(i))return;let s=y(h,e.path,f);if(!s)return void S.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let u=t.fetchers.get(i),p=Re(s,e.path),m=!1;m=!d.has(i)&&(!!l.includes(i)||(u&&"idle"!==u.state&&void 0===u.data?o:ae(p,a({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:o})))),m&&S.push({key:i,routeId:e.routeId,path:e.path,matches:s,match:p,controller:new AbortController})})),[x,S]}function oe(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ae(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}async function se(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];l(i,"No route found in manifest");let o={};for(let a in r){let e=void 0!==i[a]&&"hasErrorBoundary"!==a;c(!e,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+a+'" will be ignored.'),e||g.has(a)||(o[a]=r[a])}Object.assign(i,o),Object.assign(i,a({},t(i),{lazy:void 0}))}async function le(e,t,n,r,i,o,a,s){let c,u,d;void 0===s&&(s={});let h=e=>{let r,i=new Promise(((e,t)=>r=t));return d=()=>r(),t.signal.addEventListener("abort",d),Promise.race([e({request:t,params:n.params,context:s.requestContext}),i])};try{let r=n.route[e];if(n.route.lazy)if(r){let e,t=await Promise.all([h(r).catch((t=>{e=t})),se(n.route,o,i)]);if(e)throw e;u=t[0]}else{if(await se(n.route,o,i),r=n.route[e],!r){if("action"===e){let e=new URL(t.url),r=e.pathname+e.search;throw ve(405,{method:t.method,pathname:r,routeId:n.route.id})}return{type:m.data,data:void 0}}u=await h(r)}else{if(!r){let e=new URL(t.url);throw ve(404,{pathname:e.pathname+e.search})}u=await h(r)}l(void 0!==u,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(g){c=m.error,u=g}finally{d&&t.signal.removeEventListener("abort",d)}if(ke(u)){let e,i=u.status;if(H.has(i)){let e=u.headers.get("Location");if(l(e,"Redirects returned/thrown from loaders/actions must have a Location header"),Y.test(e)){if(!s.isStaticRequest){let n=new URL(t.url),r=e.startsWith("//")?new URL(n.protocol+e):new URL(e),i=null!=N(r.pathname,a);r.origin===n.origin&&i&&(e=r.pathname+r.search+r.hash)}}else e=te(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,e);if(s.isStaticRequest)throw u.headers.set("Location",e),u;return{type:m.redirect,status:i,location:e,revalidate:null!==u.headers.get("X-Remix-Revalidate"),reloadDocument:null!==u.headers.get("X-Remix-Reload-Document")}}if(s.isRouteRequest){throw{type:c===m.error?m.error:m.data,response:u}}let o=u.headers.get("Content-Type");return e=o&&/\bapplication\/json\b/.test(o)?await u.json():await u.text(),c===m.error?{type:c,error:new z(i,u.statusText,e),headers:u.headers}:{type:m.data,data:e,statusCode:u.status,headers:u.headers}}return c===m.error?{type:c,error:u}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(u)?{type:m.deferred,deferredData:u,statusCode:null==(f=u.init)?void 0:f.status,headers:(null==(p=u.init)?void 0:p.headers)&&new Headers(u.init.headers)}:{type:m.data,data:u};var f,p}function ce(e,t,n,r){let i=e.createURL(be(t)).toString(),o={signal:n};if(r&&Ie(r.formMethod)){let{formMethod:e,formEncType:t}=r;o.method=e.toUpperCase(),"application/json"===t?(o.headers=new Headers({"Content-Type":t}),o.body=JSON.stringify(r.json)):"text/plain"===t?o.body=r.text:"application/x-www-form-urlencoded"===t&&r.formData?o.body=ue(r.formData):o.body=r.formData}return new Request(i,o)}function ue(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,"string"===typeof r?r:r.name);return t}function de(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function he(e,t,n,r,i){let o,a={},s=null,c=!1,u={};return n.forEach(((n,d)=>{let h=t[d].route.id;if(l(!Se(n),"Cannot handle redirect results in processLoaderData"),xe(n)){let t=me(e,h),i=n.error;r&&(i=Object.values(r)[0],r=void 0),s=s||{},null==s[t.route.id]&&(s[t.route.id]=i),a[h]=void 0,c||(c=!0,o=B(n.error)?n.error.status:500),n.headers&&(u[h]=n.headers)}else we(n)?(i.set(h,n.deferredData),a[h]=n.deferredData.data):a[h]=n.data,null==n.statusCode||200===n.statusCode||c||(o=n.statusCode),n.headers&&(u[h]=n.headers)})),r&&(s=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:u}}function fe(e,t,n,r,i,o,s,c){let{loaderData:u,errors:d}=he(t,n,r,i,c);for(let h=0;h<o.length;h++){let{key:t,match:n,controller:r}=o[h];l(void 0!==s&&void 0!==s[h],"Did not find corresponding fetcher result");let i=s[h];if(!r||!r.signal.aborted)if(xe(i)){let r=me(e.matches,null==n?void 0:n.route.id);d&&d[r.route.id]||(d=a({},d,{[r.route.id]:i.error})),e.fetchers.delete(t)}else if(Se(i))l(!1,"Unhandled fetcher revalidation redirect");else if(we(i))l(!1,"Unhandled fetcher deferred data");else{let n=De(i.data);e.fetchers.set(t,n)}}return{loaderData:u,errors:d}}function pe(e,t,n,r){let i=a({},t);for(let o of n){let n=o.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&o.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function me(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function ge(e){let t=1===e.length?e[0]:e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ve(e,t){let{pathname:n,routeId:r,method:i,type:o}=void 0===t?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return 400===e?(a="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===o?s="defer() is not supported in actions":"invalid-body"===o&&(s="Unable to encode submission body")):403===e?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):404===e?(a="Not Found",s='No route matches URL "'+n+'"'):405===e&&(a="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new z(e||500,a,new Error(s),!0)}function ye(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Se(n))return{result:n,idx:t}}}function be(e){return h(a({},"string"===typeof e?f(e):e,{hash:""}))}function we(e){return e.type===m.deferred}function xe(e){return e.type===m.error}function Se(e){return(e&&e.type)===m.redirect}function ke(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function _e(e){return W.has(e.toLowerCase())}function Ie(e){return V.has(e.toLowerCase())}async function Ee(e,t,n,r,i,o){for(let a=0;a<n.length;a++){let s=n[a],c=t[a];if(!c)continue;let u=e.find((e=>e.route.id===c.route.id)),d=null!=u&&!oe(u,c)&&void 0!==(o&&o[c.route.id]);if(we(s)&&(i||d)){let e=r[a];l(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await Te(s,e,i).then((e=>{e&&(n[a]=e||n[a])}))}}}async function Te(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:m.data,data:e.deferredData.unwrappedData}}catch(r){return{type:m.error,error:r}}return{type:m.data,data:e.deferredData.data}}}function Ce(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function Re(e,t){let n="string"===typeof t?f(t).search:t.search;if(e[e.length-1].route.index&&Ce(n||""))return e[e.length-1];let r=O(e);return r[r.length-1]}function Pe(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=o?{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0}:void 0!==a?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}:void 0}function Ae(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ne(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function De(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe.apply(this,arguments)}const Me=r.createContext(null);const Le=r.createContext(null);const je=r.createContext(null);const Fe=r.createContext(null);const Ze=r.createContext({outlet:null,matches:[],isDataRoute:!1});const ze=r.createContext(null);function Be(){return null!=r.useContext(Fe)}function Ue(){return Be()||l(!1),r.useContext(Fe).location}function Ve(e){r.useContext(je).static||r.useLayoutEffect(e)}function qe(){let{isDataRoute:e}=r.useContext(Ze);return e?function(){let{router:e}=tt(Je.UseNavigateStable),t=rt(et.UseNavigateStable),n=r.useRef(!1);Ve((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Oe({fromRouteId:t},i)))}),[e,t]);return i}():function(){Be()||l(!1);let e=r.useContext(Me),{basename:t,navigator:n}=r.useContext(je),{matches:i}=r.useContext(Ze),{pathname:o}=Ue(),a=JSON.stringify(O(i).map((e=>e.pathnameBase))),s=r.useRef(!1);return Ve((()=>{s.current=!0})),r.useCallback((function(r,i){if(void 0===i&&(i={}),!s.current)return;if("number"===typeof r)return void n.go(r);let l=M(r,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:L([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)}),[t,n,a,o,e])}()}const We=r.createContext(null);function He(e,t){let{relative:n}=void 0===t?{}:t,{matches:i}=r.useContext(Ze),{pathname:o}=Ue(),a=JSON.stringify(O(i).map((e=>e.pathnameBase)));return r.useMemo((()=>M(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function Ke(e,n,i){Be()||l(!1);let{navigator:o}=r.useContext(je),{matches:a}=r.useContext(Ze),s=a[a.length-1],c=s?s.params:{},u=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let d,h=Ue();if(n){var p;let e="string"===typeof n?f(n):n;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||l(!1),d=e}else d=h;let m=d.pathname||"/",g=y(e,{pathname:"/"===u?m:m.slice(u.length)||"/"});let v=Xe(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:L([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:L([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i);return n&&v?r.createElement(Fe.Provider,{value:{location:Oe({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},v):v}function Ge(){let e=function(){var e;let t=r.useContext(ze),n=nt(et.UseRouteError),i=rt(et.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:o},n):null,null)}const Qe=r.createElement(Ge,null);class $e extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?r.createElement(Ze.Provider,{value:this.props.routeContext},r.createElement(ze.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ye(e){let{routeContext:t,match:n,children:i}=e,o=r.useContext(Me);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Ze.Provider,{value:t},i)}function Xe(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,s=null==(i=n)?void 0:i.errors;if(null!=s){let e=a.findIndex((e=>e.route.id&&(null==s?void 0:s[e.route.id])));e>=0||l(!1),a=a.slice(0,Math.min(a.length,e+1))}return a.reduceRight(((e,i,o)=>{let l=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Qe);let u=t.concat(a.slice(0,o+1)),d=()=>{let t;return t=l?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Ye,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?r.createElement($e,{location:n.location,revalidation:n.revalidation,component:c,error:l,children:d(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):d()}),null)}var Je=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Je||{}),et=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(et||{});function tt(e){let t=r.useContext(Me);return t||l(!1),t}function nt(e){let t=r.useContext(Le);return t||l(!1),t}function rt(e){let t=function(e){let t=r.useContext(Ze);return t||l(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}i.startTransition;function it(e){let{to:t,replace:n,state:i,relative:o}=e;Be()||l(!1);let{matches:a}=r.useContext(Ze),{pathname:s}=Ue(),c=qe(),u=M(t,O(a).map((e=>e.pathnameBase)),s,"path"===o),d=JSON.stringify(u);return r.useEffect((()=>c(JSON.parse(d),{replace:n,state:i,relative:o})),[c,d,o,n,i]),null}function ot(e){return function(e){let t=r.useContext(Ze).outlet;return t?r.createElement(We.Provider,{value:e},t):t}(e.context)}function at(e){let{basename:n="/",children:i=null,location:o,navigationType:a=t.Pop,navigator:s,static:c=!1}=e;Be()&&l(!1);let u=n.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:u,navigator:s,static:c})),[u,s,c]);"string"===typeof o&&(o=f(o));let{pathname:h="/",search:p="",hash:m="",state:g=null,key:v="default"}=o,y=r.useMemo((()=>{let e=N(h,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:v},navigationType:a}}),[u,h,p,m,g,v,a]);return null==y?null:r.createElement(je.Provider,{value:d},r.createElement(Fe.Provider,{children:i,value:y}))}new Promise((()=>{}));r.Component;function st(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:r.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:r.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}var lt=n(4164),ct=n.t(lt,2);function ut(){return ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(this,arguments)}function dt(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ht=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function ft(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=ut({},t,{errors:pt(t.errors)})),t}function pt(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,o]of t)if(o&&"RouteErrorResponse"===o.__type)n[i]=new z(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){if(o.__subType){let e=window[o.__subType];if("function"===typeof e)try{let t=new e(o.message);t.stack="",n[i]=t}catch(r){}}if(null==n[i]){let e=new Error(o.message);e.stack="",n[i]=e}}else n[i]=o;return n}const mt=r.createContext({isTransitioning:!1});const gt=r.createContext(new Map);const vt=i.startTransition,yt=ct.flushSync;function bt(e){yt?yt(e):e()}class wt{constructor(){this.status="pending",this.promise=new Promise(((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}}))}}function xt(e){let{fallbackElement:t,router:n,future:i}=e,[o,a]=r.useState(n.state),[s,l]=r.useState(),[c,u]=r.useState({isTransitioning:!1}),[d,h]=r.useState(),[f,p]=r.useState(),[m,g]=r.useState(),v=r.useRef(new Map),{v7_startTransition:y}=i||{},b=r.useCallback((e=>{y?function(e){vt?vt(e):e()}(e):e()}),[y]),w=r.useCallback(((e,t)=>{let{deletedFetchers:r,unstable_flushSync:i,unstable_viewTransitionOpts:o}=t;r.forEach((e=>v.current.delete(e))),e.fetchers.forEach(((e,t)=>{void 0!==e.data&&v.current.set(t,e.data)}));let s=null==n.window||"function"!==typeof n.window.document.startViewTransition;if(o&&!s){if(i){bt((()=>{f&&(d&&d.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:o.currentLocation,nextLocation:o.nextLocation})}));let t=n.window.document.startViewTransition((()=>{bt((()=>a(e)))}));return t.finished.finally((()=>{bt((()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})}))})),void bt((()=>p(t)))}f?(d&&d.resolve(),f.skipTransition(),g({state:e,currentLocation:o.currentLocation,nextLocation:o.nextLocation})):(l(e),u({isTransitioning:!0,flushSync:!1,currentLocation:o.currentLocation,nextLocation:o.nextLocation}))}else i?bt((()=>a(e))):b((()=>a(e)))}),[n.window,f,d,v,b]);r.useLayoutEffect((()=>n.subscribe(w)),[n,w]),r.useEffect((()=>{c.isTransitioning&&!c.flushSync&&h(new wt)}),[c]),r.useEffect((()=>{if(d&&s&&n.window){let e=s,t=d.promise,r=n.window.document.startViewTransition((async()=>{b((()=>a(e))),await t}));r.finished.finally((()=>{h(void 0),p(void 0),l(void 0),u({isTransitioning:!1})})),p(r)}}),[b,s,d,n.window]),r.useEffect((()=>{d&&s&&o.location.key===s.location.key&&d.resolve()}),[d,f,o.location,s]),r.useEffect((()=>{!c.isTransitioning&&m&&(l(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))}),[c.isTransitioning,m]);let x=r.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),S=n.basename||"/",k=r.useMemo((()=>({router:n,navigator:x,static:!1,basename:S})),[n,x,S]);return r.createElement(r.Fragment,null,r.createElement(Me.Provider,{value:k},r.createElement(Le.Provider,{value:o},r.createElement(gt.Provider,{value:v.current},r.createElement(mt.Provider,{value:c},r.createElement(at,{basename:S,location:o.location,navigationType:o.historyAction,navigator:x},o.initialized?r.createElement(St,{routes:n.routes,state:o}):t))))),null)}function St(e){let{routes:t,state:n}=e;return Ke(t,void 0,n)}const kt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,_t=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,It=r.forwardRef((function(e,t){let n,{onClick:i,relative:o,reloadDocument:a,replace:s,state:c,target:u,to:d,preventScrollReset:f,unstable_viewTransition:p}=e,m=dt(e,ht),{basename:g}=r.useContext(je),v=!1;if("string"===typeof d&&_t.test(d)&&(n=d,kt))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=N(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(w){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Be()||l(!1);let{basename:i,navigator:o}=r.useContext(je),{hash:a,pathname:s,search:c}=He(e,{relative:n}),u=s;return"/"!==i&&(u="/"===s?i:L([i,s])),o.createHref({pathname:u,search:c,hash:a})}(d,{relative:o}),b=function(e,t){let{target:n,replace:i,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:l}=void 0===t?{}:t,c=qe(),u=Ue(),d=He(e,{relative:s});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:h(u)===h(d);c(e,{replace:n,state:o,preventScrollReset:a,relative:s,unstable_viewTransition:l})}}),[u,c,d,i,o,n,e,a,s,l])}(d,{replace:s,state:c,target:u,preventScrollReset:f,relative:o,unstable_viewTransition:p});return r.createElement("a",ut({},m,{href:n||y,onClick:v||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var Et,Tt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Et||(Et={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Tt||(Tt={}));var Ct=n(3366),Rt=n(7462),Pt=n(3733),At=n(1122),Nt=n(1217),Dt=n(4419),Ot=n(7078);const Mt=(0,n(4046).ZP)();var Lt=n(5080),jt=n(184);const Ft=["className","component","disableGutters","fixed","maxWidth","classes"],Zt=(0,Lt.Z)(),zt=Mt("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,At.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),Bt=e=>(0,Ot.Z)({props:e,name:"MuiContainer",defaultTheme:Zt});var Ut=n(4036),Vt=n(6934),qt=n(1402);const Wt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=zt,useThemeProps:n=Bt,componentName:i="MuiContainer"}=e,o=t((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(i).concat(t.breakpoints.unit)}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})})),a=r.forwardRef((function(e,t){const r=n(e),{className:a,component:s="div",disableGutters:l=!1,fixed:c=!1,maxWidth:u="lg"}=r,d=(0,Ct.Z)(r,Ft),h=(0,Rt.Z)({},r,{component:s,disableGutters:l,fixed:c,maxWidth:u}),f=((e,t)=>{const{classes:n,fixed:r,disableGutters:i,maxWidth:o}=e,a={root:["root",o&&"maxWidth".concat((0,At.Z)(String(o))),r&&"fixed",i&&"disableGutters"]};return(0,Dt.Z)(a,(e=>(0,Nt.Z)(t,e)),n)})(h,i);return(0,jt.jsx)(o,(0,Rt.Z)({as:s,ownerState:h,className:(0,Pt.Z)(f.root,a),ref:t},d))}));return a}({createStyledComponent:(0,Vt.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,Ut.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,qt.Z)({props:e,name:"MuiContainer"})}),Ht=Wt;var Kt=n(2421),Gt=n(104),Qt=n(2466),$t=n(7416);const Yt=["sx"],Xt=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:$t.Z;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function Jt(e){const{sx:t}=e,n=(0,Ct.Z)(e,Yt),{systemProps:r,otherProps:i}=Xt(n);let o;return o=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,Qt.P)(e)?(0,Rt.Z)({},r,e):r}:(0,Rt.Z)({},r,t),(0,Rt.Z)({},i,{sx:o})}var en=n(418);const tn=["className","component"];var nn=n(5902),rn=n(1979),on=n(988),an=n(5878);const sn=(0,an.Z)("MuiBox",["root"]),ln=(0,rn.Z)(),cn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:i="MuiBox-root",generateClassName:o}=e,a=(0,Kt.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(Gt.Z);return r.forwardRef((function(e,r){const s=(0,en.Z)(n),l=Jt(e),{className:c,component:u="div"}=l,d=(0,Ct.Z)(l,tn);return(0,jt.jsx)(a,(0,Rt.Z)({as:u,ref:r,className:(0,Pt.Z)(c,o?o(i):i),theme:t&&s[t]||s},d))}))}({themeId:on.Z,defaultTheme:ln,defaultClassName:sn.root,generateClassName:nn.Z.generate}),un=cn;function dn(e){return(0,Nt.Z)("MuiTypography",e)}(0,an.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const hn=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],fn=(0,Vt.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,Ut.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),pn={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},mn={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},gn=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiTypography"}),r=(e=>mn[e]||e)(n.color),i=Jt((0,Rt.Z)({},n,{color:r})),{align:o="inherit",className:a,component:s,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=pn}=i,f=(0,Ct.Z)(i,hn),p=(0,Rt.Z)({},i,{align:o,color:r,className:a,component:s,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h}),m=s||(u?"p":h[d]||pn[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:a}=e,s={root:["root",o,"inherit"!==e.align&&"align".concat((0,Ut.Z)(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,Dt.Z)(s,dn,a)})(p);return(0,jt.jsx)(fn,(0,Rt.Z)({as:m,ref:t,ownerState:p,className:(0,Pt.Z)(g.root,a)},f))})),vn=gn;var yn=n(2564),bn=n(5438),wn=n(2561),xn=n(9140),Sn=(n(3361),n(2110),(0,yn.w)((function(e,t){var n=e.styles,i=(0,xn.O)([n],void 0,r.useContext(yn.T));if(!yn.i){for(var o,a=i.name,s=i.styles,l=i.next;void 0!==l;)a+=" "+l.name,s+=l.styles,l=l.next;var c=!0===t.compat,u=t.insert("",{name:a,styles:s},t.sheet,c);return c?null:r.createElement("style",((o={})["data-emotion"]=t.key+"-global "+a,o.dangerouslySetInnerHTML={__html:u},o.nonce=t.sheet.nonce,o))}var d=r.useRef();return(0,wn.j)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),d.current=[n,r],function(){n.flush()}}),[t]),(0,wn.j)((function(){var e=d.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&(0,bn.My)(t,i.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",i,n,!1)}}),[t,i.name]),null})));function kn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,xn.O)(t)}var _n=function(){var e=kn.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function In(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,jt.jsx)(Sn,{styles:r})}const En=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=(0,en.Z)(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,jt.jsx)(In,{styles:o})};var Tn=n(6482);const Cn=function(e){return(0,jt.jsx)(En,(0,Rt.Z)({},e,{defaultTheme:Tn.Z,themeId:on.Z}))},Rn=(e,t)=>(0,Rt.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),Pn=e=>(0,Rt.Z)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const An=function(e){const t=(0,qt.Z)({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:i=!1}=t;return(0,jt.jsxs)(r.Fragment,{children:[(0,jt.jsx)(Cn,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[n,i]=t;var o;r[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(o=i.palette)?void 0:o.mode}}));let i=(0,Rt.Z)({html:Rn(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,Rt.Z)({margin:0},Pn(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const o=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return o&&(i=[i,o]),i}(e,i)}),n]})};const Nn=r.createContext(null);function Dn(){return r.useContext(Nn)}const On="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const Mn=function(e){const{children:t,theme:n}=e,i=Dn(),o=r.useMemo((()=>{const e=null===i?n:function(e,t){if("function"===typeof t)return t(e);return(0,Rt.Z)({},e,t)}(i,n);return null!=e&&(e[On]=null!==i),e}),[n,i]);return(0,jt.jsx)(Nn.Provider,{value:o,children:t})};var Ln=n(9120);const jn={};function Fn(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return r.useMemo((()=>{const r=e&&t[e]||t;if("function"===typeof n){const o=n(r),a=e?(0,Rt.Z)({},t,{[e]:o}):o;return i?()=>a:a}return e?(0,Rt.Z)({},t,{[e]:n}):(0,Rt.Z)({},t,n)}),[e,t,n,i])}const Zn=function(e){const{children:t,theme:n,themeId:r}=e,i=(0,Ln.Z)(jn),o=Dn()||jn,a=Fn(r,i,n),s=Fn(r,o,n,!0);return(0,jt.jsx)(Mn,{theme:s,children:(0,jt.jsx)(yn.T.Provider,{value:a,children:t})})},zn=["theme"];function Bn(e){let{theme:t}=e,n=(0,Ct.Z)(e,zn);const r=t[on.Z];return(0,jt.jsx)(Zn,(0,Rt.Z)({},n,{themeId:r?on.Z:void 0,theme:r||t}))}var Un=n(1184);function Vn(){const e=(0,en.Z)(Tn.Z);return e[on.Z]||e}const qn=r.createContext();function Wn(e){return(0,Nt.Z)("MuiGrid",e)}const Hn=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Kn=(0,an.Z)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...Hn.map((e=>"grid-xs-".concat(e))),...Hn.map((e=>"grid-sm-".concat(e))),...Hn.map((e=>"grid-md-".concat(e))),...Hn.map((e=>"grid-lg-".concat(e))),...Hn.map((e=>"grid-xl-".concat(e)))]),Gn=Kn,Qn=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function $n(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function Yn(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const i=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return i.slice(0,i.indexOf(r))}const Xn=(0,Vt.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:a,wrap:s,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach((t=>{const i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(a,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...u,"row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==s&&t["wrap-xs-".concat(String(s))],...d]}})((e=>{let{ownerState:t}=e;return(0,Rt.Z)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,Un.P$)({values:n.direction,breakpoints:t.breakpoints.values});return(0,Un.k9)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(Gn.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,Un.P$)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=Yn({breakpoints:t.breakpoints.values,values:e})),o=(0,Un.k9)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{marginTop:"-".concat($n(o)),["& > .".concat(Gn.item)]:{paddingTop:$n(o)}}:null!=(i=n)&&i.includes(r)?{}:{marginTop:0,["& > .".concat(Gn.item)]:{paddingTop:0}}}))}return o}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,Un.P$)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=Yn({breakpoints:t.breakpoints.values,values:e})),o=(0,Un.k9)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{width:"calc(100% + ".concat($n(o),")"),marginLeft:"-".concat($n(o)),["& > .".concat(Gn.item)]:{paddingLeft:$n(o)}}:null!=(i=n)&&i.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(Gn.item)]:{paddingLeft:0}}}))}return o}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,i)=>{let o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const a=(0,Un.P$)({values:r.columns,breakpoints:n.breakpoints.values}),s="object"===typeof a?a[i]:a;if(void 0===s||null===s)return e;const l="".concat(Math.round(t/s*1e8)/1e6,"%");let c={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(l," + ").concat($n(e),")");c={flexBasis:t,maxWidth:t}}}o=(0,Rt.Z)({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})}));const Jn=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:a,zeroMinWidth:s,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}})),n}(o,l));const u=[];l.forEach((t=>{const n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))}));const d={root:["root",n&&"container",i&&"item",s&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==a&&"wrap-xs-".concat(String(a)),...u]};return(0,Dt.Z)(d,Wn,t)},er=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiGrid"}),{breakpoints:i}=Vn(),o=Jt(n),{className:a,columns:s,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:f,spacing:p=0,wrap:m="wrap",zeroMinWidth:g=!1}=o,v=(0,Ct.Z)(o,Qn),y=f||p,b=l||p,w=r.useContext(qn),x=u?s||12:w,S={},k=(0,Rt.Z)({},v);i.keys.forEach((e=>{null!=v[e]&&(S[e]=v[e],delete k[e])}));const _=(0,Rt.Z)({},o,{columns:x,container:u,direction:d,item:h,rowSpacing:y,columnSpacing:b,wrap:m,zeroMinWidth:g,spacing:p},S,{breakpoints:i.keys}),I=Jn(_);return(0,jt.jsx)(qn.Provider,{value:x,children:(0,jt.jsx)(Xn,(0,Rt.Z)({ownerState:_,className:(0,Pt.Z)(I.root,a),as:c,ref:t},k))})}));const tr=er;var nr=n(2065);const rr=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function ir(e){return(0,Nt.Z)("MuiPaper",e)}(0,an.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const or=["className","component","elevation","square","variant"],ar=(0,Vt.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,Rt.Z)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,Rt.Z)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,nr.Fq)("#fff",rr(n.elevation)),", ").concat((0,nr.Fq)("#fff",rr(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),sr=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:o=1,square:a=!1,variant:s="elevation"}=n,l=(0,Ct.Z)(n,or),c=(0,Rt.Z)({},n,{component:i,elevation:o,square:a,variant:s}),u=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,Dt.Z)(o,ir,i)})(c);return(0,jt.jsx)(ar,(0,Rt.Z)({as:i,ownerState:c,className:(0,Pt.Z)(u.root,r),ref:t},l))})),lr=sr;var cr=n(5735),ur=n(2071),dr=n(9683),hr=n(3031);function fr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function pr(e,t){return pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pr(e,t)}function mr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,pr(e,t)}const gr=r.createContext(null);function vr(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function yr(e,t,n){return null!=n[t]?n[t]:e.props[t]}function br(e,t,n){var i=vr(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,i);return Object.keys(o).forEach((function(a){var s=o[a];if((0,r.isValidElement)(s)){var l=a in t,c=a in i,u=t[a],d=(0,r.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,r.isValidElement)(u)&&(o[a]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:u.props.in,exit:yr(s,"exit",e),enter:yr(s,"enter",e)})):o[a]=(0,r.cloneElement)(s,{in:!1}):o[a]=(0,r.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:yr(s,"exit",e),enter:yr(s,"enter",e)})}})),o}var wr=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},xr=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}mr(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,i,o=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,i=a,vr(n.children,(function(e){return(0,r.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:yr(e,"appear",n),enter:yr(e,"enter",n),exit:yr(e,"exit",n)})}))):br(e,o,a),firstRender:!1}},n.handleExited=function(e,t){var n=vr(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,Rt.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=(0,Ct.Z)(e,["component","childFactory"]),o=this.state.contextValue,a=wr(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?r.createElement(gr.Provider,{value:o},a):r.createElement(gr.Provider,{value:o},r.createElement(t,i,a))},t}(r.Component);xr.propTypes={},xr.defaultProps={component:"div",childFactory:function(e){return e}};const Sr=xr;const kr=function(e){const{className:t,classes:n,pulsate:i=!1,rippleX:o,rippleY:a,rippleSize:s,in:l,onExited:c,timeout:u}=e,[d,h]=r.useState(!1),f=(0,Pt.Z)(t,n.ripple,n.rippleVisible,i&&n.ripplePulsate),p={width:s,height:s,top:-s/2+a,left:-s/2+o},m=(0,Pt.Z)(n.child,d&&n.childLeaving,i&&n.childPulsate);return l||d||h(!0),r.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,jt.jsx)("span",{className:f,style:p,children:(0,jt.jsx)("span",{className:m})})};const _r=(0,an.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var Ir,Er,Tr,Cr;const Rr=["center","classes","className"];let Pr,Ar,Nr,Dr;const Or=_n(Pr||(Pr=Ir||(Ir=fr(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Mr=_n(Ar||(Ar=Er||(Er=fr(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Lr=_n(Nr||(Nr=Tr||(Tr=fr(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),jr=(0,Vt.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Fr=(0,Vt.ZP)(kr,{name:"MuiTouchRipple",slot:"Ripple"})(Dr||(Dr=Cr||(Cr=fr(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),_r.rippleVisible,Or,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),_r.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),_r.child,_r.childLeaving,Mr,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),_r.childPulsate,Lr,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),Zr=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a}=n,s=(0,Ct.Z)(n,Rr),[l,c]=r.useState([]),u=r.useRef(0),d=r.useRef(null);r.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=r.useRef(!1),f=r.useRef(0),p=r.useRef(null),m=r.useRef(null);r.useEffect((()=>()=>{f.current&&clearTimeout(f.current)}),[]);const g=r.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:a}=e;c((e=>[...e,(0,jt.jsx)(Fr,{classes:{ripple:(0,Pt.Z)(o.ripple,_r.ripple),rippleVisible:(0,Pt.Z)(o.rippleVisible,_r.rippleVisible),ripplePulsate:(0,Pt.Z)(o.ripplePulsate,_r.ripplePulsate),child:(0,Pt.Z)(o.child,_r.child),childLeaving:(0,Pt.Z)(o.childLeaving,_r.childLeaving),childPulsate:(0,Pt.Z)(o.childPulsate,_r.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},u.current)])),u.current+=1,d.current=a}),[o]),v=r.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||t.pulsate,fakeElement:a=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null==e?void 0:e.type)&&(h.current=!0);const s=a?null:m.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===p.current&&(p.current=()=>{g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},f.current=setTimeout((()=>{p.current&&(p.current(),p.current=null)}),80)):g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[i,g]),y=r.useCallback((()=>{v({},{pulsate:!0})}),[v]),b=r.useCallback(((e,t)=>{if(clearTimeout(f.current),"touchend"===(null==e?void 0:e.type)&&p.current)return p.current(),p.current=null,void(f.current=setTimeout((()=>{b(e,t)})));p.current=null,c((e=>e.length>0?e.slice(1):e)),d.current=t}),[]);return r.useImperativeHandle(t,(()=>({pulsate:y,start:v,stop:b})),[y,v,b]),(0,jt.jsx)(jr,(0,Rt.Z)({className:(0,Pt.Z)(_r.root,o.root,a),ref:m},s,{children:(0,jt.jsx)(Sr,{component:null,exit:!0,children:l})}))})),zr=Zr;function Br(e){return(0,Nt.Z)("MuiButtonBase",e)}const Ur=(0,an.Z)("MuiButtonBase",["root","disabled","focusVisible"]),Vr=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],qr=(0,Vt.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(Ur.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Wr=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:s,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:m,onContextMenu:g,onDragLeave:v,onFocus:y,onFocusVisible:b,onKeyDown:w,onKeyUp:x,onMouseDown:S,onMouseLeave:k,onMouseUp:_,onTouchEnd:I,onTouchMove:E,onTouchStart:T,tabIndex:C=0,TouchRippleProps:R,touchRippleRef:P,type:A}=n,N=(0,Ct.Z)(n,Vr),D=r.useRef(null),O=r.useRef(null),M=(0,ur.Z)(O,P),{isFocusVisibleRef:L,onFocus:j,onBlur:F,ref:Z}=(0,hr.Z)(),[z,B]=r.useState(!1);c&&z&&B(!1),r.useImperativeHandle(i,(()=>({focusVisible:()=>{B(!0),D.current.focus()}})),[]);const[U,V]=r.useState(!1);r.useEffect((()=>{V(!0)}),[]);const q=U&&!u&&!c;function W(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return(0,dr.Z)((r=>{t&&t(r);return!n&&O.current&&O.current[e](r),!0}))}r.useEffect((()=>{z&&h&&!u&&U&&O.current.pulsate()}),[u,h,z,U]);const H=W("start",S),K=W("stop",g),G=W("stop",v),Q=W("stop",_),$=W("stop",(e=>{z&&e.preventDefault(),k&&k(e)})),Y=W("start",T),X=W("stop",I),J=W("stop",E),ee=W("stop",(e=>{F(e),!1===L.current&&B(!1),p&&p(e)}),!1),te=(0,dr.Z)((e=>{D.current||(D.current=e.currentTarget),j(e),!0===L.current&&(B(!0),b&&b(e)),y&&y(e)})),ne=()=>{const e=D.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},re=r.useRef(!1),ie=(0,dr.Z)((e=>{h&&!re.current&&z&&O.current&&" "===e.key&&(re.current=!0,O.current.stop(e,(()=>{O.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),w&&w(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))})),oe=(0,dr.Z)((e=>{h&&" "===e.key&&O.current&&z&&!e.defaultPrevented&&(re.current=!1,O.current.stop(e,(()=>{O.current.pulsate(e)}))),x&&x(e),m&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let ae=l;"button"===ae&&(N.href||N.to)&&(ae=f);const se={};"button"===ae?(se.type=void 0===A?"button":A,se.disabled=c):(N.href||N.to||(se.role="button"),c&&(se["aria-disabled"]=c));const le=(0,ur.Z)(t,Z,D);const ce=(0,Rt.Z)({},n,{centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:C,focusVisible:z}),ue=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o={root:["root",t&&"disabled",n&&"focusVisible"]},a=(0,Dt.Z)(o,Br,i);return n&&r&&(a.root+=" ".concat(r)),a})(ce);return(0,jt.jsxs)(qr,(0,Rt.Z)({as:ae,className:(0,Pt.Z)(ue.root,s),ownerState:ce,onBlur:ee,onClick:m,onContextMenu:K,onFocus:te,onKeyDown:ie,onKeyUp:oe,onMouseDown:H,onMouseLeave:$,onMouseUp:Q,onDragLeave:G,onTouchEnd:X,onTouchMove:J,onTouchStart:Y,ref:le,tabIndex:c?-1:C,type:A},se,N,{children:[a,q?(0,jt.jsx)(zr,(0,Rt.Z)({ref:M,center:o},R)):null]}))}));function Hr(e){return(0,Nt.Z)("MuiButton",e)}const Kr=(0,an.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const Gr=r.createContext({});const Qr=r.createContext(void 0),$r=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Yr=e=>(0,Rt.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),Xr=(0,Vt.ZP)(Wr,{shouldForwardProp:e=>(0,Vt.FO)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,Ut.Z)(n.color))],t["size".concat((0,Ut.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,Ut.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const o="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],a="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,Rt.Z)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,Rt.Z)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,nr.Fq)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,nr.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,nr.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:a,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,Rt.Z)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(Kr.focusVisible)]:(0,Rt.Z)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(Kr.disabled)]:(0,Rt.Z)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,nr.Fq)(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:o,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(Kr.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(Kr.disabled)]:{boxShadow:"none"}}})),Jr=(0,Vt.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat((0,Ut.Z)(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,Rt.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},Yr(t))})),ei=(0,Vt.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat((0,Ut.Z)(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,Rt.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},Yr(t))})),ti=r.forwardRef((function(e,t){const n=r.useContext(Gr),i=r.useContext(Qr),o=(0,cr.Z)(n,e),a=(0,qt.Z)({props:o,name:"MuiButton"}),{children:s,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:m,fullWidth:g=!1,size:v="medium",startIcon:y,type:b,variant:w="text"}=a,x=(0,Ct.Z)(a,$r),S=(0,Rt.Z)({},a,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:f,fullWidth:g,size:v,type:b,variant:w}),k=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:a}=e,s={root:["root",o,"".concat(o).concat((0,Ut.Z)(t)),"size".concat((0,Ut.Z)(i)),"".concat(o,"Size").concat((0,Ut.Z)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,Ut.Z)(i))],endIcon:["endIcon","iconSize".concat((0,Ut.Z)(i))]},l=(0,Dt.Z)(s,Hr,a);return(0,Rt.Z)({},a,l)})(S),_=y&&(0,jt.jsx)(Jr,{className:k.startIcon,ownerState:S,children:y}),I=p&&(0,jt.jsx)(ei,{className:k.endIcon,ownerState:S,children:p}),E=i||"";return(0,jt.jsxs)(Xr,(0,Rt.Z)({ownerState:S,className:(0,Pt.Z)(n.className,k.root,u,E),component:c,disabled:d,focusRipple:!f,focusVisibleClassName:(0,Pt.Z)(k.focusVisible,m),ref:t,type:b},x,{classes:k,children:[_,s,I]}))})),ni=ti;function ri(e){return(0,Nt.Z)("MuiAlert",e)}const ii=(0,an.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function oi(e){return(0,Nt.Z)("MuiIconButton",e)}const ai=(0,an.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),si=["edge","children","className","color","disabled","disableFocusRipple","size"],li=(0,Vt.ZP)(Wr,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat((0,Ut.Z)(n.color))],n.edge&&t["edge".concat((0,Ut.Z)(n.edge))],t["size".concat((0,Ut.Z)(n.size))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,nr.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const i=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,Rt.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,Rt.Z)({color:null==i?void 0:i.main},!n.disableRipple&&{"&:hover":(0,Rt.Z)({},i&&{backgroundColor:t.vars?"rgba(".concat(i.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,nr.Fq)(i.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(ai.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),ci=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:a="default",disabled:s=!1,disableFocusRipple:l=!1,size:c="medium"}=n,u=(0,Ct.Z)(n,si),d=(0,Rt.Z)({},n,{edge:r,color:a,disabled:s,disableFocusRipple:l,size:c}),h=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,a={root:["root",n&&"disabled","default"!==r&&"color".concat((0,Ut.Z)(r)),i&&"edge".concat((0,Ut.Z)(i)),"size".concat((0,Ut.Z)(o))]};return(0,Dt.Z)(a,oi,t)})(d);return(0,jt.jsx)(li,(0,Rt.Z)({className:(0,Pt.Z)(h.root,o),centerRipple:!0,focusRipple:!l,disabled:s,ref:t,ownerState:d},u,{children:i}))}));var ui=n(9201);const di=(0,ui.Z)((0,jt.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),hi=(0,ui.Z)((0,jt.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),fi=(0,ui.Z)((0,jt.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),pi=(0,ui.Z)((0,jt.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),mi=(0,ui.Z)((0,jt.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),gi=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],vi=(0,Vt.ZP)(lr,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,Ut.Z)(n.color||n.severity))]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?nr._j:nr.$n,i="light"===t.palette.mode?nr.$n:nr._j,o=n.color||n.severity;return(0,Rt.Z)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&"standard"===n.variant&&{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:r(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(o,"StandardBg")]:i(t.palette[o].light,.9),["& .".concat(ii.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}},o&&"outlined"===n.variant&&{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:r(t.palette[o].light,.6),border:"1px solid ".concat((t.vars||t).palette[o].light),["& .".concat(ii.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}},o&&"filled"===n.variant&&(0,Rt.Z)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(o,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(o,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[o].dark:t.palette[o].main,color:t.palette.getContrastText(t.palette[o].main)}))})),yi=(0,Vt.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),bi=(0,Vt.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),wi=(0,Vt.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),xi={success:(0,jt.jsx)(di,{fontSize:"inherit"}),warning:(0,jt.jsx)(hi,{fontSize:"inherit"}),error:(0,jt.jsx)(fi,{fontSize:"inherit"}),info:(0,jt.jsx)(pi,{fontSize:"inherit"})},Si=r.forwardRef((function(e,t){var n,r,i,o,a,s;const l=(0,qt.Z)({props:e,name:"MuiAlert"}),{action:c,children:u,className:d,closeText:h="Close",color:f,components:p={},componentsProps:m={},icon:g,iconMapping:v=xi,onClose:y,role:b="alert",severity:w="success",slotProps:x={},slots:S={},variant:k="standard"}=l,_=(0,Ct.Z)(l,gi),I=(0,Rt.Z)({},l,{color:f,severity:w,variant:k}),E=(e=>{const{variant:t,color:n,severity:r,classes:i}=e,o={root:["root","".concat(t).concat((0,Ut.Z)(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,Dt.Z)(o,ri,i)})(I),T=null!=(n=null!=(r=S.closeButton)?r:p.CloseButton)?n:ci,C=null!=(i=null!=(o=S.closeIcon)?o:p.CloseIcon)?i:mi,R=null!=(a=x.closeButton)?a:m.closeButton,P=null!=(s=x.closeIcon)?s:m.closeIcon;return(0,jt.jsxs)(vi,(0,Rt.Z)({role:b,elevation:0,ownerState:I,className:(0,Pt.Z)(E.root,d),ref:t},_,{children:[!1!==g?(0,jt.jsx)(yi,{ownerState:I,className:E.icon,children:g||v[w]||xi[w]}):null,(0,jt.jsx)(bi,{ownerState:I,className:E.message,children:u}),null!=c?(0,jt.jsx)(wi,{ownerState:I,className:E.action,children:c}):null,null==c&&y?(0,jt.jsx)(wi,{ownerState:I,className:E.action,children:(0,jt.jsx)(T,(0,Rt.Z)({size:"small","aria-label":h,title:h,color:"inherit",onClick:y},R,{children:(0,jt.jsx)(C,(0,Rt.Z)({fontSize:"small"},P))}))}):null]}))})),ki=Si,_i=e=>{let{message:t,severity:n,onClose:r}=e;return t?(0,jt.jsx)(ki,{severity:n,sx:{position:"fixed",top:"60px",left:"50%",transform:"translateX(-50%)",p:2,zIndex:"tooltip"},children:t}):null},Ii=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ei={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ii(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Ti;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ti extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ci=function(e){return function(e){const t=Ii(e);return Ei.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ri=function(e){try{return Ei.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Pi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Pi(e[n],t[n]));return e}const Ai=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ni=()=>{try{return Ai()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/frontserver",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Ri(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Di=()=>{var e;return null===(e=Ni())||void 0===e?void 0:e.config};class Oi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Mi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Li(){var e;const t=null===(e=Ni())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function ji(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Fi(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Zi(){const e=Mi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zi(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Bi extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ui.prototype.create)}}class Ui{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Vi,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Bi(n,o,t)}}const Vi=/\{\$([^}]+)}/g;function qi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Wi(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Hi(n)&&Hi(o)){if(!Wi(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Hi(e){return null!==e&&"object"===typeof e}function Ki(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Gi(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Qi(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function $i(e,t){const n=new Yi(e,t);return n.subscribe.bind(n)}class Yi{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Xi),void 0===r.error&&(r.error=Xi),void 0===r.complete&&(r.complete=Xi);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Xi(){}function Ji(e){return e&&e._delegate?e._delegate:e}class eo{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const to="[DEFAULT]";class no{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Oi;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:to})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:to;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:to;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:to;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ro(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:to;return this.component?this.component.multipleInstances?e:to:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function ro(e){return e===to?void 0:e}class io{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new no(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const oo=[];var ao;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ao||(ao={}));const so={debug:ao.DEBUG,verbose:ao.VERBOSE,info:ao.INFO,warn:ao.WARN,error:ao.ERROR,silent:ao.SILENT},lo=ao.INFO,co={[ao.DEBUG]:"log",[ao.VERBOSE]:"log",[ao.INFO]:"info",[ao.WARN]:"warn",[ao.ERROR]:"error"},uo=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=co[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class ho{constructor(e){this.name=e,this._logLevel=lo,this._logHandler=uo,this._userLogHandler=null,oo.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ao))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?so[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ao.DEBUG,...t),this._logHandler(this,ao.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ao.VERBOSE,...t),this._logHandler(this,ao.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ao.INFO,...t),this._logHandler(this,ao.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ao.WARN,...t),this._logHandler(this,ao.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ao.ERROR,...t),this._logHandler(this,ao.ERROR,...t)}}const fo=(e,t)=>t.some((t=>e instanceof t));let po,mo;const go=new WeakMap,vo=new WeakMap,yo=new WeakMap,bo=new WeakMap,wo=new WeakMap;let xo={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return vo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||yo.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _o(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function So(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(mo||(mo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Io(this),n),_o(go.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _o(e.apply(Io(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Io(this),t,...r);return yo.set(o,t.sort?t.sort():[t]),_o(o)}}function ko(e){return"function"===typeof e?So(e):(e instanceof IDBTransaction&&function(e){if(vo.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));vo.set(e,t)}(e),fo(e,po||(po=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,xo):e)}function _o(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(_o(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&go.set(t,e)})).catch((()=>{})),wo.set(t,e),t}(e);if(bo.has(e))return bo.get(e);const t=ko(e);return t!==e&&(bo.set(e,t),wo.set(t,e)),t}const Io=e=>wo.get(e);const Eo=["get","getKey","getAll","getAllKeys","count"],To=["put","add","delete","clear"],Co=new Map;function Ro(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Co.get(t))return Co.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=To.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Eo.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return Co.set(t,o),o}xo=(e=>({...e,get:(t,n,r)=>Ro(t,n)||e.get(t,n,r),has:(t,n)=>!!Ro(t,n)||e.has(t,n)}))(xo);class Po{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ao="@firebase/app",No="0.9.25",Do=new ho("@firebase/app"),Oo="[DEFAULT]",Mo={[Ao]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Lo=new Map,jo=new Map;function Fo(e,t){try{e.container.addComponent(t)}catch(n){Do.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Zo(e,t){e.container.addOrOverwriteComponent(t)}function zo(e){const t=e.name;if(jo.has(t))return Do.debug("There were multiple attempts to register component ".concat(t,".")),!1;jo.set(t,e);for(const n of Lo.values())Fo(n,e);return!0}function Bo(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Uo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Oo;Bo(e,t).clearInstance(n)}function Vo(){jo.clear()}const qo=new Ui("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wo{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new eo("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qo.create("app-deleted",{appName:this._name})}}const Ho="10.7.1";function Ko(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Oo,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw qo.create("bad-app-name",{appName:String(i)});if(n||(n=Di()),!n)throw qo.create("no-options");const o=Lo.get(i);if(o){if(Wi(n,o.options)&&Wi(r,o.config))return o;throw qo.create("duplicate-app",{appName:i})}const a=new io(i);for(const l of jo.values())a.addComponent(l);const s=new Wo(n,r,a);return Lo.set(i,s),s}function Go(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oo;const t=Lo.get(e);if(!t&&e===Oo&&Di())return Ko();if(!t)throw qo.create("no-app",{appName:e});return t}function Qo(){return Array.from(Lo.values())}async function $o(e){const t=e.name;Lo.has(t)&&(Lo.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Yo(e,t,n){var r;let i=null!==(r=Mo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Do.warn(e.join(" "))}zo(new eo("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Xo(e,t){if(null!==e&&"function"!==typeof e)throw qo.create("invalid-log-argument");!function(e,t){for(const n of oo){let r=null;t&&t.level&&(r=so[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];const s=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:ao[n].toLowerCase(),message:s,args:o,type:t.name})}}}(e,t)}function Jo(e){var t;t=e,oo.forEach((e=>{e.setLogLevel(t)}))}const ea="firebase-heartbeat-database",ta=1,na="firebase-heartbeat-store";let ra=null;function ia(){return ra||(ra=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=_o(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(_o(a.result),e.oldVersion,e.newVersion,_o(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}(ea,ta,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(na)}}).catch((e=>{throw qo.create("idb-open",{originalErrorMessage:e.message})}))),ra}async function oa(e,t){try{const n=(await ia()).transaction(na,"readwrite"),r=n.objectStore(na);await r.put(t,aa(e)),await n.done}catch(n){if(n instanceof Bi)Do.warn(n.message);else{const e=qo.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Do.warn(e.message)}}}function aa(e){return"".concat(e.name,"!").concat(e.options.appId)}class sa{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ca(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=la();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=la(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ua(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ua(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ci(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function la(){return(new Date).toISOString().substring(0,10)}class ca{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!zi()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await ia();return await t.transaction(na).objectStore(na).get(aa(e))}catch(t){if(t instanceof Bi)Do.warn(t.message);else{const e=qo.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Do.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return oa(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return oa(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ua(e){return Ci(JSON.stringify({version:2,heartbeats:e})).length}var da;da="",zo(new eo("platform-logger",(e=>new Po(e)),"PRIVATE")),zo(new eo("heartbeat",(e=>new sa(e)),"PRIVATE")),Yo(Ao,No,da),Yo(Ao,No,"esm2017"),Yo("fire-js","");class ha{constructor(e,t){this._delegate=e,this.firebase=t,Fo(e,new eo("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),$o(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oo;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oo;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Fo(this._delegate,e)}_addOrOverwriteComponent(e){Zo(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fa=new Ui("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const pa=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Ko(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(qi(n,i.name))return n[i.name];const o=new t(i,r);return n[i.name]=o,o},app:i,registerVersion:Yo,setLogLevel:Jo,onLog:Xo,apps:null,SDK_VERSION:Ho,INTERNAL:{registerComponent:function(e){const n=e.name,o=n.replace("-compat","");if(zo(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[o])throw fa.create("invalid-app-argument",{appName:n});return e[o]()};void 0!==e.serviceProps&&Pi(a,e.serviceProps),r[o]=a,t.prototype[o]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[o]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!qi(n,e=e||Oo))throw fa.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(ha);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Pi(n,e)},createSubscribe:$i,ErrorFactory:Ui,deepExtend:Pi}),n}(),ma=new ho("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ma.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&ma.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ga=pa;!function(e){Yo("@firebase/app-compat","0.2.25",e)}();ga.registerVersion("firebase","10.7.1","app-compat");function va(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const ya={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ba="EMAIL_SIGNIN",wa="PASSWORD_RESET",xa="RECOVER_EMAIL",Sa="REVERT_SECOND_FACTOR_ADDITION",ka="VERIFY_AND_CHANGE_EMAIL",_a="VERIFY_EMAIL";function Ia(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ea=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ta=Ia,Ca=new Ui("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ra=new ho("@firebase/auth");function Pa(e){if(Ra.logLevel<=ao.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ra.error("Auth (".concat(Ho,"): ").concat(e),...n)}}function Aa(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ma(e,...n)}function Na(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ma(e,...n)}function Da(e,t,n){const r=Object.assign(Object.assign({},Ta()),{[t]:n});return new Ui("auth","Firebase",r).create(t,{appName:e.name})}function Oa(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Aa(e,"argument-error"),Da(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ma(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Ca.create(e,...n)}function La(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ma(t,...r)}}function ja(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Pa(t),new Error(t)}function Fa(e,t){e||ja(t)}function Za(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function za(){return"http:"===Ba()||"https:"===Ba()}function Ba(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Ua{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fa(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mi())||Fi()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(za()||ji()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Va(e,t){Fa(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class qa{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ja("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ja("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ja("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wa={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ha=new Ua(3e4,6e4);function Ka(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ga(e,t,n,r){return Qa(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=Ki(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),qa.fetch()(Ya(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function Qa(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Wa),t);try{const t=new Ja(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw es(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw es(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw es(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw es(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Da(e,s,a);Aa(e,s)}}catch(i){if(i instanceof Bi)throw i;Aa(e,"network-request-failed",{message:String(i)})}}async function $a(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Ga(e,t,n,r,i);return"mfaPendingCredential"in o&&Aa(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Ya(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Va(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Xa(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ja{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Na(this.auth,"network-request-failed"))),Ha.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function es(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Na(e,t,r);return i.customData._tokenResponse=n,i}function ts(e){return void 0!==e&&void 0!==e.getResponse}function ns(e){return void 0!==e&&void 0!==e.enterprise}class rs{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Xa(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function is(e,t){return Ga(e,"GET","/v2/recaptchaConfig",Ka(e,t))}function os(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function as(e){return 1e3*Number(e)}function ss(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Pa("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ri(n);return e?JSON.parse(e):(Pa("Failed to decode base64 JWT payload"),null)}catch(i){return Pa("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function ls(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Bi&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class cs{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class us{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=os(this.lastLoginAt),this.creationTime=os(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ds(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ls(e,async function(e,t){return Ga(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));La(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=va(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const s=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new us(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}class hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){La(e.idToken,"internal-error"),La("undefined"!==typeof e.idToken,"internal-error"),La("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=ss(e);return La(t,"internal-error"),La("undefined"!==typeof t.exp,"internal-error"),La("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return La(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Qa(e,{},(async()=>{const n=Ki({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Ya(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qa.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new hs;return n&&(La("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(La("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(La("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hs,this.toJSON())}_performRefresh(){return ja("not implemented")}}function fs(e,t){La("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ps{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=va(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new us(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ls(this,this.stsTokenManager.getToken(this.auth,e));return La(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ji(e),r=await n.getIdToken(t),i=ss(r);La(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:os(as(i.auth_time)),issuedAtTime:os(as(i.iat)),expirationTime:os(as(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ji(e);await ds(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(La(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){La(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ds(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ls(this,async function(e,t){return Ga(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:S}=t;La(y&&S,e,"internal-error");const k=hs.fromJSON(this.name,S);La("string"===typeof y,e,"internal-error"),fs(u,e.name),fs(d,e.name),La("boolean"===typeof b,e,"internal-error"),La("boolean"===typeof w,e,"internal-error"),fs(h,e.name),fs(f,e.name),fs(p,e.name),fs(m,e.name),fs(g,e.name),fs(v,e.name);const _=new ps({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(_.providerData=x.map((e=>Object.assign({},e)))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new hs;r.updateFromServerResponse(t);const i=new ps({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ds(i),i}}const ms=new Map;function gs(e){Fa(e instanceof Function,"Expected a class definition");let t=ms.get(e);return t?(Fa(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ms.set(e,t),t)}class vs{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vs.type="NONE";const ys=vs;function bs(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ws{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=bs(this.userKey,r.apiKey,i),this.fullPersistenceKey=bs("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ws(gs(ys),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||gs(ys);const o=bs(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=ps._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new ws(i,e,n)):new ws(i,e,n)}}function xs(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Is(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ss(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ts(t))return"Blackberry";if(Cs(t))return"Webos";if(ks(t))return"Safari";if((t.includes("chrome/")||_s(t))&&!t.includes("edge/"))return"Chrome";if(Es(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ss(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi();return/firefox\//i.test(e)}function ks(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi();return/crios\//i.test(e)}function Is(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi();return/iemobile/i.test(e)}function Es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi();return/android/i.test(e)}function Ts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi();return/blackberry/i.test(e)}function Cs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi();return/webos/i.test(e)}function Rs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi();return Rs(e)||Es(e)||Cs(e)||Ts(e)||/windows phone/i.test(e)||Is(e)}function As(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=xs(Mi());break;case"Worker":t="".concat(xs(Mi()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ho,"/").concat(r)}class Ns{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Ds{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Os{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ls(this),this.idTokenSubscription=new Ls(this),this.beforeStateQueue=new Ns(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ca,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gs(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ws.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return La(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ds(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Ji(e):null;return t&&La(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&La(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(gs(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ga(e,"GET","/v2/passwordPolicy",Ka(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ds(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ui("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ga(e,"POST","/v2/accounts:revokeToken",Ka(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gs(e)||this._popupRedirectResolver;La(t,this,"argument-error"),this.redirectPersistenceManager=await ws.create(this,[gs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(La(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return La(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=As(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ra.logLevel<=ao.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ra.warn("Auth (".concat(Ho,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ms(e){return Ji(e)}class Ls{constructor(e){this.auth=e,this.observer=null,this.addObserver=$i((e=>this.observer=e))}get next(){return La(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function js(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Na("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Fs(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Zs{constructor(e){this.type="recaptcha-enterprise",this.auth=Ms(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;ns(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{is(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new rs(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&ns(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));js("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function zs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Zs(e);let o;try{o=await i.verify(n)}catch(s){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Bs(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await zs(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await zs(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Us(e,t,n){const r=Ms(e);La(r._canInitEmulator,r,"emulator-config-failed"),La(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Vs(t),{host:a,port:s}=function(e){const t=Vs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:qs(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:qs(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(o,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Vs(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function qs(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ws{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ja("not implemented")}_getIdTokenResponse(e){return ja("not implemented")}_linkToIdToken(e,t){return ja("not implemented")}_getReauthenticationResolver(e){return ja("not implemented")}}async function Hs(e,t){return Ga(e,"POST","/v1/accounts:resetPassword",Ka(e,t))}async function Ks(e,t){return Ga(e,"POST","/v1/accounts:signUp",t)}async function Gs(e,t){return $a(e,"POST","/v1/accounts:signInWithPassword",Ka(e,t))}async function Qs(e,t){return Ga(e,"POST","/v1/accounts:sendOobCode",Ka(e,t))}async function $s(e,t){return Qs(e,t)}async function Ys(e,t){return Qs(e,t)}class Xs extends Ws{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Xs(e,t,"password")}static _fromEmailAndCode(e,t){return new Xs(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Bs(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Gs);case"emailLink":return async function(e,t){return $a(e,"POST","/v1/accounts:signInWithEmailLink",Ka(e,t))}(e,{email:this._email,oobCode:this._password});default:Aa(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Bs(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ks);case"emailLink":return async function(e,t){return $a(e,"POST","/v1/accounts:signInWithEmailLink",Ka(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Aa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Js(e,t){return $a(e,"POST","/v1/accounts:signInWithIdp",Ka(e,t))}class el extends Ws{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new el(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Aa("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=va(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new el(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Js(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Js(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Js(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ki(t)}return e}}const tl={USER_NOT_FOUND:"user-not-found"};class nl extends Ws{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new nl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new nl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return $a(e,"POST","/v1/accounts:signInWithPhoneNumber",Ka(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await $a(e,"POST","/v1/accounts:signInWithPhoneNumber",Ka(e,t));if(n.temporaryProof)throw es(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return $a(e,"POST","/v1/accounts:signInWithPhoneNumber",Ka(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),tl)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new nl({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class rl{constructor(e){var t,n,r,i,o,a;const s=Gi(Qi(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);La(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Gi(Qi(e)).link,n=t?Gi(Qi(t)).deep_link_id:null,r=Gi(Qi(e)).deep_link_id;return(r?Gi(Qi(r)).link:null)||r||n||t||e}(e);try{return new rl(t)}catch(n){return null}}}class il{constructor(){this.providerId=il.PROVIDER_ID}static credential(e,t){return Xs._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=rl.parseLink(t);return La(n,"argument-error"),Xs._fromEmailAndCode(e,n.code,n.tenantId)}}il.PROVIDER_ID="password",il.EMAIL_PASSWORD_SIGN_IN_METHOD="password",il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ol{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class al extends ol{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sl extends al{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return La("providerId"in t&&"signInMethod"in t,"argument-error"),el._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return La(e.idToken||e.accessToken,"argument-error"),el._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return sl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return sl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:a,providerId:s}=t;if(!r&&!i&&!n&&!o)return null;if(!s)return null;try{return new sl(s)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:o})}catch(l){return null}}}class ll extends al{constructor(){super("facebook.com")}static credential(e){return el._fromParams({providerId:ll.PROVIDER_ID,signInMethod:ll.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ll.credentialFromTaggedObject(e)}static credentialFromError(e){return ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ll.credential(t.oauthAccessToken)}catch(n){return null}}}ll.FACEBOOK_SIGN_IN_METHOD="facebook.com",ll.PROVIDER_ID="facebook.com";class cl extends al{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return el._fromParams({providerId:cl.PROVIDER_ID,signInMethod:cl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return cl.credentialFromTaggedObject(e)}static credentialFromError(e){return cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return cl.credential(n,r)}catch(i){return null}}}cl.GOOGLE_SIGN_IN_METHOD="google.com",cl.PROVIDER_ID="google.com";class ul extends al{constructor(){super("github.com")}static credential(e){return el._fromParams({providerId:ul.PROVIDER_ID,signInMethod:ul.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ul.credentialFromTaggedObject(e)}static credentialFromError(e){return ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ul.credential(t.oauthAccessToken)}catch(n){return null}}}ul.GITHUB_SIGN_IN_METHOD="github.com",ul.PROVIDER_ID="github.com";class dl extends Ws{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Js(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Js(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Js(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new dl(n,i):null}static _create(e,t){return new dl(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hl extends ol{constructor(e){La(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return hl.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return hl.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=dl.fromJSON(e);return La(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return dl._create(r,n)}catch(i){return null}}}class fl extends al{constructor(){super("twitter.com")}static credential(e,t){return el._fromParams({providerId:fl.PROVIDER_ID,signInMethod:fl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fl.credentialFromTaggedObject(e)}static credentialFromError(e){return fl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fl.credential(n,r)}catch(i){return null}}}async function pl(e,t){return $a(e,"POST","/v1/accounts:signUp",Ka(e,t))}fl.TWITTER_SIGN_IN_METHOD="twitter.com",fl.PROVIDER_ID="twitter.com";class ml{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ps._fromIdTokenResponse(e,n,r),o=gl(n);return new ml({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=gl(n);return new ml({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function gl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class vl extends Bi{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vl.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vl(e,t,n,r)}}function yl(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw vl._fromErrorAndOperation(e,n,t,r);throw n}))}function bl(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function wl(e,t){const n=Ji(e);await Sl(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Ga(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=bl(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function xl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ls(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ml._forOperation(e,"link",r)}async function Sl(e,t,n){await ds(t);const r=!1===e?"provider-already-linked":"no-such-provider";La(bl(t.providerData).has(n)===e,t.auth,r)}async function kl(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await ls(e,yl(r,i,t,e),n);La(o.idToken,r,"internal-error");const a=ss(o.idToken);La(a,r,"internal-error");const{sub:s}=a;return La(e.uid===s,r,"user-mismatch"),ml._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&Aa(r,"user-mismatch"),o}}async function _l(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await yl(e,r,t),o=await ml._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Il(e,t){return _l(Ms(e),t)}async function El(e,t){const n=Ji(e);return await Sl(!1,n,t.providerId),xl(n,t)}async function Tl(e,t){return kl(Ji(e),t)}async function Cl(e,t){const n=Ms(e),r=await async function(e,t){return $a(e,"POST","/v1/accounts:signInWithCustomToken",Ka(e,t))}(n,{token:t,returnSecureToken:!0}),i=await ml._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Rl{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Pl._fromServerResponse(e,t):"totpInfo"in t?Al._fromServerResponse(e,t):Aa(e,"internal-error")}}class Pl extends Rl{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Pl(t)}}class Al extends Rl{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Al(t)}}function Nl(e,t,n){var r;La((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),La("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(La(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(La(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Dl(e){const t=Ms(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ol(e,t){await async function(e,t){return Ga(e,"POST","/v1/accounts:update",Ka(e,t))}(Ji(e),{oobCode:t})}async function Ml(e,t){const n=Ji(e),r=await Hs(n,{oobCode:t}),i=r.requestType;switch(La(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":La(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":La(r.mfaInfo,n,"internal-error");default:La(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Rl._fromServerResponse(Ms(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Ll(e,t){const n={identifier:t,continueUri:za()?Za():"http://localhost"},{signinMethods:r}=await async function(e,t){return Ga(e,"POST","/v1/accounts:createAuthUri",Ka(e,t))}(Ji(e),n);return r||[]}async function jl(e,t){const n=Ji(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Nl(n.auth,r,t);const{email:i}=await async function(e,t){return Qs(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Fl(e,t,n){const r=Ji(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Nl(r.auth,i,n);const{email:o}=await async function(e,t){return Qs(e,t)}(r.auth,i);o!==e.email&&await e.reload()}async function Zl(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Ji(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await ls(i,async function(e,t){return Ga(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const s=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function zl(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await ls(e,async function(e,t){return Ga(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(o,!0)}class Bl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Ul extends Bl{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Vl extends Bl{constructor(e,t){super(e,"facebook.com",t)}}class ql extends Ul{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Wl extends Bl{constructor(e,t){super(e,"google.com",t)}}class Hl extends Ul{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Kl(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=ss(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Bl(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Vl(o,i);case"github.com":return new ql(o,i);case"google.com":return new Wl(o,i);case"twitter.com":return new Hl(o,i,e.screenName||null);case"custom":case"anonymous":return new Bl(o,null);default:return new Bl(o,r,i)}}(n)}class Gl{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Gl("enroll",e,t)}static _fromMfaPendingCredential(e){return new Gl("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Gl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Gl._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Ql{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ms(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Rl._fromServerResponse(n,e)));La(r.mfaPendingCredential,n,"internal-error");const o=Gl._fromMfaPendingCredential(r.mfaPendingCredential);return new Ql(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await ml._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return La(t.user,n,"internal-error"),ml._forOperation(t.user,t.operationType,a);default:Aa(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class $l{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Rl._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new $l(e)}async getSession(){return Gl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await ls(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await ls(this.user,function(e,t){return Ga(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ka(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(r){throw r}}}const Yl=new WeakMap;const Xl="__sak";class Jl{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xl,"1"),this.storage.removeItem(Xl),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ec extends Jl{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Mi();return ks(e)||Rs(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ps(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Zi()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ec.type="LOCAL";const tc=ec;class nc extends Jl{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nc.type="SESSION";const rc=nc;class ic{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ic(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function oc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ic.receivers=[];class ac{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=oc("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function sc(){return window}function lc(){return"undefined"!==typeof sc().WorkerGlobalScope&&"function"===typeof sc().importScripts}const cc="firebaseLocalStorageDb",uc="firebaseLocalStorage",dc="fbase_key";class hc{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function fc(e,t){return e.transaction([uc],t?"readwrite":"readonly").objectStore(uc)}function pc(){const e=indexedDB.open(cc,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(uc,{keyPath:dc})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(uc)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(cc);return new hc(e).toPromise()}(),t(await pc()))}))}))}async function mc(e,t,n){const r=fc(e,!0).put({[dc]:t,value:n});return new hc(r).toPromise()}function gc(e,t){const n=fc(e,!0).delete(t);return new hc(n).toPromise()}class vc{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await pc()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lc()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ic._getInstance(lc()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ac(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pc();return await mc(e,Xl,"1"),await gc(e,Xl),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>mc(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=fc(e,!1).get(t),r=await new hc(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>gc(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=fc(e,!1).getAll();return new hc(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}vc.type="LOCAL";const yc=vc;const bc=1e12;class wc{constructor(e){this.auth=e,this.counter=bc,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new xc(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||bc;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||bc;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||bc;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class xc{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;La(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sc=Fs("rcb"),kc=new Ua(3e4,6e4);class _c{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=sc().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return La(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&ts(sc().grecaptcha)?Promise.resolve(sc().grecaptcha):new Promise(((n,r)=>{const i=sc().setTimeout((()=>{r(Na(e,"network-request-failed"))}),kc.get());sc()[Sc]=()=>{sc().clearTimeout(i),delete sc()[Sc];const o=sc().grecaptcha;if(!o||!ts(o))return void r(Na(e,"internal-error"));const a=o.render;o.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(o)};js("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Ki({onload:Sc,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Na(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=sc().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ic{async load(e){return new wc(e)}clearedOneInstance(){}}const Ec="recaptcha",Tc={theme:"light",type:"image"};class Cc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Tc);this.parameters=n,this.type=Ec,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ms(e),this.isInvisible="invisible"===this.parameters.size,La("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;La(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ic:new _c,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){La(!this.parameters.sitekey,this.auth,"argument-error"),La(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),La("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=sc()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){La(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){La(za()&&!lc(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Ga(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);La(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return La(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rc{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=nl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Pc(e,t,n){var r;const i=await n.verify();try{let o;if(La("string"===typeof i,e,"argument-error"),La(n.type===Ec,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){La("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ga(e,"POST","/v2/accounts/mfaEnrollment:start",Ka(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{La("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;La(n,e,"missing-multi-factor-info");const a=await function(e,t){return Ga(e,"POST","/v2/accounts/mfaSignIn:start",Ka(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ga(e,"POST","/v1/accounts:sendVerificationCode",Ka(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ac{constructor(e){this.providerId=Ac.PROVIDER_ID,this.auth=Ms(e)}verifyPhoneNumber(e,t){return Pc(this.auth,e,Ji(t))}static credential(e,t){return nl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ac.credentialFromTaggedObject(t)}static credentialFromError(e){return Ac.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?nl._fromTokenResponse(n,r):null}}function Nc(e,t){return t?gs(t):(La(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ac.PROVIDER_ID="phone",Ac.PHONE_SIGN_IN_METHOD="phone";class Dc extends Ws{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Js(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Js(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Js(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Oc(e){return _l(e.auth,new Dc(e),e.bypassAuthState)}function Mc(e){const{auth:t,user:n}=e;return La(n,t,"internal-error"),kl(n,new Dc(e),e.bypassAuthState)}async function Lc(e){const{auth:t,user:n}=e;return La(n,t,"internal-error"),xl(n,new Dc(e),e.bypassAuthState)}class jc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Oc;case"linkViaPopup":case"linkViaRedirect":return Lc;case"reauthViaPopup":case"reauthViaRedirect":return Mc;default:Aa(this.auth,"internal-error")}}resolve(e){Fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Fc=new Ua(2e3,1e4);async function Zc(e,t,n){const r=Ms(e);Oa(e,t,ol);const i=Nc(r,n);return new zc(r,"signInViaPopup",t,i).executeNotNull()}class zc extends jc{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,zc.currentPopupAction&&zc.currentPopupAction.cancel(),zc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return La(e,this.auth,"internal-error"),e}async onExecution(){Fa(1===this.filter.length,"Popup operations only handle one event");const e=oc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Na(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Na(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Na(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Fc.get())};e()}}zc.currentPopupAction=null;const Bc="pendingRedirect",Uc=new Map;class Vc extends jc{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Kc(t),r=Hc(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function qc(e,t){return Hc(e)._set(Kc(t),"true")}function Wc(e,t){Uc.set(e._key(),t)}function Hc(e){return gs(e._redirectPersistence)}function Kc(e){return bs(Bc,e.config.apiKey,e.name)}function Gc(e,t,n){return async function(e,t,n){const r=Ms(e);Oa(e,t,ol),await r._initializationPromise;const i=Nc(r,n);return await qc(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Qc(e,t,n){return async function(e,t,n){const r=Ji(e);Oa(r.auth,t,ol),await r.auth._initializationPromise;const i=Nc(r.auth,n);await qc(i,r.auth);const o=await Xc(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}function $c(e,t,n){return async function(e,t,n){const r=Ji(e);Oa(r.auth,t,ol),await r.auth._initializationPromise;const i=Nc(r.auth,n);await Sl(!1,r,t.providerId),await qc(i,r.auth);const o=await Xc(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}async function Yc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Ms(e),i=Nc(r,t),o=new Vc(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function Xc(e){const t=oc("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Jc{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!tu(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Na(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eu(e))}saveEventToCache(e){this.cachedEventUids.add(eu(e)),this.lastProcessedEventTime=Date.now()}}function eu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function tu(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function nu(e){return Ga(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const ru=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iu=/^https?/;function ou(e){const t=Za(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!iu.test(n))return!1;if(ru.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const au=new Ua(3e4,6e4);function su(){const e=sc().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let lu=null;function cu(e){return lu=lu||function(e){return new Promise(((t,n)=>{var r,i,o;function a(){su(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{su(),n(Na(e,"network-request-failed"))},timeout:au.get()})}if(null===(i=null===(r=sc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=sc().gapi)||void 0===o?void 0:o.load)){const t=Fs("iframefcb");return sc()[t]=()=>{gapi.load?a():n(Na(e,"network-request-failed"))},js("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw lu=null,e}))}(e),lu}const uu=new Ua(5e3,15e3),du="__/auth/iframe",hu="emulator/auth/iframe",fu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mu(e){const t=e.config;La(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Va(t,hu):"https://".concat(e.config.authDomain,"/").concat(du),r={apiKey:t.apiKey,appName:e.name,v:Ho},i=pu.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Ki(r).slice(1))}const gu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vu{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function yu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},gu),{width:r.toString(),height:i.toString(),top:o,left:a}),c=Mi().toLowerCase();n&&(s=_s(c)?"_blank":n),Ss(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Rs(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new vu(null);const d=window.open(t||"",s,u);La(d,e,"popup-blocked");try{d.focus()}catch(h){}return new vu(d)}const bu="__/auth/handler",wu="emulator/auth/handler",xu=encodeURIComponent("fac");async function Su(e,t,n,r,i,o){La(e.config.authDomain,e,"auth-domain-config-required"),La(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ho,eventId:i};if(t instanceof ol){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof al){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(xu,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(bu);return Va(t,wu)}(e),"?").concat(Ki(s).slice(1)).concat(c)}const ku="webStorageSupport";const _u=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rc,this._completeRedirectFn=Yc,this._overrideRedirectResult=Wc}async _openPopup(e,t,n,r){var i;Fa(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return yu(e,await Su(e,t,n,Za(),r),oc())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){sc().location.href=e}(await Su(e,t,n,Za(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Fa(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await cu(e),n=sc().gapi;return La(n,e,"internal-error"),t.open({where:document.body,url:mu(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fu,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Na(e,"network-request-failed"),o=sc().setTimeout((()=>{r(i)}),uu.get());function a(){sc().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new Jc(e);return t.register("authEvent",(t=>{La(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ku,{type:ku},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ku];void 0!==i&&t(!!i),Aa(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await nu(e);for(const r of t)try{if(ou(r))return}catch(n){}Aa(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ps()||ks()||Rs()}};class Iu{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return ja("unexpected MultiFactorSessionType")}}}class Eu extends Iu{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Eu(e)}_finalizeEnroll(e,t,n){return function(e,t){return Ga(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ka(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Ga(e,"POST","/v2/accounts/mfaSignIn:finalize",Ka(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Tu{constructor(){}static assertion(e){return Eu._fromCredential(e)}}Tu.FACTOR_ID="phone";var Cu="@firebase/auth",Ru="1.5.1";class Pu{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){La(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Ni())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var Au;function Nu(){return window}Au="Browser",zo(new eo("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;La(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:Au,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:As(Au)},c=new Os(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gs);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),zo(new eo("auth-internal",(e=>(e=>new Pu(e))(Ms(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Yo(Cu,Ru,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Au)),Yo(Cu,Ru,"esm2017");async function Du(e,t,n){var r;const{BuildInfo:i}=Nu();Fa(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(Fa(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return Rs()?a.ibi=i.packageName:Es()?a.apn=i.packageName:Aa(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=o,Su(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function Ou(e){const{cordova:t}=Nu();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Mu=20;class Lu extends Jc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function ju(e){const t=await zu()._get(Bu(e));return t&&await zu()._remove(Bu(e)),t}function Fu(e,t){var n,r;const i=function(e){const t=Uu(e),n=t.link?decodeURIComponent(t.link):void 0,r=Uu(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Uu(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Uu(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=a?Na(a):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Zu(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Mu;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function zu(){return gs(tc)}function Bu(e){return bs("authEvent",e.config.apiKey,e.name)}function Uu(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Gi(n.join("?"))}const Vu=class{constructor(){this._redirectPersistence=rc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Yc,this._overrideRedirectResult=Wc}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Lu(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Aa(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,a,s,l,c,u;const d=Nu();La("function"===typeof(null===(t=null===d||void 0===d?void 0:d.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),La("undefined"!==typeof(null===(n=null===d||void 0===d?void 0:d.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),La("function"===typeof(null===(o=null===(i=null===(r=null===d||void 0===d?void 0:d.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),La("function"===typeof(null===(l=null===(s=null===(a=null===d||void 0===d?void 0:d.cordova)||void 0===a?void 0:a.plugins)||void 0===s?void 0:s.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),La("function"===typeof(null===(u=null===(c=null===d||void 0===d?void 0:d.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Uc.clear(),await this._originValidation(e);const o=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Zu(),postBody:null,tenantId:e.tenantId,error:Na(e,"no-auth-event")}}(e,n,r);await function(e,t){return zu()._set(Bu(e),t)}(e,o);const a=await Du(e,o,t);return async function(e,t,n){const{cordova:r}=Nu();let i=()=>{};try{await new Promise(((o,a)=>{let s=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){s||(s=window.setTimeout((()=>{a(Na(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),Es()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),s&&window.clearTimeout(s)}}))}finally{i()}}(e,i,await Ou(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Nu(),n={};Rs()?n.iosBundleId=t.packageName:Es()?n.androidPackageName=t.packageName:Aa(e,"operation-not-supported-in-this-environment"),await nu(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Nu(),o=setTimeout((async()=>{await ju(e),t.onEvent(qu())}),500),a=async n=>{clearTimeout(o);const r=await ju(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Fu(r,n.url)),t.onEvent(i||qu())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const s=r,l="".concat(i.packageName.toLowerCase(),"://");Nu().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"===typeof s)try{s(e)}catch(t){console.error(t)}}}};function qu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Na("no-auth-event")}}function Wu(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Hu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi();return!("file:"!==Wu()&&"ionic:"!==Wu()&&"capacitor:"!==Wu()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ku(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi();return Zi()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi();return/Edge\/\d+/.test(e)}(e)}function Gu(){try{const e=self.localStorage,t=oc();if(e)return e.setItem(t,"1"),e.removeItem(t),!Ku()||zi()}catch(e){return Qu()&&zi()}return!1}function Qu(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function $u(){return("http:"===Wu()||"https:"===Wu()||ji()||Hu())&&!(Fi()||Li())&&Gu()&&!Qu()}function Yu(){return Hu()&&"undefined"!==typeof document}const Xu={LOCAL:"local",NONE:"none",SESSION:"session"},Ju=La,ed="persistence";async function td(e){await e._initializationPromise;const t=nd(),n=bs(ed,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function nd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const rd=La;class id{constructor(){this.browserResolver=gs(_u),this.cordovaResolver=gs(Vu),this.underlyingResolver=null,this._redirectPersistence=rc,this._completeRedirectFn=Yc,this._overrideRedirectResult=Wc}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Yu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rd(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Yu()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function od(e){return e.unwrap()}function ad(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new ud(e,function(e,t){var n;const r=Ji(e),i=t;return La(t.customData.operationType,r,"argument-error"),La(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ql._fromError(r,i)}(e,t))}else if(r){const e=sd(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function sd(e){const{_tokenResponse:t}=e instanceof Bi?e.customData:e;if(!t)return null;if(!(e instanceof Bi)&&"temporaryProof"in t&&"phoneNumber"in t)return Ac.credentialFromResult(e);const n=t.providerId;if(!n||n===ya.PASSWORD)return null;let r;switch(n){case ya.GOOGLE:r=cl;break;case ya.FACEBOOK:r=ll;break;case ya.GITHUB:r=ul;break;case ya.TWITTER:r=fl;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:a,nonce:s}=t;return i||o||e||a?a?n.startsWith("saml.")?dl._create(n,a):el._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new sl(n).credential({idToken:e,accessToken:i,rawNonce:s}):null}return e instanceof Bi?r.credentialFromError(e):r.credentialFromResult(e)}function ld(e,t){return t.catch((t=>{throw t instanceof Bi&&ad(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,sd(r)),additionalUserInfo:Kl(e),user:dd.getOrCreate(n)};var r}))}async function cd(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ld(e,n.confirm(t))}}class ud{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ld(od(this.auth),this.resolver.resolveSignIn(e))}}class dd{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Ji(e);return Yl.has(t)||Yl.set(t,$l._fromUser(t)),Yl.get(t)}(e)}static getOrCreate(e){return dd.USER_MAP.has(e)||dd.USER_MAP.set(e,new dd(e)),dd.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ld(this.auth,El(this._delegate,e))}async linkWithPhoneNumber(e,t){return cd(this.auth,async function(e,t,n){const r=Ji(e);await Sl(!1,r,"phone");const i=await Pc(r.auth,t,Ji(n));return new Rc(i,(e=>El(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return ld(this.auth,async function(e,t,n){const r=Ji(e);Oa(r.auth,t,ol);const i=Nc(r.auth,n);return new zc(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,id))}async linkWithRedirect(e){return await td(Ms(this.auth)),$c(this._delegate,e,id)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ld(this.auth,Tl(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return cd(this.auth,async function(e,t,n){const r=Ji(e),i=await Pc(r.auth,t,Ji(n));return new Rc(i,(e=>Tl(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return ld(this.auth,async function(e,t,n){const r=Ji(e);Oa(r.auth,t,ol);const i=Nc(r.auth,n);return new zc(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,id))}async reauthenticateWithRedirect(e){return await td(Ms(this.auth)),Qc(this._delegate,e,id)}sendEmailVerification(e){return jl(this._delegate,e)}async unlink(e){return await wl(this._delegate,e),this}updateEmail(e){return function(e,t){return zl(Ji(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return zl(Ji(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await xl(Ji(e),t)}(this._delegate,e)}updateProfile(e){return Zl(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Fl(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}dd.USER_MAP=new WeakMap;const hd=La;class fd{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;hd(n,"invalid-api-key",{appName:e.name}),hd(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?id:void 0;this._delegate=t.initialize({options:{persistence:md(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Ea),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?dd.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Us(this._delegate,e,t)}applyActionCode(e){return Ol(this._delegate,e)}checkActionCode(e){return Ml(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Hs(Ji(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Dl(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ld(this._delegate,async function(e,t,n){const r=Ms(e),i=Bs(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pl),o=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Dl(e),t})),a=await ml._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Ll(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=rl.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){hd($u(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Ms(e)._initializationPromise,Yc(e,t,!1)}(this._delegate,id);return e?ld(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Ms(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=pd(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=pd(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Ms(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){La(t.handleCodeInApp,r,"argument-error"),t&&Nl(r,e,t)}(i,n),await Bs(r,i,"getOobCode",Ys)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Ms(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Nl(r,i,n),await Bs(r,i,"getOobCode",$s)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Ju(Object.values(Xu).includes(t),e,"invalid-persistence-type"),Fi()?Ju(t!==Xu.SESSION,e,"unsupported-persistence-type"):Li()?Ju(t===Xu.NONE,e,"unsupported-persistence-type"):Qu()?Ju(t===Xu.NONE||t===Xu.LOCAL&&zi(),e,"unsupported-persistence-type"):Ju(t===Xu.NONE||Gu(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Xu.SESSION:t=rc;break;case Xu.LOCAL:t=await gs(yc)._isAvailable()?yc:tc;break;case Xu.NONE:t=ys;break;default:return Aa("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ld(this._delegate,async function(e){var t;const n=Ms(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new ml({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await pl(n,{returnSecureToken:!0}),i=await ml._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return ld(this._delegate,Il(this._delegate,e))}signInWithCustomToken(e){return ld(this._delegate,Cl(this._delegate,e))}signInWithEmailAndPassword(e,t){return ld(this._delegate,function(e,t,n){return Il(Ji(e),il.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Dl(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return ld(this._delegate,async function(e,t,n){const r=Ji(e),i=il.credentialWithLink(t,n||Za());return La(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Il(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return cd(this._delegate,async function(e,t,n){const r=Ms(e),i=await Pc(r,t,Ji(n));return new Rc(i,(e=>Il(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return hd($u(),this._delegate,"operation-not-supported-in-this-environment"),ld(this._delegate,Zc(this._delegate,e,id))}async signInWithRedirect(e){return hd($u(),this._delegate,"operation-not-supported-in-this-environment"),await td(this._delegate),Gc(this._delegate,e,id)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Ml(Ji(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function pd(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&dd.getOrCreate(e)),error:t,complete:n}}function md(e,t){const n=function(e,t){const n=nd();if(!n)return[];const r=bs(ed,e,t);switch(n.getItem(r)){case Xu.NONE:return[ys];case Xu.LOCAL:return[yc,rc];case Xu.SESSION:return[rc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(yc)||n.push(yc),"undefined"!==typeof window)for(const r of[tc,rc])n.includes(r)||n.push(r);return n.includes(ys)||n.push(ys),n}fd.Persistence=Xu;class gd{constructor(){this.providerId="phone",this._delegate=new Ac(od(ga.auth()))}static credential(e,t){return Ac.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}gd.PHONE_SIGN_IN_METHOD=Ac.PHONE_SIGN_IN_METHOD,gd.PROVIDER_ID=Ac.PROVIDER_ID;const vd=La;class yd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ga.app();var r;vd(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Cc(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var bd;(bd=ga).INTERNAL.registerComponent(new eo("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new fd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ba,PASSWORD_RESET:wa,RECOVER_EMAIL:xa,REVERT_SECOND_FACTOR_ADDITION:Sa,VERIFY_AND_CHANGE_EMAIL:ka,VERIFY_EMAIL:_a}},EmailAuthProvider:il,FacebookAuthProvider:ll,GithubAuthProvider:ul,GoogleAuthProvider:cl,OAuthProvider:sl,SAMLAuthProvider:hl,PhoneAuthProvider:gd,PhoneMultiFactorGenerator:Tu,RecaptchaVerifier:yd,TwitterAuthProvider:fl,Auth:fd,AuthCredential:Ws,Error:Bi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),bd.registerVersion("@firebase/auth-compat","0.5.1");var wd,xd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Sd={},kd=kd||{},_d=xd||self;function Id(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ed(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Td="closure_uid_"+(1e9*Math.random()>>>0),Cd=0;function Rd(e,t,n){return e.call.apply(e.bind,arguments)}function Pd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ad(e,t,n){return(Ad=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rd:Pd).apply(null,arguments)}function Nd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Dd(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Od(){this.s=this.s,this.o=this.o}Od.prototype.s=!1,Od.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Td)&&e[Td]||(e[Td]=++Cd))},Od.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Md=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ld(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function jd(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Id(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Fd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Fd.prototype.h=function(){this.defaultPrevented=!0};var Zd=function(){if(!_d.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};_d.addEventListener("test",e,t),_d.removeEventListener("test",e,t)}catch(n){}return e}();function zd(e){return/^[\s\xa0]*$/.test(e)}function Bd(){var e=_d.navigator;return e&&(e=e.userAgent)?e:""}function Ud(e){return-1!=Bd().indexOf(e)}function Vd(e){return Vd[" "](e),e}Vd[" "]=function(){};var qd,Wd,Hd=Ud("Opera"),Kd=Ud("Trident")||Ud("MSIE"),Gd=Ud("Edge"),Qd=Gd||Kd,$d=Ud("Gecko")&&!(-1!=Bd().toLowerCase().indexOf("webkit")&&!Ud("Edge"))&&!(Ud("Trident")||Ud("MSIE"))&&!Ud("Edge"),Yd=-1!=Bd().toLowerCase().indexOf("webkit")&&!Ud("Edge");function Xd(){var e=_d.document;return e?e.documentMode:void 0}e:{var Jd="",eh=function(){var e=Bd();return $d?/rv:([^\);]+)(\)|;)/.exec(e):Gd?/Edge\/([\d\.]+)/.exec(e):Kd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Yd?/WebKit\/(\S+)/.exec(e):Hd?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(eh&&(Jd=eh?eh[1]:""),Kd){var th=Xd();if(null!=th&&th>parseFloat(Jd)){qd=String(th);break e}}qd=Jd}if(_d.document&&Kd){var nh=Xd();Wd=nh||(parseInt(qd,10)||void 0)}else Wd=void 0;var rh=Wd;function ih(e,t){if(Fd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if($d){e:{try{Vd(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:oh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ih.$.h.call(this)}}Dd(ih,Fd);var oh={2:"touch",3:"pen",4:"mouse"};ih.prototype.h=function(){ih.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ah="closure_listenable_"+(1e6*Math.random()|0),sh=0;function lh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++sh,this.fa=this.ia=!1}function ch(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function uh(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function dh(e){const t={};for(const n in e)t[n]=e[n];return t}const hh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fh(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<hh.length;t++)n=hh[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ph(e){this.src=e,this.g={},this.h=0}function mh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Md(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ch(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function gh(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}ph.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=gh(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new lh(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var vh="closure_lm_"+(1e6*Math.random()|0),yh={};function bh(e,t,n,r,i){if(r&&r.once)return xh(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)bh(e,t[o],n,r,i);return null}return n=Ch(n),e&&e[ah]?e.O(t,n,Ed(r)?!!r.capture:!!r,i):wh(e,t,n,!1,r,i)}function wh(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=Ed(i)?!!i.capture:!!i,s=Eh(e);if(s||(e[vh]=s=new ph(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Ih;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Zd||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_h(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xh(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)xh(e,t[o],n,r,i);return null}return n=Ch(n),e&&e[ah]?e.P(t,n,Ed(r)?!!r.capture:!!r,i):wh(e,t,n,!0,r,i)}function Sh(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Sh(e,t[o],n,r,i);else r=Ed(r)?!!r.capture:!!r,n=Ch(n),e&&e[ah]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=gh(o=e.g[t],n,r,i))&&(ch(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Eh(e))&&(t=e.g[t.toString()],e=-1,t&&(e=gh(t,n,r,i)),(n=-1<e?t[e]:null)&&kh(n))}function kh(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ah])mh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_h(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Eh(t))?(mh(n,e),0==n.h&&(n.src=null,t[vh]=null)):ch(e)}}}function _h(e){return e in yh?yh[e]:yh[e]="on"+e}function Ih(e,t){if(e.fa)e=!0;else{t=new ih(t,this);var n=e.listener,r=e.la||e.src;e.ia&&kh(e),e=n.call(r,t)}return e}function Eh(e){return(e=e[vh])instanceof ph?e:null}var Th="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ch(e){return"function"===typeof e?e:(e[Th]||(e[Th]=function(t){return e.handleEvent(t)}),e[Th])}function Rh(){Od.call(this),this.i=new ph(this),this.S=this,this.J=null}function Ph(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Fd(t,e);else if(t instanceof Fd)t.target=t.target||e;else{var i=t;fh(t=new Fd(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Ah(a,r,!0,t)&&i}if(i=Ah(a=t.g=e,r,!0,t)&&i,i=Ah(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ah(a=t.g=n[o],r,!1,t)&&i}function Ah(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.fa&&a.capture==n){var s=a.listener,l=a.la||a.src;a.ia&&mh(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}Dd(Rh,Od),Rh.prototype[ah]=!0,Rh.prototype.removeEventListener=function(e,t,n,r){Sh(this,e,t,n,r)},Rh.prototype.N=function(){if(Rh.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ch(n[r]);delete t.g[e],t.h--}}this.J=null},Rh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Rh.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Nh=_d.JSON.stringify;function Dh(){var e=zh;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Oh=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Mh),(e=>e.reset()));class Mh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Lh(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function jh(e){_d.setTimeout((()=>{throw e}),0)}let Fh,Zh=!1,zh=new class{constructor(){this.h=this.g=null}add(e,t){const n=Oh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Bh=()=>{const e=_d.Promise.resolve(void 0);Fh=()=>{e.then(Uh)}};var Uh=()=>{for(var e;e=Dh();){try{e.h.call(e.g)}catch(n){jh(n)}var t=Oh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Zh=!1};function Vh(e,t){Rh.call(this),this.h=e||1,this.g=t||_d,this.j=Ad(this.qb,this),this.l=Date.now()}function qh(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Wh(e,t,n){if("function"===typeof e)n&&(e=Ad(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ad(e.handleEvent,e)}return 2147483647<Number(t)?-1:_d.setTimeout(e,t||0)}function Hh(e){e.g=Wh((()=>{e.g=null,e.i&&(e.i=!1,Hh(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Dd(Vh,Rh),(wd=Vh.prototype).ga=!1,wd.T=null,wd.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ph(this,"tick"),this.ga&&(qh(this),this.start()))}},wd.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wd.N=function(){Vh.$.N.call(this),qh(this),delete this.g};class Kh extends Od{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Hh(this)}N(){super.N(),this.g&&(_d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gh(e){Od.call(this),this.h=e,this.g={}}Dd(Gh,Od);var Qh=[];function $h(e,t,n,r){Array.isArray(n)||(n&&(Qh[0]=n.toString()),n=Qh);for(var i=0;i<n.length;i++){var o=bh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Yh(e){uh(e.g,(function(e,t){this.g.hasOwnProperty(t)&&kh(e)}),e),e.g={}}function Xh(){this.g=!0}function Jh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Nh(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Gh.prototype.N=function(){Gh.$.N.call(this),Yh(this)},Gh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xh.prototype.Ea=function(){this.g=!1},Xh.prototype.info=function(){};var ef={},tf=null;function nf(){return tf=tf||new Rh}function rf(e){Fd.call(this,ef.Ta,e)}function of(e){const t=nf();Ph(t,new rf(t))}function af(e,t){Fd.call(this,ef.STAT_EVENT,e),this.stat=t}function sf(e){const t=nf();Ph(t,new af(t,e))}function lf(e,t){Fd.call(this,ef.Ua,e),this.size=t}function cf(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return _d.setTimeout((function(){e()}),t)}ef.Ta="serverreachability",Dd(rf,Fd),ef.STAT_EVENT="statevent",Dd(af,Fd),ef.Ua="timingevent",Dd(lf,Fd);var uf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},df={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hf(){}function ff(e){return e.h||(e.h=e.i())}function pf(){}hf.prototype.h=null;var mf,gf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function vf(){Fd.call(this,"d")}function yf(){Fd.call(this,"c")}function bf(){}function wf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Gh(this),this.P=Sf,e=Qd?125:void 0,this.V=new Vh(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xf}function xf(){this.i=null,this.g="",this.h=!1}Dd(vf,Fd),Dd(yf,Fd),Dd(bf,hf),bf.prototype.g=function(){return new XMLHttpRequest},bf.prototype.i=function(){return{}},mf=new bf;var Sf=45e3,kf={},_f={};function If(e,t,n){e.L=1,e.A=qf(Zf(t)),e.u=n,e.S=!0,Ef(e,null)}function Ef(e,t){e.G=Date.now(),Pf(e),e.B=Zf(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),rp(n.i,"t",r),e.o=0,n=e.l.J,e.h=new xf,e.g=im(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Kh(Ad(e.Pa,e,e.g),e.O)),$h(e.U,e.g,"readystatechange",e.nb),t=e.I?dh(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),of(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Tf(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Cf(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Rf(e,n),r==_f){4==t&&(e.s=4,sf(14),i=!1),Jh(e.j,e.m,null,"[Incomplete Response]");break}if(r==kf){e.s=4,sf(15),Jh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Jh(e.j,e.m,r,null),Mf(e,r)}Tf(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,sf(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),$p(t),t.M=!0,sf(11))):(Jh(e.j,e.m,n,"[Invalid Chunked Response]"),Of(e),Df(e))}function Rf(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?_f:(n=Number(t.substring(n,r)),isNaN(n)?kf:(r+=1)+n>t.length?_f:(t=t.slice(r,r+n),e.o=r+n,t))}function Pf(e){e.Y=Date.now()+e.P,Af(e,e.P)}function Af(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=cf(Ad(e.lb,e),t)}function Nf(e){e.C&&(_d.clearTimeout(e.C),e.C=null)}function Df(e){0==e.l.H||e.J||Jp(e.l,e)}function Of(e){Nf(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,qh(e.V),Yh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Mf(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||up(n.i,e)))if(!e.K&&up(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Xp(n),Up(n)}Qp(n),sf(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=cf(Ad(n.ib,n),6e3));if(1>=cp(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else tm(n,11)}else if((e.K||n.g==e)&&Xp(n),!zd(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(dp(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Vf(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=rm(r,r.J?r.pa:null,r.Y),a.K){hp(r.i,a);var s=a,l=r.L;l&&s.setTimeout(l),s.C&&(Nf(s),Pf(s)),r.g=a}else Gp(r);0<n.j.length&&qp(n)}else"stop"!=c[0]&&"close"!=c[0]||tm(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?tm(n,7):Bp(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}of()}catch(c){}}function Lf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Id(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Id(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Id(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(wd=wf.prototype).setTimeout=function(e){this.P=e},wd.nb=function(e){e=e.target;const t=this.M;t&&3==Mp(e)?t.l():this.Pa(e)},wd.Pa=function(e){try{if(e==this.g)e:{const u=Mp(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Qd||this.g&&(this.h.h||this.g.ja()||Lp(this.g)))){this.J||4!=u||7==t||of(),Nf(this);var n=this.g.da();this.ca=n;t:if(Tf(this)){var r=Lp(this.g);e="";var i=r.length,o=4==Mp(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Of(this),Df(this);var a="";break t}this.h.i=new _d.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,l=this.g;if((s=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zd(s)){var c=s;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,sf(12),Of(this),Df(this);break e}Jh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mf(this,n)}this.S?(Cf(this,u,a),Qd&&this.i&&3==u&&($h(this.U,this.V,"tick",this.mb),this.V.start())):(Jh(this.j,this.m,a,null),Mf(this,a)),4==u&&Of(this),this.i&&!this.J&&(4==u?Jp(this.l,this):(this.i=!1,Pf(this)))}else(function(e){const t={};e=(e.g&&2<=Mp(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(zd(e[r]))continue;var n=Lh(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,sf(12)):(this.s=0,sf(13)),Of(this),Df(this)}}}catch(u){}},wd.mb=function(){if(this.g){var e=Mp(this.g),t=this.g.ja();this.o<t.length&&(Nf(this),Cf(this,e,t),this.i&&4!=e&&Pf(this))}},wd.cancel=function(){this.J=!0,Of(this)},wd.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(of(),sf(17)),Of(this),this.s=2,Df(this)):Af(this,this.Y-e)};var jf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ff(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ff){this.h=e.h,zf(this,e.j),this.s=e.s,this.g=e.g,Bf(this,e.m),this.l=e.l;var t=e.i,n=new Jf;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Uf(this,n),this.o=e.o}else e&&(t=String(e).match(jf))?(this.h=!1,zf(this,t[1]||"",!0),this.s=Wf(t[2]||""),this.g=Wf(t[3]||"",!0),Bf(this,t[4]),this.l=Wf(t[5]||"",!0),Uf(this,t[6]||"",!0),this.o=Wf(t[7]||"")):(this.h=!1,this.i=new Jf(null,this.h))}function Zf(e){return new Ff(e)}function zf(e,t,n){e.j=n?Wf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Uf(e,t,n){t instanceof Jf?(e.i=t,function(e,t){t&&!e.j&&(ep(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tp(this,t),rp(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Hf(t,Yf)),e.i=new Jf(t,e.h))}function Vf(e,t,n){e.i.set(t,n)}function qf(e){return Vf(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Wf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Hf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Kf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Kf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ff.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Hf(t,Gf,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Hf(t,Gf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Hf(n,"/"==n.charAt(0)?$f:Qf,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Hf(n,Xf)),e.join("")};var Gf=/[#\/\?@]/g,Qf=/[#\?:]/g,$f=/[#\?]/g,Yf=/[#\?@]/g,Xf=/#/g;function Jf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ep(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tp(e,t){ep(e),t=ip(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function np(e,t){return ep(e),t=ip(e,t),e.g.has(t)}function rp(e,t,n){tp(e,t),0<n.length&&(e.i=null,e.g.set(ip(e,t),Ld(n)),e.h+=n.length)}function ip(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(wd=Jf.prototype).add=function(e,t){ep(this),this.i=null,e=ip(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},wd.forEach=function(e,t){ep(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},wd.ta=function(){ep(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},wd.Z=function(e){ep(this);let t=[];if("string"===typeof e)np(this,e)&&(t=t.concat(this.g.get(ip(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},wd.set=function(e,t){return ep(this),this.i=null,np(this,e=ip(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},wd.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},wd.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var op=class{constructor(e,t){this.g=e,this.map=t}};function ap(e){this.l=e||sp,_d.PerformanceNavigationTiming?e=0<(e=_d.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(_d.g&&_d.g.Ka&&_d.g.Ka()&&_d.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sp=10;function lp(e){return!!e.h||!!e.g&&e.g.size>=e.j}function cp(e){return e.h?1:e.g?e.g.size:0}function up(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dp(e,t){e.g?e.g.add(t):e.h=t}function hp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fp(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Ld(e.i)}ap.prototype.cancel=function(){if(this.i=fp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var pp,mp=class{stringify(e){return _d.JSON.stringify(e,void 0)}parse(e){return _d.JSON.parse(e,void 0)}};function gp(){this.g=new mp}function vp(e,t,n){const r=n||"";try{Lf(e,(function(e,n){let i=e;Ed(e)&&(i=Nh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function yp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function bp(e){this.l=e.ec||null,this.j=e.ob||!1}function wp(e,t){Rh.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=xp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dd(bp,hf),bp.prototype.g=function(){return new wp(this.l,this.j)},bp.prototype.i=(pp={},function(){return pp}),Dd(wp,Rh);var xp=0;function Sp(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function kp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_p(e)}function _p(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(wd=wp.prototype).open=function(e,t){if(this.readyState!=xp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_p(this)},wd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||_d).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},wd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kp(this)),this.readyState=xp},wd.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_p(this)),this.g&&(this.readyState=3,_p(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof _d.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sp(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},wd.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?kp(this):_p(this),3==this.readyState&&Sp(this)}},wd.Za=function(e){this.g&&(this.response=this.responseText=e,kp(this))},wd.Ya=function(e){this.g&&(this.response=e,kp(this))},wd.ka=function(){this.g&&kp(this)},wd.setRequestHeader=function(e,t){this.v.append(e,t)},wd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},wd.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ip=_d.JSON.parse;function Ep(e){Rh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Tp,this.L=this.M=!1}Dd(Ep,Rh);var Tp="",Cp=/^https?$/i,Rp=["POST","PUT"];function Pp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ap(e),Dp(e)}function Ap(e){e.F||(e.F=!0,Ph(e,"complete"),Ph(e,"error"))}function Np(e){if(e.h&&"undefined"!=typeof kd&&(!e.C[1]||4!=Mp(e)||2!=e.da()))if(e.v&&4==Mp(e))Wh(e.La,0,e);else if(Ph(e,"readystatechange"),4==Mp(e)){e.h=!1;try{const s=e.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.I).match(jf)[1]||null;!i&&_d.self&&_d.self.location&&(i=_d.self.location.protocol.slice(0,-1)),r=!Cp.test(i?i.toLowerCase():"")}n=r}if(n)Ph(e,"complete"),Ph(e,"success");else{e.m=6;try{var o=2<Mp(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.da()+"]",Ap(e)}}finally{Dp(e)}}}function Dp(e,t){if(e.g){Op(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ph(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Op(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(_d.clearTimeout(e.A),e.A=null)}function Mp(e){return e.g?e.g.readyState:0}function Lp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Tp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Vm){return null}}function jp(e){let t="";return uh(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Fp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jp(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Vf(e,t,n))}function Zp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zp(e){this.Ga=0,this.j=[],this.l=new Xh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zp("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zp("baseRetryDelayMs",5e3,e),this.hb=Zp("retryDelaySeedMs",1e4,e),this.eb=Zp("forwardChannelMaxRetries",2,e),this.xa=Zp("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ap(e&&e.concurrentRequestLimit),this.Ja=new gp,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Bp(e){if(Vp(e),3==e.H){var t=e.W++,n=Zf(e.I);if(Vf(n,"SID",e.K),Vf(n,"RID",t),Vf(n,"TYPE","terminate"),Hp(e,n),(t=new wf(e,e.l,t)).L=2,t.A=qf(Zf(n)),n=!1,_d.navigator&&_d.navigator.sendBeacon)try{n=_d.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&_d.Image&&((new Image).src=t.A,n=!0),n||(t.g=im(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Pf(t)}nm(e)}function Up(e){e.g&&($p(e),e.g.cancel(),e.g=null)}function Vp(e){Up(e),e.u&&(_d.clearTimeout(e.u),e.u=null),Xp(e),e.i.cancel(),e.m&&("number"===typeof e.m&&_d.clearTimeout(e.m),e.m=null)}function qp(e){if(!lp(e.i)&&!e.m){e.m=!0;var t=e.Na;Fh||Bh(),Zh||(Fh(),Zh=!0),zh.add(t,e),e.C=0}}function Wp(e,t){var n;n=t?t.m:e.W++;const r=Zf(e.I);Vf(r,"SID",e.K),Vf(r,"RID",n),Vf(r,"AID",e.V),Hp(e,r),e.o&&e.s&&Fp(r,e.o,e.s),n=new wf(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Kp(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),dp(e.i,n),If(n,r,t)}function Hp(e,t){e.na&&uh(e.na,(function(e,n){Vf(t,n,e)})),e.h&&Lf({},(function(e,n){Vf(t,n,e)}))}function Kp(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ad(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const s=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{vp(s,e,"req"+n+"_")}catch(av){r&&r(s)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Gp(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Fh||Bh(),Zh||(Fh(),Zh=!0),zh.add(t,e),e.A=0}}function Qp(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=cf(Ad(e.Ma,e),em(e,e.A)),e.A++,!0)}function $p(e){null!=e.B&&(_d.clearTimeout(e.B),e.B=null)}function Yp(e){e.g=new wf(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Zf(e.wa);Vf(t,"RID","rpc"),Vf(t,"SID",e.K),Vf(t,"AID",e.V),Vf(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Vf(t,"TO",e.qa),Vf(t,"TYPE","xmlhttp"),Hp(e,t),e.o&&e.s&&Fp(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=qf(Zf(t)),n.u=null,n.S=!0,Ef(n,e)}function Xp(e){null!=e.v&&(_d.clearTimeout(e.v),e.v=null)}function Jp(e,t){var n=null;if(e.g==t){Xp(e),$p(e),e.g=null;var r=2}else{if(!up(e.i,t))return;n=t.F,hp(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Ph(r=nf(),new lf(r,n)),qp(e)}else Gp(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(cp(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=cf(Ad(e.Na,e,t),em(e,e.C)),e.C++,!0))}(e,t)||2==r&&Qp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:tm(e,5);break;case 4:tm(e,10);break;case 3:tm(e,6);break;default:tm(e,2)}}function em(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function tm(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ad(e.pb,e);n||(n=new Ff("//www.google.com/images/cleardot.gif"),_d.location&&"http"==_d.location.protocol||zf(n,"https"),qf(n)),function(e,t){const n=new Xh;if(_d.Image){const r=new Image;r.onload=Nd(yp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Nd(yp,n,r,"TestLoadImage: error",!1,t),r.onabort=Nd(yp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Nd(yp,n,r,"TestLoadImage: timeout",!1,t),_d.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else sf(2);e.H=0,e.h&&e.h.za(t),nm(e),Vp(e)}function nm(e){if(e.H=0,e.ma=[],e.h){const t=fp(e.i);0==t.length&&0==e.j.length||(jd(e.ma,t),jd(e.ma,e.j),e.i.i.length=0,Ld(e.j),e.j.length=0),e.h.ya()}}function rm(e,t,n){var r=n instanceof Ff?Zf(n):new Ff(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Bf(r,r.m);else{var i=_d.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Ff(null);r&&zf(o,r),t&&(o.g=t),i&&Bf(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Vf(r,n,t),Vf(r,"VER",e.ra),Hp(e,r),r}function im(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Ep(new bp({ob:n})):new Ep(e.va)).Oa(e.J),t}function om(){}function am(){if(Kd&&!(10<=Number(rh)))throw Error("Environmental error: no available transport.")}function sm(e,t){Rh.call(this),this.g=new zp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!zd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!zd(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new um(this)}function lm(e){vf.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function cm(){yf.call(this),this.status=1}function um(e){this.g=e}function dm(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function hm(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function fm(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(wd=Ep.prototype).Oa=function(e){this.M=e},wd.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mf.g(),this.C=this.u?ff(this.u):ff(mf),this.g.onreadystatechange=Ad(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Pp(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=_d.FormData&&e instanceof _d.FormData,!(0<=Md(Rp,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,s]of n)this.g.setRequestHeader(a,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Op(this),0<this.B&&((this.L=function(e){return Kd&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ad(this.ua,this)):this.A=Wh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Pp(this,o)}},wd.ua=function(){"undefined"!=typeof kd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ph(this,"timeout"),this.abort(8))},wd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ph(this,"complete"),Ph(this,"abort"),Dp(this))},wd.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dp(this,!0)),Ep.$.N.call(this)},wd.La=function(){this.s||(this.G||this.v||this.l?Np(this):this.kb())},wd.kb=function(){Np(this)},wd.isActive=function(){return!!this.g},wd.da=function(){try{return 2<Mp(this)?this.g.status:-1}catch(pp){return-1}},wd.ja=function(){try{return this.g?this.g.responseText:""}catch(pp){return""}},wd.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ip(t)}},wd.Ia=function(){return this.m},wd.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(wd=zp.prototype).ra=8,wd.H=1,wd.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new wf(this,this.l,e);let o=this.s;if(this.U&&(o?(o=dh(o),fh(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Kp(this,i,t),Vf(n=Zf(this.I),"RID",e),Vf(n,"CVER",22),this.F&&Vf(n,"X-HTTP-Session-Id",this.F),Hp(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(jp(o)))+"&"+t:this.o&&Fp(n,this.o,o)),dp(this.i,i),this.bb&&Vf(n,"TYPE","init"),this.P?(Vf(n,"$req",t),Vf(n,"SID","null"),i.aa=!0,If(i,n,null)):If(i,n,t),this.H=2}}else 3==this.H&&(e?Wp(this,e):0==this.j.length||lp(this.i)||Wp(this))},wd.Ma=function(){if(this.u=null,Yp(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=cf(Ad(this.jb,this),e)}},wd.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,sf(10),Up(this),Yp(this))},wd.ib=function(){null!=this.v&&(this.v=null,Up(this),Qp(this),sf(19))},wd.pb=function(e){e?(this.l.info("Successfully pinged google.com"),sf(2)):(this.l.info("Failed to ping google.com"),sf(1))},wd.isActive=function(){return!!this.h&&this.h.isActive(this)},(wd=om.prototype).Ba=function(){},wd.Aa=function(){},wd.za=function(){},wd.ya=function(){},wd.isActive=function(){return!0},wd.Va=function(){},am.prototype.g=function(e,t){return new sm(e,t)},Dd(sm,Rh),sm.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;sf(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=rm(e,null,e.Y),qp(e)},sm.prototype.close=function(){Bp(this.g)},sm.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Nh(e),e=n);t.j.push(new op(t.fb++,e)),3==t.H&&qp(t)},sm.prototype.N=function(){this.g.h=null,delete this.j,Bp(this.g),delete this.g,sm.$.N.call(this)},Dd(lm,vf),Dd(cm,yf),Dd(um,om),um.prototype.Ba=function(){Ph(this.g,"a")},um.prototype.Aa=function(e){Ph(this.g,new lm(e))},um.prototype.za=function(e){Ph(this.g,new cm)},um.prototype.ya=function(){Ph(this.g,"b")},Dd(dm,(function(){this.blockSize=-1})),dm.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},dm.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)hm(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){hm(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){hm(this,r),i=0;break}}this.h=i,this.i+=t},dm.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var pm={};function mm(e){return-128<=e&&128>e?function(e,t){var n=pm;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new fm([0|e],0>e?-1:0)})):new fm([0|e],0>e?-1:0)}function gm(e){if(isNaN(e)||!isFinite(e))return ym;if(0>e)return km(gm(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=vm;return new fm(t,0)}var vm=4294967296,ym=mm(0),bm=mm(1),wm=mm(16777216);function xm(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Sm(e){return-1==e.h}function km(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new fm(n,~e.h).add(bm)}function _m(e,t){return e.add(km(t))}function Im(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Em(e,t){this.g=e,this.h=t}function Tm(e,t){if(xm(t))throw Error("division by zero");if(xm(e))return new Em(ym,ym);if(Sm(e))return t=Tm(km(e),t),new Em(km(t.g),km(t.h));if(Sm(t))return t=Tm(e,km(t)),new Em(km(t.g),t.h);if(30<e.g.length){if(Sm(e)||Sm(t))throw Error("slowDivide_ only works with positive integers.");for(var n=bm,r=t;0>=r.X(e);)n=Cm(n),r=Cm(r);var i=Rm(n,1),o=Rm(r,1);for(r=Rm(r,2),n=Rm(n,2);!xm(r);){var a=o.add(r);0>=a.X(e)&&(i=i.add(n),o=a),r=Rm(r,1),n=Rm(n,1)}return t=_m(e,i.R(t)),new Em(i,t)}for(i=ym;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(o=gm(n)).R(t);Sm(a)||0<a.X(e);)a=(o=gm(n-=r)).R(t);xm(o)&&(o=bm),i=i.add(o),e=_m(e,a)}return new Em(i,e)}function Cm(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new fm(n,e.h)}function Rm(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new fm(i,e.h)}(wd=fm.prototype).ea=function(){if(Sm(this))return-km(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:vm+r)*t,t*=vm}return e},wd.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(xm(this))return"0";if(Sm(this))return"-"+km(this).toString(e);for(var t=gm(Math.pow(e,6)),n=this,r="";;){var i=Tm(n,t).g,o=((0<(n=_m(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(xm(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},wd.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},wd.X=function(e){return Sm(e=_m(this,e))?-1:xm(e)?0:1},wd.abs=function(){return Sm(this)?km(this):this},wd.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),a=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new fm(n,-2147483648&n[n.length-1]?-1:0)},wd.R=function(e){if(xm(this)||xm(e))return ym;if(Sm(this))return Sm(e)?km(this).R(km(e)):km(km(this).R(e));if(Sm(e))return km(this.R(km(e)));if(0>this.X(wm)&&0>e.X(wm))return gm(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,a=65535&this.D(r),s=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,Im(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Im(n,2*r+2*i+1),n[2*r+2*i+1]+=a*s,Im(n,2*r+2*i+1),n[2*r+2*i+2]+=o*s,Im(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new fm(n,0)},wd.gb=function(e){return Tm(this,e).h},wd.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new fm(n,this.h&e.h)},wd.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new fm(n,this.h|e.h)},wd.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new fm(n,this.h^e.h)},am.prototype.createWebChannel=am.prototype.g,sm.prototype.send=sm.prototype.u,sm.prototype.open=sm.prototype.m,sm.prototype.close=sm.prototype.close,uf.NO_ERROR=0,uf.TIMEOUT=8,uf.HTTP_ERROR=6,df.COMPLETE="complete",pf.EventType=gf,gf.OPEN="a",gf.CLOSE="b",gf.ERROR="c",gf.MESSAGE="d",Rh.prototype.listen=Rh.prototype.O,Ep.prototype.listenOnce=Ep.prototype.P,Ep.prototype.getLastError=Ep.prototype.Sa,Ep.prototype.getLastErrorCode=Ep.prototype.Ia,Ep.prototype.getStatus=Ep.prototype.da,Ep.prototype.getResponseJson=Ep.prototype.Wa,Ep.prototype.getResponseText=Ep.prototype.ja,Ep.prototype.send=Ep.prototype.ha,Ep.prototype.setWithCredentials=Ep.prototype.Oa,dm.prototype.digest=dm.prototype.l,dm.prototype.reset=dm.prototype.reset,dm.prototype.update=dm.prototype.j,fm.prototype.add=fm.prototype.add,fm.prototype.multiply=fm.prototype.R,fm.prototype.modulo=fm.prototype.gb,fm.prototype.compare=fm.prototype.X,fm.prototype.toNumber=fm.prototype.ea,fm.prototype.toString=fm.prototype.toString,fm.prototype.getBits=fm.prototype.D,fm.fromNumber=gm,fm.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return km(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=gm(Math.pow(n,8)),i=ym,o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+a),n);8>a?(a=gm(Math.pow(n,a)),i=i.R(a).add(gm(s))):i=(i=i.R(r)).add(gm(s))}return i};var Pm=Sd.createWebChannelTransport=function(){return new am},Am=Sd.getStatEventTarget=function(){return nf()},Nm=Sd.ErrorCode=uf,Dm=Sd.EventType=df,Om=Sd.Event=ef,Mm=Sd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Lm=(Sd.FetchXmlHttpFactory=bp,Sd.WebChannel=pf),jm=Sd.XhrIo=Ep,Fm=Sd.Md5=dm,Zm=Sd.Integer=fm;const zm="@firebase/firestore";class Bm{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bm.UNAUTHENTICATED=new Bm(null),Bm.GOOGLE_CREDENTIALS=new Bm("google-credentials-uid"),Bm.FIRST_PARTY=new Bm("first-party-uid"),Bm.MOCK_USER=new Bm("mock-user");let Um="10.7.0";const Vm=new ho("@firebase/firestore");function qm(){return Vm.logLevel}function Wm(e){if(Vm.logLevel<=ao.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Gm);Vm.debug("Firestore (".concat(Um,"): ").concat(e),...i)}}function Hm(e){if(Vm.logLevel<=ao.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Gm);Vm.error("Firestore (".concat(Um,"): ").concat(e),...i)}}function Km(e){if(Vm.logLevel<=ao.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Gm);Vm.warn("Firestore (".concat(Um,"): ").concat(e),...i)}}function Gm(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Qm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Um,") INTERNAL ASSERTION FAILED: ")+e;throw Hm(t),new Error(t)}function $m(e,t){e||Qm()}function Ym(e,t){return e}const Xm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jm extends Bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class eg{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class tg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ng{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Bm.UNAUTHENTICATED)))}shutdown(){}}class rg{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ig{constructor(e){this.t=e,this.currentUser=Bm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new eg;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new eg,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Wm("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Wm("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new eg)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Wm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?($m("string"==typeof t.accessToken),new tg(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $m(null===e||"string"==typeof e),new Bm(e)}}class og{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Bm.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ag{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new og(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Bm.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lg{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Wm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Wm("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Wm("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Wm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?($m("string"==typeof e.token),this.R=e.token,new sg(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function cg(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ug{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=cg(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function dg(e,t){return e<t?-1:e>t?1:0}function hg(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function fg(e){return e+"\0"}class pg{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Jm(Xm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Jm(Xm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Jm(Xm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Jm(Xm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pg.fromMillis(Date.now())}static fromDate(e){return pg.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new pg(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dg(this.nanoseconds,e.nanoseconds):dg(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mg{constructor(e){this.timestamp=e}static fromTimestamp(e){return new mg(e)}static min(){return new mg(new pg(0,0))}static max(){return new mg(new pg(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gg{constructor(e,t,n){void 0===t?t=0:t>e.length&&Qm(),void 0===n?n=e.length-t:n>e.length-t&&Qm(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===gg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gg?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vg extends gg{construct(e,t,n){return new vg(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new vg(e)}static emptyPath(){return new vg([])}}const yg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bg extends gg{construct(e,t,n){return new bg(e,t,n)}static isValidIdentifier(e){return yg.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bg.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new bg(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Jm(Xm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Jm(Xm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Jm(Xm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bg(t)}static emptyPath(){return new bg([])}}class wg{constructor(e){this.path=e}static fromPath(e){return new wg(vg.fromString(e))}static fromName(e){return new wg(vg.fromString(e).popFirst(5))}static empty(){return new wg(vg.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vg.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vg.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new wg(new vg(e.slice()))}}class xg{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Sg(e){return e.fields.find((e=>2===e.kind))}function kg(e){return e.fields.filter((e=>2!==e.kind))}xg.UNKNOWN_ID=-1;class _g{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ig{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ig(0,Cg.min())}}function Eg(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=mg.fromTimestamp(1e9===r?new pg(n+1,0):new pg(n,r));return new Cg(i,wg.empty(),t)}function Tg(e){return new Cg(e.readTime,e.key,-1)}class Cg{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Cg(mg.min(),wg.empty(),-1)}static max(){return new Cg(mg.max(),wg.empty(),-1)}}function Rg(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=wg.comparator(e.documentKey,t.documentKey),0!==n?n:dg(e.largestBatchId,t.largestBatchId))}const Pg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ag{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ng(e){if(e.code!==Xm.FAILED_PRECONDITION||e.message!==Pg)throw e;Wm("LocalStore","Unexpectedly lost primary lease")}class Dg{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Qm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Dg(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Dg?t:Dg.resolve(t)}catch(e){return Dg.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Dg.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Dg.reject(t)}static resolve(e){return new Dg(((t,n)=>{t(e)}))}static reject(e){return new Dg(((t,n)=>{n(e)}))}static waitFor(e){return new Dg(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Dg.resolve(!1);for(const n of e)t=t.next((e=>e?Dg.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Dg(((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{o[l]=e,++a,a===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Dg(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Og{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new eg,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new jg(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Ug(t.target.error);this.V.reject(new jg(e,n))}}static open(e,t,n,r){try{return new Og(t,e.transaction(r,n))}catch(e){throw new jg(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Wm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Zg(t)}}class Mg{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Mg.S(Mi())&&Hm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Wm("SimpleDb","Removing database:",e),zg(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!zi())return!1;if(Mg.C())return!0;const e=Mi(),t=Mg.S(e),n=0<t&&t<10,r=Mg.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/frontserver",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Wm("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new jg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Jm(Xm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Jm(Xm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new jg(e,r))},r.onupgradeneeded=e=>{Wm("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Wm("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.O(e);const t=Og.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Dg.reject(e)))).toPromise();return o.catch((()=>{})),await t.m,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Wm("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Lg{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return zg(this.k.delete())}}class jg extends Jm{constructor(e,t){super(Xm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Fg(e){return"IndexedDbTransactionError"===e.name}class Zg{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Wm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Wm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),zg(n)}add(e){return Wm("SimpleDb","ADD",this.store.name,e,e),zg(this.store.add(e))}get(e){return zg(this.store.get(e)).next((t=>(void 0===t&&(t=null),Wm("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Wm("SimpleDb","DELETE",this.store.name,e),zg(this.store.delete(e))}count(){return Wm("SimpleDb","COUNT",this.store.name),zg(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Dg(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Dg(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Wm("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Dg(((n,r)=>{t.onerror=e=>{const t=Ug(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Dg(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Lg(i),a=t(i.primaryKey,i.value,o);if(a instanceof Dg){const e=a.catch((e=>(o.done(),Dg.reject(e))));n.push(e)}o.isDone?r():null===o.$?i.continue():i.continue(o.$)}})).next((()=>Dg.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function zg(e){return new Dg(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ug(e.target.error);n(t)}}))}let Bg=!1;function Ug(e){const t=Mg.S(Mi());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Jm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Bg||(Bg=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Vg{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Wm("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Wm("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(e){Fg(e)?Wm("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Ng(e)}await this.ee(6e4)}))}}class qg{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Dg.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Wm("IndexBackiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Wm("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Tg(t);Rg(r,n)>0&&(n=r)})),new Cg(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Wg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Hg(e){return null==e}function Kg(e){return 0===e&&1/e==-1/0}function Gg(e){return"number"==typeof e&&Number.isInteger(e)&&!Kg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Qg(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Yg(t)),t=$g(e.get(n),t);return Yg(t)}function $g(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Yg(e){return e+"\x01\x01"}function Xg(e){const t=e.length;if($m(t>=2),2===t)return $m("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),vg.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&Qm(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:Qm()}o=t+2}return new vg(r)}Wg._e=-1;const Jg=["userId","batchId"];function ev(e,t){return[e,Qg(t)]}function tv(e,t,n){return[e,Qg(t),n]}const nv={},rv=["prefixPath","collectionGroup","readTime","documentId"],iv=["prefixPath","collectionGroup","documentId"],ov=["collectionGroup","readTime","prefixPath","documentId"],av=["canonicalId","targetId"],sv=["targetId","path"],lv=["path","targetId"],cv=["collectionId","parent"],uv=["indexId","uid"],dv=["uid","sequenceNumber"],hv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fv=["indexId","uid","orderedDocumentKey"],pv=["userId","collectionPath","documentId"],mv=["userId","collectionPath","largestBatchId"],gv=["userId","collectionGroup","largestBatchId"],vv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],yv=[...vv,"documentOverlays"],bv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wv=bv,xv=[...wv,"indexConfiguration","indexState","indexEntries"];class Sv extends Ag{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function kv(e,t){const n=Ym(e);return Mg.M(n.ae,t)}function _v(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Iv(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ev(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Tv{constructor(e,t){this.comparator=e,this.root=t||Rv.EMPTY}insert(e,t){return new Tv(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rv.BLACK,null,null))}remove(e){return new Tv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rv.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cv(this.root,e,this.comparator,!0)}}class Cv{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rv{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Rv.RED,this.left=null!=r?r:Rv.EMPTY,this.right=null!=i?i:Rv.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Rv(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Rv.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Rv.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rv.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rv.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qm();if(this.right.isRed())throw Qm();const e=this.left.check();if(e!==this.right.check())throw Qm();return e+(this.isRed()?0:1)}}Rv.EMPTY=null,Rv.RED=!0,Rv.BLACK=!1,Rv.EMPTY=new class{constructor(){this.size=0}get key(){throw Qm()}get value(){throw Qm()}get color(){throw Qm()}get left(){throw Qm()}get right(){throw Qm()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Rv(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pv{constructor(e){this.comparator=e,this.data=new Tv(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Av(this.data.getIterator())}getIteratorFrom(e){return new Av(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Pv))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Pv(this.comparator);return t.data=e,t}}class Av{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Nv(e){return e.hasNext()?e.getNext():void 0}class Dv{constructor(e){this.fields=e,e.sort(bg.comparator)}static empty(){return new Dv([])}unionWith(e){let t=new Pv(bg.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Dv(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hg(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Ov extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mv{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ov("Invalid base64 string: "+e):e}}(e);return new Mv(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Mv(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dg(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mv.EMPTY_BYTE_STRING=new Mv("");const Lv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jv(e){if($m(!!e),"string"==typeof e){let t=0;const n=Lv.exec(e);if($m(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Fv(e.seconds),nanos:Fv(e.nanos)}}function Fv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Zv(e){return"string"==typeof e?Mv.fromBase64String(e):Mv.fromUint8Array(e)}function zv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bv(e){const t=e.mapValue.fields.__previous_value__;return zv(t)?Bv(t):t}function Uv(e){const t=jv(e.mapValue.fields.__local_write_time__.timestampValue);return new pg(t.seconds,t.nanos)}class Vv{constructor(e,t,n,r,i,o,a,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l}}class qv{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qv("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qv&&e.projectId===this.projectId&&e.database===this.database}}const Wv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Hv={nullValue:"NULL_VALUE"};function Kv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zv(e)?4:sy(e)?9007199254740991:10:Qm()}function Gv(e,t){if(e===t)return!0;const n=Kv(e);if(n!==Kv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Uv(e).isEqual(Uv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=jv(e.timestampValue),r=jv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Zv(e.bytesValue).isEqual(Zv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Fv(e.geoPointValue.latitude)===Fv(t.geoPointValue.latitude)&&Fv(e.geoPointValue.longitude)===Fv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Fv(e.integerValue)===Fv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Fv(e.doubleValue),r=Fv(t.doubleValue);return n===r?Kg(n)===Kg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return hg(e.arrayValue.values||[],t.arrayValue.values||[],Gv);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_v(n)!==_v(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Gv(n[i],r[i])))return!1;return!0}(e,t);default:return Qm()}}function Qv(e,t){return void 0!==(e.values||[]).find((e=>Gv(e,t)))}function $v(e,t){if(e===t)return 0;const n=Kv(e),r=Kv(t);if(n!==r)return dg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dg(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Fv(e.integerValue||e.doubleValue),r=Fv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Yv(e.timestampValue,t.timestampValue);case 4:return Yv(Uv(e),Uv(t));case 5:return dg(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Zv(e),r=Zv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=dg(n[i],r[i]);if(0!==e)return e}return dg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=dg(Fv(e.latitude),Fv(t.latitude));return 0!==n?n:dg(Fv(e.longitude),Fv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=$v(n[i],r[i]);if(e)return e}return dg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Wv.mapValue&&t===Wv.mapValue)return 0;if(e===Wv.mapValue)return 1;if(t===Wv.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=dg(r[a],o[a]);if(0!==e)return e;const t=$v(n[r[a]],i[o[a]]);if(0!==t)return t}return dg(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Qm()}}function Yv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return dg(e,t);const n=jv(e),r=jv(t),i=dg(n.seconds,r.seconds);return 0!==i?i:dg(n.nanos,r.nanos)}function Xv(e){return Jv(e)}function Jv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=jv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Zv(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return wg.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Jv(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Jv(e.fields[i]));return n+"}"}(e.mapValue):Qm()}function ey(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ty(e){return!!e&&"integerValue"in e}function ny(e){return!!e&&"arrayValue"in e}function ry(e){return!!e&&"nullValue"in e}function iy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function oy(e){return!!e&&"mapValue"in e}function ay(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Iv(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ay(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ay(e.arrayValue.values[n]);return t}return Object.assign({},e)}function sy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ly(e){return"nullValue"in e?Hv:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ey(qv.empty(),wg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Qm()}function cy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ey(qv.empty(),wg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Wv:Qm()}function uy(e,t){const n=$v(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function dy(e,t){const n=$v(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class hy{constructor(e){this.value=e}static empty(){return new hy({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!oy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ay(t)}setAll(e){let t=bg.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ay(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());oy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gv(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];oy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Iv(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new hy(ay(this.value))}}function fy(e){const t=[];return Iv(e.fields,((e,n)=>{const r=new bg([e]);if(oy(n)){const e=fy(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Dv(t)}class py{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new py(e,0,mg.min(),mg.min(),mg.min(),hy.empty(),0)}static newFoundDocument(e,t,n,r){return new py(e,1,t,mg.min(),n,r,0)}static newNoDocument(e,t){return new py(e,2,t,mg.min(),mg.min(),hy.empty(),0)}static newUnknownDocument(e,t){return new py(e,3,t,mg.min(),mg.min(),hy.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(mg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hy.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hy.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mg.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof py&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new py(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class my{constructor(e,t){this.position=e,this.inclusive=t}}function gy(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?wg.comparator(wg.fromName(a.referenceValue),n.key):$v(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function vy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Gv(e.position[n],t.position[n]))return!1;return!0}class yy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function by(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class wy{}class xy extends wy{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ay(e,t,n):"array-contains"===t?new My(e,n):"in"===t?new Ly(e,n):"not-in"===t?new jy(e,n):"array-contains-any"===t?new Fy(e,n):new xy(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ny(e,n):new Dy(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($v(t,this.value)):null!==t&&Kv(this.value)===Kv(t)&&this.matchesComparison($v(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Qm()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sy extends wy{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Sy(e,t)}matches(e){return ky(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ky(e){return"and"===e.op}function _y(e){return"or"===e.op}function Iy(e){return Ey(e)&&ky(e)}function Ey(e){for(const t of e.filters)if(t instanceof Sy)return!1;return!0}function Ty(e){if(e instanceof xy)return e.field.canonicalString()+e.op.toString()+Xv(e.value);if(Iy(e))return e.filters.map((e=>Ty(e))).join(",");{const t=e.filters.map((e=>Ty(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Cy(e,t){return e instanceof xy?function(e,t){return t instanceof xy&&e.op===t.op&&e.field.isEqual(t.field)&&Gv(e.value,t.value)}(e,t):e instanceof Sy?function(e,t){return t instanceof Sy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Cy(n,t.filters[r])),!0)}(e,t):void Qm()}function Ry(e,t){const n=e.filters.concat(t);return Sy.create(n,e.op)}function Py(e){return e instanceof xy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Xv(e.value))}(e):e instanceof Sy?function(e){return e.op.toString()+" {"+e.getFilters().map(Py).join(" ,")+"}"}(e):"Filter"}class Ay extends xy{constructor(e,t,n){super(e,t,n),this.key=wg.fromName(n.referenceValue)}matches(e){const t=wg.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ny extends xy{constructor(e,t){super(e,"in",t),this.keys=Oy("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Dy extends xy{constructor(e,t){super(e,"not-in",t),this.keys=Oy("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Oy(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>wg.fromName(e.referenceValue)))}class My extends xy{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ny(t)&&Qv(t.arrayValue,this.value)}}class Ly extends xy{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qv(this.value.arrayValue,t)}}class jy extends xy{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qv(this.value.arrayValue,t)}}class Fy extends xy{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ny(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Qv(this.value.arrayValue,e)))}}class Zy{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function zy(e){return new Zy(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function By(e){const t=Ym(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ty(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Hg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Xv(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Xv(e))).join(",")),t.ce=e}return t.ce}function Uy(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!by(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Cy(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!vy(e.startAt,t.startAt)&&vy(e.endAt,t.endAt)}function Vy(e){return wg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function qy(e,t){return e.filters.filter((e=>e instanceof xy&&e.field.isEqual(t)))}function Wy(e,t,n){let r=Hv,i=!0;for(const o of qy(e,t)){let e=Hv,t=!0;switch(o.op){case"<":case"<=":e=ly(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Hv}uy({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];uy({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Hy(e,t,n){let r=Wv,i=!0;for(const o of qy(e,t)){let e=Wv,t=!0;switch(o.op){case">=":case">":e=cy(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=Wv}dy({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];dy({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Ky{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Gy(e,t,n,r,i,o,a,s){return new Ky(e,t,n,r,i,o,a,s)}function Qy(e){return new Ky(e)}function $y(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Yy(e){return null!==e.collectionGroup}function Xy(e){const t=Ym(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Pv(bg.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new yy(r,n))})),e.has(bg.keyField().canonicalString())||t.le.push(new yy(bg.keyField(),n))}return t.le}function Jy(e){const t=Ym(e);return t.he||(t.he=eb(t,Xy(e))),t.he}function eb(e,t){if("F"===e.limitType)return zy(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new yy(e.field,t)}));const n=e.endAt?new my(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new my(e.startAt.position,e.startAt.inclusive):null;return zy(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function tb(e,t){const n=e.filters.concat([t]);return new Ky(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function nb(e,t,n){return new Ky(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rb(e,t){return Uy(Jy(e),Jy(t))&&e.limitType===t.limitType}function ib(e){return"".concat(By(Jy(e)),"|lt:").concat(e.limitType)}function ob(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Py(e))).join(", "),"]")),Hg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Xv(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Xv(e))).join(",")),"Target(".concat(t,")")}(Jy(e)),"; limitType=").concat(e.limitType,")")}function ab(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):wg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Xy(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=gy(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xy(e),t))&&!(e.endAt&&!function(e,t,n){const r=gy(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xy(e),t))}(e,t)}function sb(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function lb(e){return(t,n)=>{let r=!1;for(const i of Xy(e)){const e=cb(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function cb(e,t,n){const r=e.field.isKeyField()?wg.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$v(r,i):Qm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Qm()}}class ub{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Iv(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Ev(this.inner)}size(){return this.innerSize}}const db=new Tv(wg.comparator);function hb(){return db}const fb=new Tv(wg.comparator);function pb(){let e=fb;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function mb(e){let t=fb;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function gb(){return yb()}function vb(){return yb()}function yb(){return new ub((e=>e.toString()),((e,t)=>e.isEqual(t)))}const bb=new Tv(wg.comparator),wb=new Pv(wg.comparator);function xb(){let e=wb;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Sb=new Pv(dg);function kb(){return Sb}function _b(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kg(t)?"-0":t}}function Ib(e){return{integerValue:""+e}}function Eb(e,t){return Gg(t)?Ib(t):_b(e,t)}class Tb{constructor(){this._=void 0}}function Cb(e,t,n){return e instanceof Ab?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&zv(t)&&(t=Bv(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Nb?Db(e,t):e instanceof Ob?Mb(e,t):function(e,t){const n=Pb(e,t),r=jb(n)+jb(e.Ie);return ty(n)&&ty(e.Ie)?Ib(r):_b(e.serializer,r)}(e,t)}function Rb(e,t,n){return e instanceof Nb?Db(e,t):e instanceof Ob?Mb(e,t):n}function Pb(e,t){return e instanceof Lb?function(e){return ty(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ab extends Tb{}class Nb extends Tb{constructor(e){super(),this.elements=e}}function Db(e,t){const n=Fb(t);for(const r of e.elements)n.some((e=>Gv(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Ob extends Tb{constructor(e){super(),this.elements=e}}function Mb(e,t){let n=Fb(t);for(const r of e.elements)n=n.filter((e=>!Gv(e,r)));return{arrayValue:{values:n}}}class Lb extends Tb{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function jb(e){return Fv(e.integerValue||e.doubleValue)}function Fb(e){return ny(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Zb{constructor(e,t){this.field=e,this.transform=t}}class zb{constructor(e,t){this.version=e,this.transformResults=t}}class Bb{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bb}static exists(e){return new Bb(void 0,e)}static updateTime(e){return new Bb(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ub(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Vb{}function qb(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ew(e.key,Bb.none()):new Qb(e.key,e.data,Bb.none());{const n=e.data,r=hy.empty();let i=new Pv(bg.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new $b(e.key,r,new Dv(i.toArray()),Bb.none())}}function Wb(e,t,n){e instanceof Qb?function(e,t,n){const r=e.value.clone(),i=Xb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $b?function(e,t,n){if(!Ub(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Xb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Yb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hb(e,t,n,r){return e instanceof Qb?function(e,t,n,r){if(!Ub(e.precondition,t))return n;const i=e.value.clone(),o=Jb(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof $b?function(e,t,n,r){if(!Ub(e.precondition,t))return n;const i=Jb(e.fieldTransforms,r,t),o=t.data;return o.setAll(Yb(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ub(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Kb(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Pb(r.transform,e||null);null!=i&&(null===n&&(n=hy.empty()),n.set(r.field,i))}return n||null}function Gb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&hg(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Nb&&t instanceof Nb||e instanceof Ob&&t instanceof Ob?hg(e.elements,t.elements,Gv):e instanceof Lb&&t instanceof Lb?Gv(e.Ie,t.Ie):e instanceof Ab&&t instanceof Ab}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Qb extends Vb{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $b extends Vb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Yb(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Xb(e,t,n){const r=new Map;$m(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Rb(a,s,n[i]))}return r}function Jb(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Cb(e,o,t))}return r}class ew extends Vb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tw extends Vb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nw{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Wb(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Hb(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Hb(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=vb();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=qb(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(mg.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),xb())}isEqual(e){return this.batchId===e.batchId&&hg(this.mutations,e.mutations,((e,t)=>Gb(e,t)))&&hg(this.baseMutations,e.baseMutations,((e,t)=>Gb(e,t)))}}class rw{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){$m(e.mutations.length===n.length);let r=bb;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new rw(e,t,n,r)}}class iw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ow{constructor(e,t){this.count=e,this.unchangedNames=t}}var aw,sw;function lw(e){switch(e){default:return Qm();case Xm.CANCELLED:case Xm.UNKNOWN:case Xm.DEADLINE_EXCEEDED:case Xm.RESOURCE_EXHAUSTED:case Xm.INTERNAL:case Xm.UNAVAILABLE:case Xm.UNAUTHENTICATED:return!1;case Xm.INVALID_ARGUMENT:case Xm.NOT_FOUND:case Xm.ALREADY_EXISTS:case Xm.PERMISSION_DENIED:case Xm.FAILED_PRECONDITION:case Xm.ABORTED:case Xm.OUT_OF_RANGE:case Xm.UNIMPLEMENTED:case Xm.DATA_LOSS:return!0}}function cw(e){if(void 0===e)return Hm("GRPC error has no .code"),Xm.UNKNOWN;switch(e){case aw.OK:return Xm.OK;case aw.CANCELLED:return Xm.CANCELLED;case aw.UNKNOWN:return Xm.UNKNOWN;case aw.DEADLINE_EXCEEDED:return Xm.DEADLINE_EXCEEDED;case aw.RESOURCE_EXHAUSTED:return Xm.RESOURCE_EXHAUSTED;case aw.INTERNAL:return Xm.INTERNAL;case aw.UNAVAILABLE:return Xm.UNAVAILABLE;case aw.UNAUTHENTICATED:return Xm.UNAUTHENTICATED;case aw.INVALID_ARGUMENT:return Xm.INVALID_ARGUMENT;case aw.NOT_FOUND:return Xm.NOT_FOUND;case aw.ALREADY_EXISTS:return Xm.ALREADY_EXISTS;case aw.PERMISSION_DENIED:return Xm.PERMISSION_DENIED;case aw.FAILED_PRECONDITION:return Xm.FAILED_PRECONDITION;case aw.ABORTED:return Xm.ABORTED;case aw.OUT_OF_RANGE:return Xm.OUT_OF_RANGE;case aw.UNIMPLEMENTED:return Xm.UNIMPLEMENTED;case aw.DATA_LOSS:return Xm.DATA_LOSS;default:return Qm()}}(sw=aw||(aw={}))[sw.OK=0]="OK",sw[sw.CANCELLED=1]="CANCELLED",sw[sw.UNKNOWN=2]="UNKNOWN",sw[sw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sw[sw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sw[sw.NOT_FOUND=5]="NOT_FOUND",sw[sw.ALREADY_EXISTS=6]="ALREADY_EXISTS",sw[sw.PERMISSION_DENIED=7]="PERMISSION_DENIED",sw[sw.UNAUTHENTICATED=16]="UNAUTHENTICATED",sw[sw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sw[sw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sw[sw.ABORTED=10]="ABORTED",sw[sw.OUT_OF_RANGE=11]="OUT_OF_RANGE",sw[sw.UNIMPLEMENTED=12]="UNIMPLEMENTED",sw[sw.INTERNAL=13]="INTERNAL",sw[sw.UNAVAILABLE=14]="UNAVAILABLE",sw[sw.DATA_LOSS=15]="DATA_LOSS";let uw=null;function dw(){return new TextEncoder}const hw=new Zm([4294967295,4294967295],0);function fw(e){const t=dw().encode(e),n=new Fm;return n.update(t),new Uint8Array(n.digest())}function pw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Zm([n,r],0),new Zm([i,o],0)]}class mw{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new gw("Invalid padding: ".concat(t));if(n<0)throw new gw("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new gw("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new gw("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Zm.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Zm.fromNumber(n)));return 1===r.compare(hw)&&(r=new Zm([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=fw(e),[n,r]=pw(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new mw(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.Te)return;const t=fw(e),[n,r]=pw(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class gw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vw{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,yw.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new vw(mg.min(),r,new Tv(dg),hb(),xb())}}class yw{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new yw(n,t,xb(),xb(),xb())}}class bw{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class ww{constructor(e,t){this.targetId=e,this.fe=t}}class xw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mv.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Sw{constructor(){this.ge=0,this.pe=Iw(),this.ye=Mv.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=xb(),t=xb(),n=xb();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Qm()}})),new yw(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Iw()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,$m(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class kw{constructor(e){this.Le=e,this.ke=new Map,this.qe=hb(),this.Qe=_w(),this.Ke=new Tv(dg)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Qm()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Vy(i))if(0===n){const e=new wg(i.path);this.We(t,e,py.newNoDocument(e,mg.min()))}else $m(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==uw||uw.tt(function(e,t,n,r,i){var o,a,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(o=null==h?void 0:h.hashCount)&&void 0!==o?o:0,bitmapLength:null!==(l=null===(s=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=Zv(n).toUint8Array()}catch(e){if(e instanceof Ov)return Km("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new mw(o,r,i)}catch(e){return Km(e instanceof gw?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(o)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Vy(i.target)){const t=new wg(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,py.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=xb();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new vw(e,t,this.Ke,this.qe,n);return this.qe=hb(),this.Qe=_w(),this.Ke=new Tv(dg),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Sw,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Pv(dg),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Wm("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Sw),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function _w(){return new Tv(wg.comparator)}function Iw(){return new Tv(wg.comparator)}const Ew={asc:"ASCENDING",desc:"DESCENDING"},Tw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cw={and:"AND",or:"OR"};class Rw{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Pw(e,t){return e.useProto3Json||Hg(t)?t:{value:t}}function Aw(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Dw(e,t){return Aw(e,t.toTimestamp())}function Ow(e){return $m(!!e),mg.fromTimestamp(function(e){const t=jv(e);return new pg(t.seconds,t.nanos)}(e))}function Mw(e,t){return function(e){return new vg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Lw(e){const t=vg.fromString(e);return $m(ix(t)),t}function jw(e,t){return Mw(e.databaseId,t.path)}function Fw(e,t){const n=Lw(t);if(n.get(1)!==e.databaseId.projectId)throw new Jm(Xm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Jm(Xm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new wg(Uw(n))}function Zw(e,t){return Mw(e.databaseId,t)}function zw(e){const t=Lw(e);return 4===t.length?vg.emptyPath():Uw(t)}function Bw(e){return new vg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Uw(e){return $m(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Vw(e,t,n){return{name:jw(e,t),fields:n.value.mapValue.fields}}function qw(e,t,n){const r=Fw(e,t.name),i=Ow(t.updateTime),o=t.createTime?Ow(t.createTime):mg.min(),a=new hy({mapValue:{fields:t.fields}}),s=py.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Ww(e,t){let n;if(t instanceof Qb)n={update:Vw(e,t.key,t.value)};else if(t instanceof ew)n={delete:jw(e,t.key)};else if(t instanceof $b)n={update:Vw(e,t.key,t.data),updateMask:rx(t.fieldMask)};else{if(!(t instanceof tw))return Qm();n={verify:jw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ab)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Nb)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ob)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Lb)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Qm()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Dw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Qm()}(e,t.precondition)),n}function Hw(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Bb.updateTime(Ow(e.updateTime)):void 0!==e.exists?Bb.exists(e.exists):Bb.none()}(t.currentDocument):Bb.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)$m("REQUEST_TIME"===t.setToServerValue),n=new Ab;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Nb(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Ob(e)}else"increment"in t?n=new Lb(e,t.increment):Qm();const r=bg.fromServerFormat(t.fieldPath);return new Zb(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Fw(e,t.update.name),o=new hy({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Dv(t.map((e=>bg.fromServerFormat(e))))}(t.updateMask);return new $b(i,o,e,n,r)}return new Qb(i,o,n,r)}if(t.delete){const r=Fw(e,t.delete);return new ew(r,n)}if(t.verify){const r=Fw(e,t.verify);return new tw(r,n)}return Qm()}function Kw(e,t){return{documents:[Zw(e,t.path)]}}function Gw(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Zw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Zw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return nx(Sy.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ex(e.field),direction:Yw(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Pw(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Qw(e){let t=zw(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$m(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=$w(e);return t instanceof Sy&&Iy(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new yy(tx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Hg(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new my(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new my(n,t)}(n.endAt)),Gy(t,i,a,o,s,"F",l,c)}function $w(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=tx(e.unaryFilter.field);return xy.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=tx(e.unaryFilter.field);return xy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=tx(e.unaryFilter.field);return xy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=tx(e.unaryFilter.field);return xy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Qm()}}(e):void 0!==e.fieldFilter?function(e){return xy.create(tx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qm()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Sy.create(e.compositeFilter.filters.map((e=>$w(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Qm()}}(e.compositeFilter.op))}(e):Qm()}function Yw(e){return Ew[e]}function Xw(e){return Tw[e]}function Jw(e){return Cw[e]}function ex(e){return{fieldPath:e.canonicalString()}}function tx(e){return bg.fromServerFormat(e.fieldPath)}function nx(e){return e instanceof xy?function(e){if("=="===e.op){if(iy(e.value))return{unaryFilter:{field:ex(e.field),op:"IS_NAN"}};if(ry(e.value))return{unaryFilter:{field:ex(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(iy(e.value))return{unaryFilter:{field:ex(e.field),op:"IS_NOT_NAN"}};if(ry(e.value))return{unaryFilter:{field:ex(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ex(e.field),op:Xw(e.op),value:e.value}}}(e):e instanceof Sy?function(e){const t=e.getFilters().map((e=>nx(e)));return 1===t.length?t[0]:{compositeFilter:{op:Jw(e.op),filters:t}}}(e):Qm()}function rx(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ix(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ox{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:mg.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Mv.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new ox(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ox(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ox(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ox(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ax{constructor(e){this.ut=e}}function sx(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lx(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:jw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Aw(e,t.version.toTimestamp()),createTime:Aw(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:cx(t.version)};else{if(!t.isUnknownDocument())return Qm();r.unknownDocument={path:n.path.toArray(),version:cx(t.version)}}return r}function lx(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function cx(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function ux(e){const t=new pg(e.seconds,e.nanoseconds);return mg.fromTimestamp(t)}function dx(e,t){const n=(t.baseMutations||[]).map((t=>Hw(e.ut,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>Hw(e.ut,t))),i=pg.fromMillis(t.localWriteTimeMs);return new nw(t.batchId,i,n,r)}function hx(e){const t=ux(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ux(e.lastLimboFreeSnapshotVersion):mg.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return $m(1===e.documents.length),Jy(Qy(zw(e.documents[0])))}(e.query):function(e){return Jy(Qw(e))}(e.query),new ox(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Mv.fromBase64String(e.resumeToken))}function fx(e,t){const n=cx(t.snapshotVersion),r=cx(t.lastLimboFreeSnapshotVersion);let i;i=Vy(t.target)?Kw(e.ut,t.target):Gw(e.ut,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:By(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function px(e){const t=Qw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?nb(t,t.limit,"L"):t}function mx(e,t){return new iw(t.largestBatchId,Hw(e.ut,t.overlayMutation))}function gx(e,t){const n=t.path.lastSegment();return[e,Qg(t.path.popLast()),n]}function vx(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:cx(r.readTime),documentKey:Qg(r.documentKey.path),largestBatchId:r.largestBatchId}}class yx{getBundleMetadata(e,t){return bx(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:ux(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return bx(e).put(function(e){return{bundleId:e.id,createTime:cx(Ow(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return wx(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:px(e.bundledQuery),readTime:ux(e.readTime)}}(e)}))}saveNamedQuery(e,t){return wx(e).put(function(e){return{name:e.name,readTime:cx(Ow(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function bx(e){return kv(e,"bundles")}function wx(e){return kv(e,"namedQueries")}class xx{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new xx(e,n)}getOverlay(e,t){return Sx(e).get(gx(this.userId,t)).next((e=>e?mx(this.serializer,e):null))}getOverlays(e,t){const n=gb();return Dg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new iw(t,i);r.push(this.lt(e,o))})),Dg.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Qg(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Sx(e).H("collectionPathOverlayIndex",r))})),Dg.waitFor(i)}getOverlaysForCollection(e,t,n){const r=gb(),i=Qg(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Sx(e).W("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=mx(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=gb();let o;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sx(e).Y({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=mx(this.serializer,t);i.size()<r||a.largestBatchId===o?(i.set(a.getKey(),a),o=a.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return Sx(e).put(function(e,t,n){const[r,i,o]=gx(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ww(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function Sx(e){return kv(e,"documentOverlays")}class kx{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Fv(e.integerValue));else if("doubleValue"in e){const n=Fv(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Kg(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Zv(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?sy(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Qm()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),wg.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function _x(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ix(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=_x(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}kx.St=new kx;class Ex{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e),n=Ix(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),n=Ix(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Tx{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Cx{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Rx{constructor(){this.Wt=new Ex,this.Gt=new Tx(this.Wt),this.zt=new Cx(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Px{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Px(this.indexId,this.documentKey,this.arrayValue,n)}}function Ax(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Nx(e.arrayValue,t.arrayValue),0!==n?n:(n=Nx(e.directionalValue,t.directionalValue),0!==n?n:wg.comparator(e.documentKey,t.documentKey)))}function Nx(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Dx{constructor(e){this.Jt=new Pv(((e,t)=>bg.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if($m(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=Sg(e);if(void 0!==t&&!this.tn(t))return!1;const n=kg(e);let r=new Set,i=0,o=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[o++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(o>=this.Yt.length||!this.rn(this.Yt[o++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new Pv(bg.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new _g(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new _g(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new _g(n.field,"asc"===n.dir?0:1)));return new xg(xg.UNKNOWN_ID,this.collectionId,t,Ig.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Ox(e){var t,n;if($m(e instanceof xy||e instanceof Sy),e instanceof xy){if(e instanceof Ly){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>xy.create(e.field,"==",t))))||[];return Sy.create(r,"or")}return e}const r=e.filters.map((e=>Ox(e)));return Sy.create(r,e.op)}function Mx(e){if(0===e.getFilters().length)return[];const t=Zx(Ox(e));return $m(Fx(t)),Lx(t)||jx(t)?[t]:t.getFilters()}function Lx(e){return e instanceof xy}function jx(e){return e instanceof Sy&&Iy(e)}function Fx(e){return Lx(e)||jx(e)||function(e){if(e instanceof Sy&&_y(e)){for(const t of e.getFilters())if(!Lx(t)&&!jx(t))return!1;return!0}return!1}(e)}function Zx(e){if($m(e instanceof xy||e instanceof Sy),e instanceof xy)return e;if(1===e.filters.length)return Zx(e.filters[0]);const t=e.filters.map((e=>Zx(e)));let n=Sy.create(t,e.op);return n=Ux(n),Fx(n)?n:($m(n instanceof Sy),$m(ky(n)),$m(n.filters.length>1),n.filters.reduce(((e,t)=>zx(e,t))))}function zx(e,t){let n;return $m(e instanceof xy||e instanceof Sy),$m(t instanceof xy||t instanceof Sy),n=e instanceof xy?t instanceof xy?function(e,t){return Sy.create([e,t],"and")}(e,t):Bx(e,t):t instanceof xy?Bx(t,e):function(e,t){if($m(e.filters.length>0&&t.filters.length>0),ky(e)&&ky(t))return Ry(e,t.getFilters());const n=_y(e)?e:t,r=_y(e)?t:e,i=n.filters.map((e=>zx(e,r)));return Sy.create(i,"or")}(e,t),Ux(n)}function Bx(e,t){if(ky(t))return Ry(t,e.getFilters());{const n=t.filters.map((t=>zx(e,t)));return Sy.create(n,"or")}}function Ux(e){if($m(e instanceof xy||e instanceof Sy),e instanceof xy)return e;const t=e.getFilters();if(1===t.length)return Ux(t[0]);if(Ey(e))return e;const n=t.map((e=>Ux(e))),r=[];return n.forEach((t=>{t instanceof xy?r.push(t):t instanceof Sy&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Sy.create(r,e.op)}class Vx{constructor(){this.on=new qx}addToCollectionParentIndex(e,t){return this.on.add(t),Dg.resolve()}getCollectionParents(e,t){return Dg.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Dg.resolve()}deleteFieldIndex(e,t){return Dg.resolve()}deleteAllFieldIndexes(e){return Dg.resolve()}createTargetIndexes(e,t){return Dg.resolve()}getDocumentsMatchingTarget(e,t){return Dg.resolve(null)}getIndexType(e,t){return Dg.resolve(0)}getFieldIndexes(e,t){return Dg.resolve([])}getNextCollectionGroupToUpdate(e){return Dg.resolve(null)}getMinOffset(e,t){return Dg.resolve(Cg.min())}getMinOffsetFromCollectionGroup(e,t){return Dg.resolve(Cg.min())}updateCollectionGroup(e,t,n){return Dg.resolve()}updateIndexEntries(e,t){return Dg.resolve()}}class qx{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Pv(vg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Pv(vg.comparator)).toArray()}}const Wx=new Uint8Array(0);class Hx{constructor(e,t){this.user=e,this.databaseId=t,this._n=new qx,this.an=new ub((e=>By(e)),((e,t)=>Uy(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:Qg(r)};return Kx(e).put(i)}return Dg.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[fg(t),""],!1,!0);return Kx(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Xg(r.parent))}return n}))}addFieldIndex(e,t){const n=Qx(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=$x(e);return i.next((e=>{n.put(vx(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Qx(e),r=$x(e),i=Gx(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Qx(e),n=Gx(e),r=$x(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Dg.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Dx(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Gx(e);let r=!0;const i=new Map;return Dg.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=xb();const r=[];return Dg.forEach(i,((i,o)=>{Wm("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(By(t)));const a=function(e,t){const n=Sg(t);if(void 0===n)return null;for(const r of qy(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),s=function(e,t){const n=new Map;for(const r of kg(t))for(const t of qy(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of kg(t)){const t=0===i.kind?Wy(e,i.fieldPath,e.startAt):Hy(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new my(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of kg(t)){const t=0===i.kind?Hy(e,i.fieldPath,e.endAt):Wy(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new my(n,r)}(o,i),u=this.ln(i,o,l),d=this.ln(i,o,c),h=this.hn(i,o,s),f=this.Pn(i.indexId,a,u,l.inclusive,d,c.inclusive,h);return Dg.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=wg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Dg.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:Mx(Sy.create(e.filters,"and")).map((t=>zy(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,o,a){const s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),c=[];for(let u=0;u<s;++u){const s=t?this.In(t[u/l]):Wx,d=this.Tn(e,s,n[u%l],r),h=this.En(e,s,i[u%l],o),f=a.map((t=>this.Tn(e,s,t,!0)));c.push(...this.createRange(d,h,f))}return c}Tn(e,t,n,r){const i=new Px(e,wg.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new Px(e,wg.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new Dx(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return Dg.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Pv(bg.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new Rx;for(const r of kg(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);kx.St.ht(e,i)}return n.Ut()}In(e){const t=new Rx;return kx.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new Rx;return kx.St.ht(ey(this.databaseId,t),n.jt(function(e){const t=kg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new Rx);let i=0;for(const o of kg(e)){const e=n[i++];for(const n of r)if(this.Rn(t,o.fieldPath)&&ny(e))r=this.Vn(r,o,e);else{const t=n.jt(o.kind);kx.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Rx;n.seed(e.Ut()),kx.St.ht(o,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof xy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Qx(e),r=$x(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Dg.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Ig(t.sequenceNumber,new Cg(ux(t.readTime),new wg(Xg(t.documentKey)),t.largestBatchId)):Ig.empty(),r=e.fields.map((e=>{let[t,n]=e;return new _g(bg.fromServerFormat(t),n)}));return new xg(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:dg(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Qx(e),i=$x(e);return this.fn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Dg.forEach(t,(t=>i.put(vx(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Dg.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Dg.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Dg.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?Dg.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return Gx(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return Gx(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=Gx(e);let i=new Pv(Ax);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new Px(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new Pv(Ax);const r=this.dn(t,e);if(null==r)return n;const i=Sg(t);if(null!=i){const o=e.data.field(i.fieldPath);if(ny(o))for(const i of o.arrayValue.values||[])n=n.add(new Px(t.indexId,e.key,this.In(i),r))}else n=n.add(new Px(t.indexId,e.key,Wx,r));return n}yn(e,t,n,r,i){Wm("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),a=t.getIterator();let s=Nv(o),l=Nv(a);for(;s||l;){let e=!1,t=!1;if(s&&l){const r=n(s,l);r<0?t=!0:r>0&&(e=!0)}else null!=s?t=!0:e=!0;e?(r(l),l=Nv(a)):t?(i(s),s=Nv(o)):(s=Nv(o),l=Nv(a))}}(r,i,Ax,(r=>{o.push(this.wn(e,t,n,r))}),(r=>{o.push(this.Sn(e,t,n,r))})),Dg.waitFor(o)}fn(e){let t=1;return $x(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Ax(e,t))).filter(((e,t,n)=>!t||0!==Ax(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=Ax(o,e),i=Ax(o,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(o),r.push(o.Ht());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2){if(this.bn(r[o],r[o+1]))return[];const e=[r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Wx,[]],t=[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Wx,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return Ax(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Yx)}getMinOffset(e,t){return Dg.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||Qm())))).next(Yx)}}function Kx(e){return kv(e,"collectionParents")}function Gx(e){return kv(e,"indexEntries")}function Qx(e){return kv(e,"indexConfiguration")}function $x(e){return kv(e,"indexState")}function Yx(e){$m(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Rg(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Cg(t.readTime,t.documentKey,n)}const Xx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jx{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Jx(e,Jx.DEFAULT_COLLECTION_PERCENTILE,Jx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function eS(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const l=r.Y({range:a},((e,t,n)=>(s++,n.delete())));o.push(l.next((()=>{$m(1===s)})));const c=[];for(const u of n.mutations){const e=tv(t,u.key.path,n.batchId);o.push(i.delete(e)),c.push(u.key)}return Dg.waitFor(o).next((()=>c))}function tS(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Qm();t=e.noDocument}return JSON.stringify(t).length}Jx.DEFAULT_COLLECTION_PERCENTILE=10,Jx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jx.DEFAULT=new Jx(41943040,Jx.DEFAULT_COLLECTION_PERCENTILE,Jx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jx.DISABLED=new Jx(-1,0,0);class nS{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){$m(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new nS(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return iS(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=oS(e),o=iS(e);return o.add({}).next((a=>{$m("number"==typeof a);const s=new nw(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Ww(e.ut,t))),i=n.mutations.map((t=>Ww(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,s),c=[];let u=new Pv(((e,t)=>dg(e.canonicalString(),t.canonicalString())));for(const e of r){const t=tv(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(o.put(l)),c.push(i.put(t,nv))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[a]=s.keys()})),Dg.waitFor(c).next((()=>s))}))}lookupMutationBatch(e,t){return iS(e).get(t).next((e=>e?($m(e.userId===this.userId),dx(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?Dg.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return iS(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&($m(t.batchId>=n),i=dx(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return iS(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return iS(e).W("userMutationsIndex",t).next((e=>e.map((e=>dx(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=ev(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return oS(e).Y({range:r},((n,r,o)=>{const[a,s,l]=n,c=Xg(s);if(a===this.userId&&t.path.isEqual(c))return iS(e).get(l).next((e=>{if(!e)throw Qm();$m(e.userId===this.userId),i.push(dx(this.serializer,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Pv(dg);const r=[];return t.forEach((t=>{const i=ev(this.userId,t.path),o=IDBKeyRange.lowerBound(i),a=oS(e).Y({range:o},((e,r,i)=>{const[o,a,s]=e,l=Xg(a);o===this.userId&&t.path.isEqual(l)?n=n.add(s):i.done()}));r.push(a)})),Dg.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=ev(this.userId,n),o=IDBKeyRange.lowerBound(i);let a=new Pv(dg);return oS(e).Y({range:o},((e,t,i)=>{const[o,s,l]=e,c=Xg(s);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):i.done()})).next((()=>this.vn(e,a)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(iS(e).get(t).next((e=>{if(null===e)throw Qm();$m(e.userId===this.userId),n.push(dx(this.serializer,e))})))})),Dg.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return eS(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),Dg.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Dg.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return oS(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Xg(e[1]);r.push(t)}else n.done()})).next((()=>{$m(0===r.length)}))}))}containsKey(e,t){return rS(e,this.userId,t)}Mn(e){return aS(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function rS(e,t,n){const r=ev(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return oS(e).Y({range:o,J:!0},((e,n,r)=>{const[o,s,l]=e;o===t&&s===i&&(a=!0),r.done()})).next((()=>a))}function iS(e){return kv(e,"mutations")}function oS(e){return kv(e,"documentMutations")}function aS(e){return kv(e,"mutationQueues")}class sS{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new sS(0)}static Nn(){return new sS(-1)}}class lS{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new sS(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>mg.fromTimestamp(new pg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Ln(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>cS(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>($m(t.targetCount>0),t.targetCount-=1,this.Ln(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return cS(e).Y(((o,a)=>{const s=hx(a);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r++,i.push(this.removeTargetData(e,s)))})).next((()=>Dg.waitFor(i))).next((()=>r))}forEachTarget(e,t){return cS(e).Y(((e,n)=>{const r=hx(n);t(r)}))}Bn(e){return uS(e).get("targetGlobalKey").next((e=>($m(null!==e),e)))}Ln(e,t){return uS(e).put("targetGlobalKey",t)}kn(e,t){return cS(e).put(fx(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=By(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return cS(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=hx(n);Uy(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=dS(e);return t.forEach((t=>{const o=Qg(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Dg.waitFor(r)}removeMatchingKeys(e,t,n){const r=dS(e);return Dg.forEach(t,(t=>{const i=Qg(t.path);return Dg.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=dS(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=dS(e);let i=xb();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Xg(e[1]),o=new wg(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=Qg(t.path),r=IDBKeyRange.bound([n],[fg(n)],!1,!0);let i=0;return dS(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,o]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return cS(e).get(t).next((e=>e?hx(e):null))}}function cS(e){return kv(e,"targets")}function uS(e){return kv(e,"targetGlobal")}function dS(e){return kv(e,"targetDocuments")}function hS(e,t){let[n,r]=e,[i,o]=t;const a=dg(n,i);return 0===a?dg(r,o):a}class fS{constructor(e){this.Qn=e,this.buffer=new Pv(hS),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();hS(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pS{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){Wm("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fg(e)?Wm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Ng(e)}await this.Gn(3e5)}))}}class mS{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Dg.resolve(Wg._e);const n=new fS(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Wm("LruGarbageCollector","Garbage collection skipped; disabled"),Dg.resolve(Xx)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Wm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Xx):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,o,a,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Wm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),qm()<=ao.DEBUG&&Wm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(o-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-o)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Dg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function gS(e,t){return new mS(e,t)}class vS{constructor(e,t){this.db=e,this.garbageCollector=gS(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return yS(e,n)}removeReference(e,t,n){return yS(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return yS(e,t)}Xn(e,t){return function(e,t){let n=!1;return aS(e).Z((r=>rS(e,r,t).next((e=>(e&&(n=!0),Dg.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((o,a)=>{if(a<=t){const t=this.Xn(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,mg.min()),dS(e).delete(function(e){return[0,Qg(e.path)]}(o)))))}));r.push(t)}})).next((()=>Dg.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return yS(e,t)}Zn(e,t){const n=dS(e);let r,i=Wg._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[o,a]=e,{path:s,sequenceNumber:l}=n;0===o?(i!==Wg._e&&t(new wg(Xg(r)),i),i=l,r=s):i=Wg._e})).next((()=>{i!==Wg._e&&t(new wg(Xg(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yS(e,t){return dS(e).put(function(e,t){return{targetId:0,path:Qg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class bS{constructor(){this.changes=new ub((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,py.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Dg.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wS{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return _S(e).put(n)}removeEntry(e,t,n){return _S(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],lx(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=py.newInvalidDocument(t);return _S(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(IS(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:py.newInvalidDocument(t)};return _S(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(IS(t))},((e,r)=>{n={document:this.tr(t,r),size:tS(r)}})).next((()=>n))}getEntries(e,t){let n=hb();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=hb(),r=new Tv(wg.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,tS(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return Dg.resolve();let r=new Pv(TS);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(IS(r.first()),IS(r.last())),o=r.getIterator();let a=o.getNext();return _S(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=wg.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&TS(a,i)<0;)n(a,null),a=o.getNext();a&&a.isEqual(i)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.U(IS(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=o.hasNext()?o.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),lx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _S(e).W(IDBKeyRange.bound(a,s,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=hb();for(const i of e){const e=this.tr(wg.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(ab(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=hb();const o=ES(t,n),a=ES(t,Cg.max());return _S(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},((e,t,n)=>{const o=this.tr(wg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new SS(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return kS(e).get("remoteDocumentGlobalKey").next((e=>($m(!!e),e)))}er(e,t){return kS(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=qw(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=wg.fromSegments(t.noDocument.path),r=ux(t.noDocument.readTime);n=py.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Qm();{const e=wg.fromSegments(t.unknownDocument.path),r=ux(t.unknownDocument.version);n=py.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new pg(e[0],e[1]);return mg.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(mg.min()))return e}return py.newInvalidDocument(e)}}function xS(e){return new wS(e)}class SS extends bS{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new ub((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Pv(((e,t)=>dg(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const a=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,a.readTime)),o.isValidDocument()){const s=sx(this._r.serializer,o);r=r.add(i.path.popLast());const l=tS(s);n+=l-a.size,t.push(this._r.addEntry(e,i,s))}else if(n-=a.size,this.trackRemovals){const n=sx(this._r.serializer,o.convertToNoDocument(mg.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),Dg.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function kS(e){return kv(e,"remoteDocumentGlobal")}function _S(e){return kv(e,"remoteDocumentsV14")}function IS(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ES(e,t){const n=t.documentKey.path.toArray();return[e,lx(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function TS(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=dg(n[o],r[o]),i)return i;return i=dg(n.length,r.length),i||(i=dg(n[n.length-2],r[r.length-2]),i||dg(n[n.length-1],r[r.length-1]))}class CS{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class RS{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Hb(n.mutation,e,Dv.empty(),pg.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,xb()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xb();const r=gb();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=pb();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=gb();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,xb())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=hb();const o=yb(),a=yb();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof $b)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),Hb(a.mutation,t,a.mutation.getFieldMask(),pg.now())):o.set(t.key,Dv.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new CS(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=yb();let r=new Tv(((e,t)=>e-t)),i=xb();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||Dv.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||xb()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,c=vb();l.forEach((e=>{if(!i.has(e)){const r=qb(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Dg.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return wg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Dg.resolve(gb());let a=-1,s=i;return o.next((t=>Dg.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Dg.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,xb()))).next((e=>({batchId:a,changes:mb(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new wg(t)).next((e=>{let t=pb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=pb();return this.indexManager.getCollectionParents(e,i).next((a=>Dg.forEach(a,(a=>{const s=function(e,t){return new Ky(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{o=o.insert(e,t)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,py.newInvalidDocument(r)))}));let n=pb();return e.forEach(((e,r)=>{const o=i.get(e);void 0!==o&&Hb(o.mutation,r,Dv.empty(),pg.now()),ab(t,r)&&(n=n.insert(e,r))})),n}))}}class PS{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Dg.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ow(e.createTime)}}(t)),Dg.resolve()}getNamedQuery(e,t){return Dg.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:px(e.bundledQuery),readTime:Ow(e.readTime)}}(t)),Dg.resolve()}}class AS{constructor(){this.overlays=new Tv(wg.comparator),this.lr=new Map}getOverlay(e,t){return Dg.resolve(this.overlays.get(t))}getOverlays(e,t){const n=gb();return Dg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),Dg.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),Dg.resolve()}getOverlaysForCollection(e,t,n){const r=gb(),i=t.length+1,o=new wg(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Dg.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Tv(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=gb(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=gb(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Dg.resolve(a)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new iw(t,n));let i=this.lr.get(t);void 0===i&&(i=xb(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class NS{constructor(){this.hr=new Pv(DS.Pr),this.Ir=new Pv(DS.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new DS(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new DS(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new wg(new vg([])),n=new DS(t,e),r=new DS(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new wg(new vg([])),n=new DS(t,e),r=new DS(t,e+1);let i=xb();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new DS(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class DS{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return wg.comparator(e.key,t.key)||dg(e.gr,t.gr)}static Tr(e,t){return dg(e.gr,t.gr)||wg.comparator(e.key,t.key)}}class OS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Pv(DS.Pr)}checkEmpty(e){return Dg.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nw(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.yr=this.yr.add(new DS(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Dg.resolve(o)}lookupMutationBatch(e,t){return Dg.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return Dg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Dg.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Dg.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new DS(t,0),r=new DS(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),Dg.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Pv(dg);return t.forEach((e=>{const t=new DS(e,0),r=new DS(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),Dg.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;wg.isDocumentKey(i)||(i=i.child(""));const o=new DS(new wg(i),0);let a=new Pv(dg);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.gr)),!0)}),o),Dg.resolve(this.br(a))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){$m(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return Dg.forEach(t.mutations,(r=>{const i=new DS(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new DS(t,0),r=this.yr.firstAfterOrEqual(n);return Dg.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Dg.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class MS{constructor(e){this.Cr=e,this.docs=new Tv(wg.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Dg.resolve(n?n.document.mutableCopy():py.newInvalidDocument(t))}getEntries(e,t){let n=hb();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():py.newInvalidDocument(e))})),Dg.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=hb();const o=t.path,a=new wg(o.child("")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Rg(Tg(a),n)<=0||(r.has(a.key)||ab(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Dg.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Qm()}vr(e,t){return Dg.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new LS(this)}getSize(e){return Dg.resolve(this.size)}}class LS extends bS{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),Dg.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class jS{constructor(e){this.persistence=e,this.Fr=new ub((e=>By(e)),Uy),this.lastRemoteSnapshotVersion=mg.min(),this.highestTargetId=0,this.Mr=0,this.Or=new NS,this.targetCount=0,this.Nr=sS.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),Dg.resolve()}getLastRemoteSnapshotVersion(e){return Dg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Dg.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Dg.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Dg.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new sS(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Dg.resolve()}updateTargetData(e,t){return this.kn(t),Dg.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Dg.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Dg.waitFor(i).next((()=>r))}getTargetCount(e){return Dg.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return Dg.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),Dg.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Dg.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Dg.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return Dg.resolve(n)}containsKey(e,t){return Dg.resolve(this.Or.containsKey(t))}}class FS{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Wg(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new jS(this),this.indexManager=new Vx,this.remoteDocumentCache=function(e){return new MS(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new ax(t),this.Kr=new PS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AS,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new OS(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Wm("MemoryPersistence","Starting transaction:",e);const r=new ZS(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return Dg.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class ZS extends Ag{constructor(e){super(),this.currentSequenceNumber=e}}class zS{constructor(e){this.persistence=e,this.Gr=new NS,this.zr=null}static jr(e){return new zS(e)}get Hr(){if(this.zr)return this.zr;throw Qm()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Dg.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Dg.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Dg.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dg.forEach(this.Hr,(n=>{const r=wg.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,mg.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return Dg.or([()=>Dg.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class BS{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Og("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jg,{unique:!0}),e.createObjectStore("documentMutations")}(e),US(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Dg.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),US(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:mg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Jg,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Dg.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Zr(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(o=o.next((()=>this.ei(i)))),n<8&&r>=8&&(o=o.next((()=>this.ti(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.ni(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:pv});t.createIndex("collectionPathOverlayIndex",mv,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",gv,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:rv});t.createIndex("documentKeyIndex",iv),t.createIndex("collectionGroupIndex",ov)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.ii(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:uv}).createIndex("sequenceNumberIndex",dv,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:hv}).createIndex("documentKeyIndex",fv,{unique:!1})}(e)))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=tS(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Dg.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Dg.forEach(n,(n=>{$m(n.userId===t.userId);const r=dx(this.serializer,n);return eS(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const o=new vg(n),a=function(e){return[0,Qg(e)]}(o);r.push(t.get(a).next((n=>n?Dg.resolve():(n=>t.put({targetId:0,path:Qg(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Dg.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:cv});const n=t.store("collectionParents"),r=new qx,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Qg(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new vg(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,o]=e;const a=Xg(r);return i(a.popLast())}))))}ni(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=hx(n),i=fx(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=function(e){return e.document?new wg(vg.fromString(e.document.name).popFirst(5)):e.noDocument?wg.fromSegments(e.noDocument.path):e.unknownDocument?wg.fromSegments(e.unknownDocument.path):Qm()}(n).path.toArray(),a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>Dg.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=xS(this.serializer),i=new FS(zS.jr,this.serializer.ut);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:xb();dx(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Dg.forEach(n,((e,n)=>{const o=new Bm(n),a=xx.ct(this.serializer,o),s=i.getIndexManager(o),l=nS.ct(o,this.serializer,s,i.referenceDelegate);return new RS(r,l,a,s).recalculateAndSaveOverlaysForDocumentKeys(new Sv(t,Wg._e),e).next()}))}))}}function US(e){e.createObjectStore("targetDocuments",{keyPath:sv}).createIndex("documentTargetsIndex",lv,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",av,{unique:!0}),e.createObjectStore("targetGlobal")}const VS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class qS{constructor(e,t,n,r,i,o,a,s,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=o,this.document=a,this.oi=l,this._i=c,this.ai=u,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!qS.D())throw new Jm(Xm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vS(this,r),this.Ii=t+"main",this.serializer=new ax(s),this.Ti=new Mg(this.Ii,this.ai,new BS(this.serializer)),this.qr=new lS(this.referenceDelegate,this.serializer),this.remoteDocumentCache=xS(this.serializer),this.Kr=new yx,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===c&&Hm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Jm(Xm.FAILED_PRECONDITION,VS);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Lr=new Wg(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>HS(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(Fg(e))return Wm("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Wm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return WS(e).get("owner").next((e=>Dg.resolve(this.wi(e))))}Si(e){return HS(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=kv(e,"clientMetadata");return t.W().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Dg.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Dg.resolve(!0):WS(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new Jm(Xm.FAILED_PRECONDITION,VS);return!1}}return!(!this.networkEnabled||!this.inForeground)||HS(e).W().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Wm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Sv(e,Wg._e);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>HS(e).W().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return nS.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Hx(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return xx.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){Wm("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?xv:14===e?wv:13===e?bv:12===e?yv:11===e?vv:void Qm()}(this.ai);let o;return this.Ti.runTransaction(e,r,i,(r=>(o=new Sv(r,this.Lr?this.Lr.next():Wg._e),"readwrite-primary"===t?this.fi(o).next((e=>!!e||this.gi(o))).next((t=>{if(!t)throw Hm("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new Jm(Xm.FAILED_PRECONDITION,Pg);return n(o)})).next((e=>this.yi(o).next((()=>e)))):this.Li(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Li(e){return WS(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Jm(Xm.FAILED_PRECONDITION,VS)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return WS(e).put("owner",t)}static D(){return Mg.D()}pi(e){const t=WS(e);return t.get("owner").next((e=>this.wi(e)?(Wm("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Dg.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Hm("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;!Li()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Wm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Hm("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Hm("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function WS(e){return kv(e,"owner")}function HS(e){return kv(e,"clientMetadata")}function KS(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class GS{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=xb(),r=xb();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new GS(e,t.fromCache,n,r)}}class QS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $S{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new QS;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(qm()<=ao.DEBUG&&Wm("QueryEngine","SDK will not create cache indexes for query:",ob(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Dg.resolve()):(qm()<=ao.DEBUG&&Wm("QueryEngine","Query:",ob(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(qm()<=ao.DEBUG&&Wm("QueryEngine","The SDK decides to create cache indexes for query:",ob(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jy(t))):Dg.resolve())}zi(e,t){if($y(t))return Dg.resolve(null);let n=Jy(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=nb(t,null,"F"),n=Jy(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=xb(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Yi(t,r);return this.Zi(t,o,i,n.readTime)?this.zi(e,nb(t,null,"F")):this.Xi(e,o,t,n)}))))})))))}ji(e,t,n,r){return $y(t)||r.isEqual(mg.min())?Dg.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const o=this.Yi(t,i);return this.Zi(t,o,n,r)?Dg.resolve(null):(qm()<=ao.DEBUG&&Wm("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ob(t)),this.Xi(e,o,t,Eg(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new Pv(lb(e));return t.forEach(((t,r)=>{ab(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return qm()<=ao.DEBUG&&Wm("QueryEngine","Using full collection scan to execute query:",ob(t)),this.Gi.getDocumentsMatchingQuery(e,t,Cg.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class YS{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Tv(dg),this.ns=new ub((e=>By(e)),Uy),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RS(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function XS(e,t,n,r){return new YS(e,t,n,r)}async function JS(e,t){const n=Ym(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let a=xb();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function ek(e){const t=Ym(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function tk(e,t,n){let r=xb(),i=xb();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=hb();return n.forEach(((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(mg.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Wm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{us:r,cs:i}}))}function nk(e,t){const n=Ym(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function rk(e,t){const n=Ym(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,Dg.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new ox(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function ik(e,t,n){const r=Ym(e),i=r.ts.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Fg(e))throw e;Wm("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function ok(e,t,n){const r=Ym(e);let i=mg.min(),o=xb();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Ym(e),i=r.ns.get(n);return void 0!==i?Dg.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,Jy(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:mg.min(),n?o:xb()))).next((e=>(lk(r,sb(t),e),{documents:e,ls:o})))))}function ak(e,t){const n=Ym(e),r=Ym(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function sk(e,t){const n=Ym(e),r=n.rs.get(t)||mg.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,Eg(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(lk(n,t,e),e)))}function lk(e,t,n){let r=e.rs.get(t)||mg.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function ck(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xb();const r=await rk(e,Jy(px(t.bundledQuery))),i=Ym(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Ow(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(e,t);const a=r.withResumeToken(Mv.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(e,a).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function uk(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function dk(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function hk(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class fk{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Jm(r.error.code,r.error.message))),o?new fk(e,t,r.state,i):(Hm("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pk{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Jm(n.error.code,n.error.message))),i?new pk(e,n.state,r):(Hm("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mk{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=kb();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Gg(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new mk(e,i):(Hm("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class gk{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gk(t.clientId,t.onlineState):(Hm("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class vk{constructor(){this.activeTargetIds=kb()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yk{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Tv(dg),this.started=!1,this.ps=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=uk(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new vk),this.Ss=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(uk(this.persistenceKey,n));if(e){const t=mk.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(hk(this.persistenceKey,e));if(n){const r=pk.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(hk(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Wm("SharedClientState","READ",e,t),t}setItem(e,t){Wm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Wm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(Wm("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void Hm("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=Wg._e;if(null!=e)try{const n=JSON.parse(e);$m("number"==typeof n),t=n}catch(e){Hm("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Wg._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const r=new fk(this.currentUser,e,t,n),i=dk(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Bs(e){const t=dk(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=hk(this.persistenceKey,e),i=new pk(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return mk.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return fk.Ts(new Bm(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return pk.Ts(r,t)}Ms(e){return gk.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Wm("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),o=[],a=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.Xs(o,a).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=kb();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class bk{constructor(){this.eo=new vk,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new vk,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wk{ro(e){}shutdown(){}}class xk{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Wm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Wm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Sk=null;function kk(){return null===Sk?Sk=268435456+Math.round(2147483648*Math.random()):Sk++,"0x"+Sk.toString(16)}const _k={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ik{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Ek="WebChannelConnection";class Tk extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const o=kk(),a=this.So(e,t);Wm("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),a,n);const s={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(s,r,i),this.Do(e,a,s,n).then((t=>(Wm("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Km("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",a,"request:",n),t}))}Co(e,t,n,r,i,o){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Um,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=_k[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=kk();return new Promise(((o,a)=>{const s=new jm;s.setWithCredentials(!0),s.listenOnce(Dm.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Nm.NO_ERROR:const t=s.getResponseJson();Wm(Ek,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Nm.TIMEOUT:Wm(Ek,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Jm(Xm.DEADLINE_EXCEEDED,"Request time out"));break;case Nm.HTTP_ERROR:const n=s.getStatus();if(Wm(Ek,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Xm).indexOf(t)>=0?t:Xm.UNKNOWN}(t.status);a(new Jm(e,t.message))}else a(new Jm(Xm.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new Jm(Xm.UNAVAILABLE,"Connection failed."));break;default:Qm()}}finally{Wm(Ek,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Wm(Ek,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",l,n,15)}))}vo(e,t,n){const r=kk(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Pm(),a=Am(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.bo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Wm(Ek,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=o.createWebChannel(c,s);let d=!1,h=!1;const f=new Ik({co:t=>{h?Wm(Ek,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Wm(Ek,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Wm(Ek,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Lm.EventType.OPEN,(()=>{h||Wm(Ek,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Lm.EventType.CLOSE,(()=>{h||(h=!0,Wm(Ek,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,Lm.EventType.ERROR,(t=>{h||(h=!0,Km(Ek,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new Jm(Xm.UNAVAILABLE,"The operation could not be completed")))})),p(u,Lm.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];$m(!!i);const o=i,a=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Wm(Ek,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=aw[e];if(void 0!==t)return cw(t)}(t),i=a.message;void 0===n&&(n=Xm.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.Ro(new Jm(n,i)),u.close()}else Wm(Ek,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(a,Om.STAT_EVENT,(t=>{t.stat===Mm.PROXY?Wm(Ek,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Mm.NOPROXY&&Wm(Ek,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function Ck(){return"undefined"!=typeof window?window:null}function Rk(){return"undefined"!=typeof document?document:null}function Pk(e){return new Rw(e,!0)}class Ak{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Wm("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Nk{constructor(e,t,n,r,i,o,a,s){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Ak(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===Xm.RESOURCE_EXHAUSTED?(Hm(t.toString()),Hm("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===Xm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new Jm(Xm.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return Wm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(Wm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Dk extends Nk{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Qm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?($m(void 0===t||"string"==typeof t),Mv.fromBase64String(t||"")):($m(void 0===t||t instanceof Uint8Array),Mv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,s=a&&function(e){const t=void 0===e.code?Xm.UNKNOWN:cw(e.code);return new Jm(t,e.message||"")}(a);n=new xw(r,i,o,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Fw(e,r.document.name),o=Ow(r.document.updateTime),a=r.document.createTime?Ow(r.document.createTime):mg.min(),s=new hy({mapValue:{fields:r.document.fields}}),l=py.newFoundDocument(i,o,a,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new bw(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Fw(e,r.document),o=r.readTime?Ow(r.readTime):mg.min(),a=py.newNoDocument(i,o),s=r.removedTargetIds||[];n=new bw([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Fw(e,r.document),o=r.removedTargetIds||[];n=new bw([],o,i,null)}else{if(!("filter"in t))return Qm();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new ow(r,i),a=e.targetId;n=new ww(a,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return mg.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?mg.min():t.readTime?Ow(t.readTime):mg.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=Bw(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Vy(r)?{documents:Kw(e,r)}:{query:Gw(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Nw(e,t.resumeToken);const r=Pw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(mg.min())>0){n.readTime=Aw(e,t.snapshotVersion.toTimestamp());const r=Pw(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qm()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=Bw(this.serializer),t.removeTarget=e,this.e_(t)}}class Ok extends Nk{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if($m(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?($m(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ow(e.updateTime):Ow(t);return n.isEqual(mg.min())&&(n=Ow(t)),new zb(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ow(e.commitTime);return this.listener.I_(n,t)}return $m(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Bw(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ww(this.serializer,e)))};this.e_(t)}}class Mk extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new Jm(Xm.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.wo(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Xm.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Jm(Xm.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,a]=i;return this.connection.Co(e,t,n,o,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Xm.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Jm(Xm.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class Lk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Hm(t),this.f_=!1):Wm("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class jk{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{Hk(this)&&(Wm("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ym(e);t.C_.add(4),await Zk(t),t.M_.set("Unknown"),t.C_.delete(4),await Fk(t)}(this))}))})),this.M_=new Lk(n,r)}}async function Fk(e){if(Hk(e))for(const t of e.v_)await t(!0)}async function Zk(e){for(const t of e.v_)await t(!1)}function zk(e,t){const n=Ym(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Wk(n)?qk(n):u_(n).Ho()&&Uk(n,t))}function Bk(e,t){const n=Ym(e),r=u_(n);n.D_.delete(t),r.Ho()&&Vk(n,t),0===n.D_.size&&(r.Ho()?r.Zo():Hk(n)&&n.M_.set("Unknown"))}function Uk(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(mg.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}u_(e).u_(t)}function Vk(e,t){e.x_.Oe(t),u_(e).c_(t)}function qk(e){e.x_=new kw({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),u_(e).start(),e.M_.g_()}function Wk(e){return Hk(e)&&!u_(e).jo()&&e.D_.size>0}function Hk(e){return 0===Ym(e).C_.size}function Kk(e){e.x_=void 0}async function Gk(e){e.D_.forEach(((t,n)=>{Uk(e,t)}))}async function Qk(e,t){Kk(e),Wk(e)?(e.M_.w_(t),qk(e)):e.M_.set("Unknown")}async function $k(e,t,n){if(e.M_.set("Online"),t instanceof xw&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){Wm("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Yk(e,n)}else if(t instanceof bw?e.x_.$e(t):t instanceof ww?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(mg.min()))try{const t=await ek(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(Mv.EMPTY_BYTE_STRING,r.snapshotVersion)),Vk(e,t);const i=new ox(r.target,t,n,r.sequenceNumber);Uk(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Wm("RemoteStore","Failed to raise snapshot:",t),await Yk(e,t)}}async function Yk(e,t,n){if(!Fg(t))throw t;e.C_.add(1),await Zk(e),e.M_.set("Offline"),n||(n=()=>ek(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Wm("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Fk(e)}))}function Xk(e,t){return t().catch((n=>Yk(e,n,t)))}async function Jk(e){const t=Ym(e),n=d_(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;e_(t);)try{const e=await nk(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,t_(t,e)}catch(e){await Yk(t,e)}n_(t)&&r_(t)}function e_(e){return Hk(e)&&e.b_.length<10}function t_(e,t){e.b_.push(t);const n=d_(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function n_(e){return Hk(e)&&!d_(e).jo()&&e.b_.length>0}function r_(e){d_(e).start()}async function i_(e){d_(e).E_()}async function o_(e){const t=d_(e);for(const n of e.b_)t.P_(n.mutations)}async function a_(e,t,n){const r=e.b_.shift(),i=rw.from(r,t,n);await Xk(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Jk(e)}async function s_(e,t){t&&d_(e).h_&&await async function(e,t){if(function(e){return lw(e)&&e!==Xm.ABORTED}(t.code)){const n=e.b_.shift();d_(e).Yo(),await Xk(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Jk(e)}}(e,t),n_(e)&&r_(e)}async function l_(e,t){const n=Ym(e);n.asyncQueue.verifyOperationInProgress(),Wm("RemoteStore","RemoteStore received new credentials");const r=Hk(n);n.C_.add(3),await Zk(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Fk(n)}async function c_(e,t){const n=Ym(e);t?(n.C_.delete(2),await Fk(n)):t||(n.C_.add(2),await Zk(n),n.M_.set("Unknown"))}function u_(e){return e.O_||(e.O_=function(e,t,n){const r=Ym(e);return r.A_(),new Dk(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Gk.bind(null,e),Io:Qk.bind(null,e),a_:$k.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),Wk(e)?qk(e):e.M_.set("Unknown")):(await e.O_.stop(),Kk(e))}))),e.O_}function d_(e){return e.N_||(e.N_=function(e,t,n){const r=Ym(e);return r.A_(),new Ok(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:i_.bind(null,e),Io:s_.bind(null,e),T_:o_.bind(null,e),I_:a_.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await Jk(e)):(await e.N_.stop(),e.b_.length>0&&(Wm("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class h_{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new eg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new h_(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Jm(Xm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f_(e,t){if(Hm("AsyncQueue","".concat(t,": ").concat(e)),Fg(e))return new Jm(Xm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class p_{constructor(e){this.comparator=e?(t,n)=>e(t,n)||wg.comparator(t.key,n.key):(e,t)=>wg.comparator(e.key,t.key),this.keyedMap=pb(),this.sortedSet=new Tv(this.comparator)}static emptySet(e){return new p_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof p_))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new p_;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class m_{constructor(){this.B_=new Tv(wg.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Qm():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class g_{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new g_(e,t,p_.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class v_{constructor(){this.k_=void 0,this.listeners=[]}}class y_{constructor(){this.queries=new ub((e=>ib(e)),rb),this.onlineState="Unknown",this.q_=new Set}}async function b_(e,t){const n=Ym(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new v_),i)try{o.k_=await n.onListen(r)}catch(e){const n=f_(e,"Initialization of query '".concat(ob(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Q_(n.onlineState),o.k_&&t.K_(o.k_)&&k_(n)}async function w_(e,t){const n=Ym(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function x_(e,t){const n=Ym(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&k_(n)}function S_(e,t,n){const r=Ym(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function k_(e){e.q_.forEach((e=>{e.next()}))}class __{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new g_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=g_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class I_{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class E_{constructor(e){this.serializer=e}hs(e){return Fw(this.serializer,e)}Ps(e){return e.metadata.exists?qw(this.serializer,e.document,!1):py.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Ow(e)}}class T_{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=C_(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const n=vg.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,n=new E_(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||xb()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Ym(e);let o=xb(),a=hb();for(const c of n){const e=t.hs(c.metadata.name);c.document&&(o=o.add(e));const n=t.Ps(c);n.setReadTime(t.Is(c.metadata.readTime)),a=a.insert(e,n)}const s=i.ss.newChangeBuffer({trackRemovals:!0}),l=await rk(i,function(e){return Jy(Qy(vg.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>tk(e,s,a).next((t=>(s.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.qr.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new E_(this.serializer),this.documents,this.X_.id),t=this.ta(this.documents);for(const n of this.queries)await ck(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function C_(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class R_{constructor(e){this.key=e}}class P_{constructor(e){this.key=e}}class A_{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=xb(),this.mutatedKeys=xb(),this._a=lb(e),this.aa=new p_(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new m_,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=ab(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ha(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this._a(u,s)>0||l&&this._a(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(a=!0)),f&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:o,la:n,Zi:a,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qm()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n),r=null!=r&&r;const a=t&&!r?this.Ia():[],s=0===this.oa.size&&this.current&&!r?1:0,l=s!==this.sa;return this.sa=s,0!==o.length||l?{snapshot:new g_(this.query,e.aa,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new m_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=xb(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new P_(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new R_(n))})),t}da(e){this.ia=e.ls,this.oa=xb();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return g_.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class N_{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class D_{constructor(e){this.key=e,this.Ra=!1}}class O_{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ub((e=>ib(e)),rb),this.fa=new Map,this.ga=new Set,this.pa=new Tv(wg.comparator),this.ya=new Map,this.wa=new NS,this.Sa={},this.ba=new Map,this.Da=sS.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function M_(e,t){const n=sI(e);let r,i;const o=n.ma.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const e=await rk(n.localStore,Jy(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await L_(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&zk(n.remoteStore,e)}return i}async function L_(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await ok(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return K_(e,t.targetId,s.Ta),s.snapshot}(e,t,n,r);const o=await ok(e.localStore,t,!0),a=new A_(t,o.ls),s=a.ca(o.documents),l=yw.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(s,e.isPrimaryClient,l);K_(e,n,c.Ta);const u=new N_(t,n,a);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function j_(e,t){const n=Ym(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!rb(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ik(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Bk(n.remoteStore,r.targetId),W_(n,r.targetId)})).catch(Ng)):(W_(n,r.targetId),await ik(n.localStore,r.targetId,!0))}async function F_(e,t){const n=Ym(e);try{const e=await function(e,t){const n=Ym(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach(((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.qr.removeMatchingKeys(e,o.removedDocuments,s).next((()=>n.qr.addMatchingKeys(e,o.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Mv.EMPTY_BYTE_STRING,mg.min()).withLastLimboFreeSnapshotVersion(mg.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&a.push(n.qr.updateTargetData(e,c))}));let s=hb(),l=xb();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(tk(e,o,t.documentUpdates).next((e=>{s=e.us,l=e.cs}))),!r.isEqual(mg.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Dg.waitFor(a).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&($m(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?$m(r.Ra):e.removedDocuments.size>0&&($m(r.Ra),r.Ra=!1))})),await $_(n,e,t)}catch(e){await Ng(e)}}function Z_(e,t,n){const r=Ym(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ym(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&k_(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function z_(e,t,n){const r=Ym(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),o=i&&i.key;if(o){let e=new Tv(wg.comparator);e=e.insert(o,py.newNoDocument(o,mg.min()));const n=xb().add(o),i=new vw(mg.min(),new Map,new Tv(dg),e,n);await F_(r,i),r.pa=r.pa.remove(o),r.ya.delete(t),Q_(r)}else await ik(r.localStore,t,!1).then((()=>W_(r,t,n))).catch(Ng)}async function B_(e,t){const n=Ym(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ym(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Dg.resolve();return o.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);$m(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=xb();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);q_(n,r,null),V_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $_(n,e)}catch(e){await Ng(e)}}async function U_(e,t,n){const r=Ym(e);try{const e=await function(e,t){const n=Ym(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>($m(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);q_(r,t,n),V_(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await $_(r,e)}catch(n){await Ng(n)}}function V_(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function q_(e,t,n){const r=Ym(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function W_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||H_(e,t)}))}function H_(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(Bk(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),Q_(e))}function K_(e,t,n){for(const r of n)r instanceof R_?(e.wa.addReference(r.key,t),G_(e,r)):r instanceof P_?(Wm("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||H_(e,r.key)):Qm()}function G_(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Wm("SyncEngine","New document in limbo: "+n),e.ga.add(r),Q_(e))}function Q_(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new wg(vg.fromString(t)),r=e.Da.next();e.ya.set(r,new D_(n)),e.pa=e.pa.insert(n,r),zk(e.remoteStore,new ox(Jy(Qy(n.path)),r,"TargetPurposeLimboResolution",Wg._e))}}async function $_(e,t,n){const r=Ym(e),i=[],o=[],a=[];r.ma.isEmpty()||(r.ma.forEach(((e,s)=>{a.push(r.va(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=GS.Qi(s.targetId,e);o.push(t)}})))})),await Promise.all(a),r.Va.a_(i),await async function(e,t){const n=Ym(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Dg.forEach(t,(t=>Dg.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Dg.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Fg(e))throw e;Wm("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,o))}async function Y_(e,t){const n=Ym(e);if(!n.currentUser.isEqual(t)){Wm("SyncEngine","User change. New user:",t.toKey());const e=await JS(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new Jm(Xm.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await $_(n,e._s)}}function X_(e,t){const n=Ym(e),r=n.ya.get(t);if(r&&r.Ra)return xb().add(r.key);{let e=xb();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}async function J_(e,t){const n=Ym(e),r=await ok(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&K_(n,t.targetId,i.Ta),i}async function eI(e,t){const n=Ym(e);return sk(n.localStore,t).then((e=>$_(n,e)))}async function tI(e,t,n,r){const i=Ym(e),o=await function(e,t){const n=Ym(e),r=Ym(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Dg.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await Jk(i.remoteStore):"acknowledged"===n||"rejected"===n?(q_(i,t,r||null),V_(i,t),function(e,t){Ym(Ym(e).mutationQueue).Fn(t)}(i.localStore,t)):Qm(),await $_(i,o)):Wm("SyncEngine","Cannot apply mutation batch with id: "+t)}async function nI(e,t,n){const r=Ym(e),i=[],o=[];for(const a of t){let e;const t=r.fa.get(a);if(t&&0!==t.length){e=await rk(r.localStore,Jy(t[0]));for(const e of t){const t=r.ma.get(e),n=await J_(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await ak(r.localStore,a);e=await rk(r.localStore,t),await L_(r,rI(t),a,!1,e.resumeToken)}i.push(e)}return r.Va.a_(o),i}function rI(e){return Gy(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function iI(e){return function(e){return Ym(Ym(e).persistence).Bi()}(Ym(e).localStore)}async function oI(e,t,n,r){const i=Ym(e);if(i.Ca)return void Wm("SyncEngine","Ignoring unexpected query state notification.");const o=i.fa.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await sk(i.localStore,sb(o[0])),r=vw.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Mv.EMPTY_BYTE_STRING);await $_(i,e,r);break}case"rejected":await ik(i.localStore,t,!0),W_(i,t,r);break;default:Qm()}}async function aI(e,t,n){const r=sI(e);if(r.Ca){for(const e of t){if(r.fa.has(e)){Wm("SyncEngine","Adding an already active target "+e);continue}const t=await ak(r.localStore,e),n=await rk(r.localStore,t);await L_(r,rI(t),n.targetId,!1,n.resumeToken),zk(r.remoteStore,n)}for(const e of n)r.fa.has(e)&&await ik(r.localStore,e,!1).then((()=>{Bk(r.remoteStore,e),W_(r,e)})).catch(Ng)}}function sI(e){const t=Ym(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=F_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=X_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=z_.bind(null,t),t.Va.a_=x_.bind(null,t.eventManager),t.Va.Fa=S_.bind(null,t.eventManager),t}function lI(e){const t=Ym(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=B_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=U_.bind(null,t),t}class cI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Pk(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return XS(this.persistence,new $S,e.initialUser,this.serializer)}createPersistence(e){return new FS(zS.jr,this.serializer)}createSharedClientState(e){return new bk}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class uI extends cI{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await lI(this.xa.syncEngine),await Jk(this.xa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return XS(this.persistence,new $S,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new pS(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new qg(t,this.persistence);return new Vg(e.asyncQueue,n)}createPersistence(e){const t=KS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Jx.withCacheSize(this.cacheSizeBytes):Jx.DEFAULT;return new qS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ck(),Rk(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new bk}}class dI extends uI{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof yk&&(this.sharedClientState.syncEngine={Ys:tI.bind(null,t),Zs:oI.bind(null,t),Xs:aI.bind(null,t),Bi:iI.bind(null,t),Js:eI.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=Ym(e);if(sI(n),lI(n),!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await nI(n,e.toArray());n.Ca=!0,await c_(n.remoteStore,!0);for(const r of t)zk(n.remoteStore,r)}else if(!1===t&&!1!==n.Ca){const e=[];let t=Promise.resolve();n.fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(W_(n,i),ik(n.localStore,i,!0)))),Bk(n.remoteStore,i)})),await t,await nI(n,e),function(e){const t=Ym(e);t.ya.forEach(((e,n)=>{Bk(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new Tv(wg.comparator)}(n),n.Ca=!1,await c_(n.remoteStore,!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Ck();if(!yk.D(t))throw new Jm(Xm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=KS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yk(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class hI{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Z_(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y_.bind(null,this.syncEngine),await c_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new y_}createDatastore(e){const t=Pk(e.databaseInfo.databaseId),n=function(e){return new Tk(e)}(e.databaseInfo);return function(e,t,n,r){return new Mk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new jk(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Z_(this.syncEngine,e,0)),xk.D()?new xk:new wk)}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new O_(e,t,n,r,i,o);return a&&(s.Ca=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ym(e);Wm("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await Zk(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}function fI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class pI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Hm("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class mI{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new eg,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(e=>this.metadata.reject(e)))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e),n=Number(t);isNaN(n)&&this.Qa("length string (".concat(t,") is not valid number"));const r=await this.Ka(n);return new I_(JSON.parse(r),e.length+n)}$a(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class gI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Jm(Xm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Ym(e),r=Bw(n.serializer)+"/documents",i={documents:t.map((e=>jw(n.serializer,e)))},o=await n.Co("BatchGetDocuments",r,i,t.length),a=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){$m(!!t.found),t.found.name,t.found.updateTime;const n=Fw(e,t.found.name),r=Ow(t.found.updateTime),i=t.found.createTime?Ow(t.found.createTime):mg.min(),o=new hy({mapValue:{fields:t.found.fields}});return py.newFoundDocument(n,r,i,o)}(e,t):"missing"in t?function(e,t){$m(!!t.missing),$m(!!t.readTime);const n=Fw(e,t.missing),r=Ow(t.readTime);return py.newNoDocument(n,r)}(e,t):Qm()}(n.serializer,e);a.set(t.key.toString(),t)}));const s=[];return t.forEach((e=>{const t=a.get(e.toString());$m(!!t),s.push(t)})),s}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ew(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=wg.fromPath(t);this.mutations.push(new tw(n,this.precondition(n)))})),await async function(e,t){const n=Ym(e),r=Bw(n.serializer)+"/documents",i={writes:t.map((e=>Ww(n.serializer,e)))};await n.wo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Qm();t=mg.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Jm(Xm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(mg.min())?Bb.exists(!1):Bb.updateTime(t):Bb.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(mg.min()))throw new Jm(Xm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bb.updateTime(t)}return Bb.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vI{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Wa=n.maxAttempts,this.zo=new Ak(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko((async()=>{const e=new gI(this.datastore),t=this.za(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ja(e)}))))})).catch((e=>{this.ja(e)}))}))}za(e){try{const t=this.updateFunction(e);return!Hg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ga(),Promise.resolve())))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!lw(t)}return!1}}class yI{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Bm.UNAUTHENTICATED,this.clientId=ug.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Wm("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Wm("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Jm(Xm.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new eg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=f_(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function bI(e,t){e.asyncQueue.verifyOperationInProgress(),Wm("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await JS(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function wI(e,t){e.asyncQueue.verifyOperationInProgress();const n=await SI(e);Wm("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>l_(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>l_(t.remoteStore,n))),e._onlineComponents=t}function xI(e){return"FirebaseError"===e.name?e.code===Xm.FAILED_PRECONDITION||e.code===Xm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function SI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Wm("FirestoreClient","Using user provided OfflineComponentProvider");try{await bI(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!xI(n))throw n;Km("Error using user provided cache. Falling back to memory cache: "+n),await bI(e,new cI)}}else Wm("FirestoreClient","Using default OfflineComponentProvider"),await bI(e,new cI);return e._offlineComponents}async function kI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Wm("FirestoreClient","Using user provided OnlineComponentProvider"),await wI(e,e._uninitializedComponentsProvider._online)):(Wm("FirestoreClient","Using default OnlineComponentProvider"),await wI(e,new hI))),e._onlineComponents}function _I(e){return SI(e).then((e=>e.persistence))}function II(e){return SI(e).then((e=>e.localStore))}function EI(e){return kI(e).then((e=>e.remoteStore))}function TI(e){return kI(e).then((e=>e.syncEngine))}function CI(e){return kI(e).then((e=>e.datastore))}async function RI(e){const t=await kI(e),n=t.eventManager;return n.onListen=M_.bind(null,t.syncEngine),n.onUnlisten=j_.bind(null,t.syncEngine),n}function PI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new eg;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new pI({next:o=>{t.enqueueAndForget((()=>w_(e,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new Jm(Xm.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Jm(Xm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new __(Qy(n.path),o,{includeMetadataChanges:!0,J_:!0});return b_(e,a)}(await RI(e),e.asyncQueue,t,n,r))),r.promise}function AI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new eg;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new pI({next:n=>{t.enqueueAndForget((()=>w_(e,a))),n.fromCache&&"server"===r.source?i.reject(new Jm(Xm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new __(n,o,{includeMetadataChanges:!0,J_:!0});return b_(e,a)}(await RI(e),e.asyncQueue,t,n,r))),r.promise}function NI(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?dw().encode(e):e,function(e,t){return new mI(e,t)}(function(e,t){if(e instanceof Uint8Array)return fI(e,t);if(e instanceof ArrayBuffer)return fI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Pk(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Ym(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Ym(e),r=Ow(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(C_(r));const i=new T_(r,e.localStore,t.serializer);let o=await t.Ma();for(;o;){const e=await i.ea(o);e&&n._updateProgress(e),o=await t.Ma()}const a=await i.complete();return await $_(e,a.ra,void 0),await function(e,t){const n=Ym(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.na)}catch(e){return Km("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await TI(e),i,r)}))}function DI(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const OI=new Map;function MI(e,t,n){if(!n)throw new Jm(Xm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function LI(e,t,n,r){if(!0===t&&!0===r)throw new Jm(Xm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function jI(e){if(!wg.isDocumentKey(e))throw new Jm(Xm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function FI(e){if(wg.isDocumentKey(e))throw new Jm(Xm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ZI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Qm()}function zI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Jm(Xm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ZI(e);throw new Jm(Xm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function BI(e,t){if(t<=0)throw new Jm(Xm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class UI{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Jm(Xm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Jm(Xm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DI(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Jm(Xm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Jm(Xm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Jm(Xm.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class VI{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Jm(Xm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Jm(Xm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ng;switch(e.type){case"firstParty":return new ag(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Jm(Xm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=OI.get(e);t&&(Wm("ComponentProvider","Removing Datastore"),OI.delete(e),t.terminate())}(this),Promise.resolve()}}function qI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=zI(e,VI))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==a&&Km("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Bm.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ci(JSON.stringify({alg:"none",type:"JWT"})),Ci(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Jm(Xm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Bm(o)}e._authCredentials=new rg(new tg(t,n))}}class WI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new WI(this.firestore,e,this._query)}}class HI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new KI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new HI(this.firestore,e,this._key)}}class KI extends WI{constructor(e,t,n){super(e,t,Qy(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new HI(this.firestore,null,new wg(e))}withConverter(e){return new KI(this.firestore,e,this._path)}}function GI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ji(e),MI("collection","path",t),e instanceof VI){const n=vg.fromString(t,...r);return FI(n),new KI(e,null,n)}{if(!(e instanceof HI||e instanceof KI))throw new Jm(Xm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vg.fromString(t,...r));return FI(n),new KI(e.firestore,null,n)}}function QI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ji(e),1===arguments.length&&(t=ug.newId()),MI("doc","path",t),e instanceof VI){const n=vg.fromString(t,...r);return jI(n),new HI(e,null,new wg(n))}{if(!(e instanceof HI||e instanceof KI))throw new Jm(Xm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vg.fromString(t,...r));return jI(n),new HI(e.firestore,e instanceof KI?e.converter:null,new wg(n))}}function $I(e,t){return e=Ji(e),t=Ji(t),(e instanceof HI||e instanceof KI)&&(t instanceof HI||t instanceof KI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function YI(e,t){return e=Ji(e),t=Ji(t),e instanceof WI&&t instanceof WI&&e.firestore===t.firestore&&rb(e._query,t._query)&&e.converter===t.converter}class XI{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Ak(this,"async_queue_retry"),this.iu=()=>{const e=Rk();e&&Wm("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=Rk();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Rk();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new eg;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Fg(e))throw e;Wm("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Hm("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=h_.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&Qm()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function JI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class eE{constructor(){this._progressObserver={},this._taskCompletionResolver=new eg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class tE extends VI{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new XI,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rE(this),this._firestoreClient.terminate()}}function nE(e){return e._firestoreClient||rE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rE(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Vv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,DI(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new yI(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function iE(e,t,n){const r=new eg;return e.asyncQueue.enqueue((async()=>{try{await bI(e,n),await wI(e,t),r.resolve()}catch(e){const n=e;if(!xI(n))throw n;Km("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function oE(e){return function(e){const t=new eg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Ym(e);Hk(n.remoteStore)||Wm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Ym(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ba.get(e)||[];r.push(t),n.ba.set(e,r)}catch(e){const n=f_(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await TI(e),t))),t.promise}(nE(e=zI(e,tE)))}function aE(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await _I(e),n=await EI(e);return t.setNetworkEnabled(!0),function(e){const t=Ym(e);return t.C_.delete(0),Fk(t)}(n)}))}(nE(e=zI(e,tE)))}function sE(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await _I(e),n=await EI(e);return t.setNetworkEnabled(!1),async function(e){const t=Ym(e);t.C_.add(0),await Zk(t),t.M_.set("Offline")}(n)}))}(nE(e=zI(e,tE)))}function lE(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Ym(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await II(e),t)))}(nE(e=zI(e,tE)),t).then((t=>t?new WI(e,null,t.query):null))}function cE(e){if(e._initialized||e._terminated)throw new Jm(Xm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uE{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uE(Mv.fromBase64String(e))}catch(e){throw new Jm(Xm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new uE(Mv.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dE{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bg(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hE{constructor(e){this._methodName=e}}class fE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Jm(Xm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Jm(Xm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dg(this._lat,e._lat)||dg(this._long,e._long)}}const pE=/^__.*__$/;class mE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new $b(e,this.data,this.fieldMask,t,this.fieldTransforms):new Qb(e,this.data,t,this.fieldTransforms)}}class gE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new $b(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qm()}}class yE{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new yE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return FE(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(vE(this.Iu)&&pE.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class bE{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Pk(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yE({Iu:e,methodName:t,gu:n,path:bg.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wE(e){const t=e._freezeSettings(),n=Pk(e._databaseId);return new bE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function xE(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.pu(o.merge||o.mergeFields?2:0,t,n,i);OE("Data must be an object, but it was:",a,r);const s=NE(r,a);let l,c;if(o.merge)l=new Dv(a.fieldMask),c=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=ME(t,r,n);if(!a.contains(i))throw new Jm(Xm.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ZE(e,i)||e.push(i)}l=new Dv(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new mE(new hy(s),l,c)}class SE extends hE{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof SE}}function kE(e,t,n){return new yE({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class _E extends hE{_toFieldTransform(e){return new Zb(e.path,new Ab)}isEqual(e){return e instanceof _E}}class IE extends hE{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=kE(this,e,!0),n=this.yu.map((e=>AE(e,t))),r=new Nb(n);return new Zb(e.path,r)}isEqual(e){return this===e}}class EE extends hE{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=kE(this,e,!0),n=this.yu.map((e=>AE(e,t))),r=new Ob(n);return new Zb(e.path,r)}isEqual(e){return this===e}}class TE extends hE{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Lb(e.serializer,Eb(e.serializer,this.wu));return new Zb(e.path,t)}isEqual(e){return this===e}}function CE(e,t,n,r){const i=e.pu(1,t,n);OE("Data must be an object, but it was:",i,r);const o=[],a=hy.empty();Iv(r,((e,r)=>{const s=jE(t,e,n);r=Ji(r);const l=i.Ru(s);if(r instanceof SE)o.push(s);else{const e=AE(r,l);null!=e&&(o.push(s),a.set(s,e))}}));const s=new Dv(o);return new gE(a,s,i.fieldTransforms)}function RE(e,t,n,r,i,o){const a=e.pu(1,t,n),s=[ME(t,r,n)],l=[i];if(o.length%2!=0)throw new Jm(Xm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)s.push(ME(t,o[h])),l.push(o[h+1]);const c=[],u=hy.empty();for(let h=s.length-1;h>=0;--h)if(!ZE(c,s[h])){const e=s[h];let t=l[h];t=Ji(t);const n=a.Ru(e);if(t instanceof SE)c.push(e);else{const r=AE(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Dv(c);return new gE(u,d,a.fieldTransforms)}function PE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return AE(n,e.pu(r?4:3,t))}function AE(e,t){if(DE(e=Ji(e)))return OE("Unsupported field value:",t,e),NE(e,t);if(e instanceof hE)return function(e,t){if(!vE(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=AE(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ji(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Eb(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=pg.fromDate(e);return{timestampValue:Aw(t.serializer,n)}}if(e instanceof pg){const n=new pg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Aw(t.serializer,n)}}if(e instanceof fE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uE)return{bytesValue:Nw(t.serializer,e._byteString)};if(e instanceof HI){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Mw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(ZI(e)))}(e,t)}function NE(e,t){const n={};return Ev(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Iv(e,((e,r)=>{const i=AE(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function DE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof pg||e instanceof fE||e instanceof uE||e instanceof HI||e instanceof hE)}function OE(e,t,n){if(!DE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ZI(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function ME(e,t,n){if((t=Ji(t))instanceof dE)return t._internalPath;if("string"==typeof t)return jE(e,t);throw FE("Field path arguments must be of type string or ",e,!1,void 0,n)}const LE=new RegExp("[~\\*/\\[\\]]");function jE(e,t,n){if(t.search(LE)>=0)throw FE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new dE(...t.split("."))._internalPath}catch(Dd){throw FE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function FE(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Jm(Xm.INVALID_ARGUMENT,s+e+l)}function ZE(e,t){return e.some((e=>e.isEqual(t)))}class zE{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new HI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new BE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(UE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class BE extends zE{data(){return super.data()}}function UE(e,t){return"string"==typeof t?jE(e,t):t instanceof dE?t._internalPath:t._delegate._internalPath}function VE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Jm(Xm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qE{}class WE extends qE{}function HE(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof qE&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof GE)).length,n=e.filter((e=>e instanceof KE)).length;if(t>1||t>0&&n>0)throw new Jm(Xm.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class KE extends WE{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new KE(e,t,n)}_apply(e){const t=this._parse(e);return nT(e._query,t),new WI(e.firestore,e.converter,tb(e._query,t))}_parse(e){const t=wE(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){tT(a,o);const t=[];for(const n of a)t.push(eT(r,e,n));s={arrayValue:{values:t}}}else s=eT(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||tT(a,o),s=PE(n,t,a,"in"===o||"not-in"===o);return xy.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class GE extends qE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new GE(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Sy.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)nT(n,i),n=tb(n,i)}(e._query,t),new WI(e.firestore,e.converter,tb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class QE extends WE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new QE(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yy(t,n)}(e._query,this._field,this._direction);return new WI(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ky(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class $E extends WE{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new $E(e,t,n)}_apply(e){return new WI(e.firestore,e.converter,nb(e._query,this._limit,this._limitType))}}class YE extends WE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new YE(e,t,n)}_apply(e){const t=JE(e,this.type,this._docOrFields,this._inclusive);return new WI(e.firestore,e.converter,function(e,t){return new Ky(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class XE extends WE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new XE(e,t,n)}_apply(e){const t=JE(e,this.type,this._docOrFields,this._inclusive);return new WI(e.firestore,e.converter,function(e,t){return new Ky(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function JE(e,t,n,r){if(n[0]=Ji(n[0]),n[0]instanceof zE)return function(e,t,n,r,i){if(!r)throw new Jm(Xm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const o=[];for(const a of Xy(e))if(a.field.isKeyField())o.push(ey(t,r.key));else{const e=r.data.field(a.field);if(zv(e))throw new Jm(Xm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}o.push(e)}return new my(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=wE(e.firestore);return function(e,t,n,r,i,o){const a=e.explicitOrderBy;if(i.length>a.length)throw new Jm(Xm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const s=[];for(let l=0;l<i.length;l++){const o=i[l];if(a[l].field.isKeyField()){if("string"!=typeof o)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof o));if(!Yy(e)&&-1!==o.indexOf("/"))throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(o,"' contains a slash."));const n=e.path.child(vg.fromString(o));if(!wg.isDocumentKey(n))throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new wg(n);s.push(ey(t,i))}else{const e=PE(n,r,o);s.push(e)}}return new my(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function eT(e,t,n){if("string"==typeof(n=Ji(n))){if(""===n)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yy(t)&&-1!==n.indexOf("/"))throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(vg.fromString(n));if(!wg.isDocumentKey(r))throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ey(e,new wg(r))}if(n instanceof HI)return ey(e,n._key);throw new Jm(Xm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ZI(n),"."))}function tT(e,t){if(!Array.isArray(e)||0===e.length)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function nT(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Jm(Xm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Jm(Xm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class rT{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Kv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Qm()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Iv(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new fE(Fv(e.latitude),Fv(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Bv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Uv(e));default:return null}}convertTimestamp(e){const t=jv(e);return new pg(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=vg.fromString(e);$m(ix(n));const r=new qv(n.get(1),n.get(3)),i=new wg(n.popFirst(5));return r.isEqual(t)||Hm("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function iT(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class oT extends rT{constructor(e){super(),this.firestore=e}convertBytes(e){return new uE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new HI(this.firestore,null,t)}}class aT{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sT extends zE{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new lT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(UE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class lT extends sT{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class cT{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new aT(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new lT(this._firestore,this._userDataWriter,n.key,n,new aT(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Jm(Xm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new lT(e._firestore,e._userDataWriter,n.doc.key,n.doc,new aT(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new lT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new aT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:uT(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function uT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qm()}}function dT(e,t){return e instanceof sT&&t instanceof sT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof cT&&t instanceof cT&&e._firestore===t._firestore&&YI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function hT(e){e=zI(e,HI);const t=zI(e.firestore,tE);return PI(nE(t),e._key).then((n=>xT(t,e,n)))}class fT extends rT{constructor(e){super(),this.firestore=e}convertBytes(e){return new uE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new HI(this.firestore,null,t)}}function pT(e){e=zI(e,HI);const t=zI(e.firestore,tE),n=nE(t),r=new fT(t);return function(e,t){const n=new eg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Ym(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Jm(Xm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=f_(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await II(e),t,n))),n.promise}(n,e._key).then((n=>new sT(t,r,e._key,n,new aT(null!==n&&n.hasLocalMutations,!0),e.converter)))}function mT(e){e=zI(e,WI);const t=zI(e.firestore,tE),n=nE(t),r=new fT(t);return function(e,t){const n=new eg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await ok(e,t,!0),i=new A_(t,r.ls),o=i.ca(r.documents),a=i.applyChanges(o,!1);n.resolve(a.snapshot)}catch(e){const r=f_(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await II(e),t,n))),n.promise}(n,e._query).then((n=>new cT(t,r,e,n)))}function gT(e,t,n){e=zI(e,HI);const r=zI(e.firestore,tE),i=iT(e.converter,t,n);return wT(r,[xE(wE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Bb.none())])}function vT(e,t,n){e=zI(e,HI);const r=zI(e.firestore,tE),i=wE(r);let o;for(var a=arguments.length,s=new Array(a>3?a-3:0),l=3;l<a;l++)s[l-3]=arguments[l];return o="string"==typeof(t=Ji(t))||t instanceof dE?RE(i,"updateDoc",e._key,t,n,s):CE(i,"updateDoc",e._key,t),wT(r,[o.toMutation(e._key,Bb.exists(!0))])}function yT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a;e=Ji(e);let s={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||JI(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges};if(JI(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(o=e.error)||void 0===o?void 0:o.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof HI)d=zI(e.firestore,tE),h=Qy(e._key.path),u={next:t=>{n[l]&&n[l](xT(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=zI(e,WI);d=zI(t.firestore,tE),h=t._query;const r=new fT(d);u={next:e=>{n[l]&&n[l](new cT(d,r,t,e))},error:n[l+1],complete:n[l+2]},VE(e._query)}return function(e,t,n,r){const i=new pI(r),o=new __(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>b_(await RI(e),o))),()=>{i.Na(),e.asyncQueue.enqueueAndForget((async()=>w_(await RI(e),o)))}}(nE(d),h,c,u)}function bT(e,t){return function(e,t){const n=new pI(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ym(e).q_.add(t),t.next()}(await RI(e),n))),()=>{n.Na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Ym(e).q_.delete(t)}(await RI(e),n)))}}(nE(e=zI(e,tE)),JI(t)?t:{next:t})}function wT(e,t){return function(e,t){const n=new eg;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=lI(e);try{const e=await function(e,t){const n=Ym(e),r=pg.now(),i=t.reduce(((e,t)=>e.add(t.key)),xb());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=hb(),l=xb();return n.ss.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{o=i;const a=[];for(const e of t){const t=Kb(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new $b(e.key,t,fy(t.value.mapValue),Bb.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:mb(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new Tv(dg)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await $_(r,e.changes),await Jk(r.remoteStore)}catch(e){const t=f_(e,"Failed to persist write");n.reject(t)}}(await TI(e),t,n))),n.promise}(nE(e),t)}function xT(e,t,n){const r=n.docs.get(t._key),i=new fT(e);return new sT(e,i,t._key,r,new aT(n.hasPendingWrites,n.fromCache),t.converter)}const ST={maxAttempts:5};class kT{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=wE(e)}set(e,t,n){this._verifyNotCommitted();const r=_T(e,this._firestore),i=iT(r.converter,t,n),o=xE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Bb.none())),this}update(e,t,n){this._verifyNotCommitted();const r=_T(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=Ji(t))||t instanceof dE?RE(this._dataReader,"WriteBatch.update",r._key,t,n,a):CE(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Bb.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_T(e,this._firestore);return this._mutations=this._mutations.concat(new ew(t._key,Bb.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Jm(Xm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _T(e,t){if((e=Ji(e)).firestore!==t)throw new Jm(Xm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class IT extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=wE(e)}get(e){const t=_T(e,this._firestore),n=new oT(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Qm();const r=e[0];if(r.isFoundDocument())return new zE(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new zE(this._firestore,n,t._key,null,t.converter);throw Qm()}))}set(e,t,n){const r=_T(e,this._firestore),i=iT(r.converter,t,n),o=xE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n){const r=_T(e,this._firestore);let i;for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];return i="string"==typeof(t=Ji(t))||t instanceof dE?RE(this._dataReader,"Transaction.update",r._key,t,n,a):CE(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=_T(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_T(e,this._firestore),n=new fT(this._firestore);return super.get(e).then((e=>new sT(this._firestore,n,t._key,e._document,new aT(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Um=e}(Ho),zo(new eo("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),a=new tE(new ig(e.getProvider("auth-internal")),new lg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Jm(Xm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qv(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),Yo(zm,"4.4.0",e),Yo(zm,"4.4.0","esm2017")}();function ET(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Jm("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function TT(){if("undefined"===typeof Uint8Array)throw new Jm("unimplemented","Uint8Arrays are not available in this environment.")}function CT(){if("undefined"==typeof atob)throw new Jm("unimplemented","Blobs are unavailable in Firestore in this environment.")}class RT{constructor(e){this._delegate=e}static fromBase64String(e){return CT(),new RT(uE.fromBase64String(e))}static fromUint8Array(e){return TT(),new RT(uE.fromUint8Array(e))}toBase64(){return CT(),this._delegate.toBase64()}toUint8Array(){return TT(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function PT(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class AT{enableIndexedDbPersistence(e,t){return function(e,t){cE(e=zI(e,tE));const n=nE(e);if(n._uninitializedComponentsProvider)throw new Jm(Xm.FAILED_PRECONDITION,"SDK cache is already specified.");Km("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new hI;return iE(n,i,new uI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){cE(e=zI(e,tE));const t=nE(e);if(t._uninitializedComponentsProvider)throw new Jm(Xm.FAILED_PRECONDITION,"SDK cache is already specified.");Km("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new hI;return iE(t,r,new dI(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Jm(Xm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new eg;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Mg.D())return Promise.resolve();const t=e+"main";await Mg.delete(t)}(KS(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class NT{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof qv||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Km("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};qI(this._delegate,e,t,n)}enableNetwork(){return aE(this._delegate)}disableNetwork(){return sE(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,LI("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return oE(this._delegate)}onSnapshotsInSync(e){return bT(this._delegate,e)}get app(){if(!this._appCompat)throw new Jm("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new HT(this,GI(this._delegate,e))}catch(t){throw FT(t,"collection()","Firestore.collection()")}}doc(e){try{return new jT(this,QI(this._delegate,e))}catch(t){throw FT(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new VT(this,function(e,t){if(e=zI(e,VI),MI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Jm(Xm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new WI(e,null,function(e){return new Ky(vg.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw FT(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=zI(e,tE);const r=Object.assign(Object.assign({},ST),n);return function(e){if(e.maxAttempts<1)throw new Jm(Xm.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new eg;return e.asyncQueue.enqueueAndForget((async()=>{const i=await CI(e);new vI(e.asyncQueue,i,n,t,r).run()})),r.promise}(nE(e),(n=>t(new IT(e,n))),r)}(this._delegate,(t=>e(new OT(this,t))))}batch(){return nE(this._delegate),new MT(new kT(this._delegate,(e=>wT(this._delegate,e))))}loadBundle(e){return function(e,t){const n=nE(e=zI(e,tE)),r=new eE;return NI(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return lE(this._delegate,e).then((e=>e?new VT(this,e):null))}}class DT extends rT{constructor(e){super(),this.firestore=e}convertBytes(e){return new RT(new uE(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return jT.forKey(t,this.firestore,null)}}class OT{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new DT(e)}get(e){const t=KT(e);return this._delegate.get(t).then((e=>new BT(this._firestore,new sT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=KT(e);return n?(ET("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const a=KT(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=KT(e);return this._delegate.delete(t),this}}class MT{constructor(e){this._delegate=e}set(e,t,n){const r=KT(e);return n?(ET("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];const a=KT(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=KT(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class LT{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new lT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new UT(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=LT.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new LT(e,new DT(e),t),r.set(t,i)),i}}LT.INSTANCES=new WeakMap;class jT{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new DT(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Jm("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new jT(t,new HI(t._delegate,n,new wg(e)))}static forKey(e,t,n){return new jT(t,new HI(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new HT(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new HT(this.firestore,GI(this._delegate,e))}catch(t){throw FT(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Ji(e))instanceof HI&&$I(this._delegate,e)}set(e,t){t=ET("DocumentReference.set",t);try{return t?gT(this._delegate,e,t):gT(this._delegate,e)}catch(n){throw FT(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?vT(this._delegate,e):vT(this._delegate,e,t,...r)}catch(o){throw FT(o,"updateDoc()","DocumentReference.update()")}}delete(){return wT(zI((e=this._delegate).firestore,tE),[new ew(e._key,Bb.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=ZT(t),i=zT(t,(e=>new BT(this.firestore,new sT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return yT(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?pT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zI(e,HI);const t=zI(e.firestore,tE);return PI(nE(t),e._key,{source:"server"}).then((n=>xT(t,e,n)))}(this._delegate):hT(this._delegate),t.then((e=>new BT(this.firestore,new sT(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new jT(this.firestore,e?this._delegate.withConverter(LT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function FT(e,t,n){return e.message=e.message.replace(t,n),e}function ZT(e){for(const t of e)if("object"===typeof t&&!PT(t))return t;return{}}function zT(e,t){var n,r;let i;return i=PT(e[0])?e[0]:PT(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class BT{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new jT(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dT(this._delegate,e._delegate)}}class UT extends BT{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Qm(),t}}class VT{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new DT(e)}where(e,t,n){try{return new VT(this.firestore,HE(this._delegate,function(e,t,n){const r=t,i=UE("where",e);return KE._create(i,r,n)}(e,t,n)))}catch(r){throw FT(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new VT(this.firestore,HE(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=UE("orderBy",e);return QE._create(n,t)}(e,t)))}catch(n){throw FT(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new VT(this.firestore,HE(this._delegate,(BI("limit",t=e),$E._create("limit",t,"F"))))}catch(t){throw FT(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new VT(this.firestore,HE(this._delegate,(BI("limitToLast",t=e),$E._create("limitToLast",t,"L"))))}catch(t){throw FT(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new VT(this.firestore,HE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YE._create("startAt",t,!0)}(...arguments)))}catch(e){throw FT(e,"startAt()","Query.startAt()")}}startAfter(){try{return new VT(this.firestore,HE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return YE._create("startAfter",t,!1)}(...arguments)))}catch(e){throw FT(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new VT(this.firestore,HE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return XE._create("endBefore",t,!1)}(...arguments)))}catch(e){throw FT(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new VT(this.firestore,HE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return XE._create("endAt",t,!0)}(...arguments)))}catch(e){throw FT(e,"endAt()","Query.endAt()")}}isEqual(e){return YI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?mT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=zI(e,WI);const t=zI(e.firestore,tE),n=nE(t),r=new fT(t);return AI(n,e._query,{source:"server"}).then((n=>new cT(t,r,e,n)))}(this._delegate):function(e){e=zI(e,WI);const t=zI(e.firestore,tE),n=nE(t),r=new fT(t);return VE(e._query),AI(n,e._query).then((n=>new cT(t,r,e,n)))}(this._delegate),t.then((e=>new WT(this.firestore,new cT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=ZT(t),i=zT(t,(e=>new WT(this.firestore,new cT(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return yT(this._delegate,r,i)}withConverter(e){return new VT(this.firestore,e?this._delegate.withConverter(LT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class qT{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new UT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class WT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new VT(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new UT(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new qT(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new UT(this._firestore,n))}))}isEqual(e){return dT(this._delegate,e._delegate)}}class HT extends VT{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new jT(this.firestore,e):null}doc(e){try{return new jT(this.firestore,void 0===e?QI(this._delegate):QI(this._delegate,e))}catch(t){throw FT(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=zI(e.firestore,tE),r=QI(e),i=iT(e.converter,t);return wT(n,[xE(wE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Bb.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new jT(this.firestore,e)))}isEqual(e){return $I(this._delegate,e._delegate)}withConverter(e){return new HT(this.firestore,e?this._delegate.withConverter(LT.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function KT(e){return zI(e,HI)}class GT{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new dE(...t)}static documentId(){return new GT(bg.keyField().canonicalString())}isEqual(e){return(e=Ji(e))instanceof dE&&this._delegate._internalPath.isEqual(e._internalPath)}}class QT{constructor(e){this._delegate=e}static serverTimestamp(){const e=new _E("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new QT(e)}static delete(){const e=new SE("deleteField");return e._methodName="FieldValue.delete",new QT(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new IE("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new QT(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new EE("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new QT(e)}static increment(e){const t=new TE("increment",e);return t._methodName="FieldValue.increment",new QT(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const $T={Firestore:NT,GeoPoint:fE,Timestamp:pg,Blob:RT,Transaction:OT,WriteBatch:MT,DocumentReference:jT,DocumentSnapshot:BT,Query:VT,QueryDocumentSnapshot:UT,QuerySnapshot:WT,CollectionReference:HT,FieldPath:GT,FieldValue:QT,setLogLevel:function(e){var t;t=e,Vm.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new eo("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},$T)))}(e,((e,t)=>new NT(e,t,new AT))),e.registerVersion("@firebase/firestore-compat","0.3.23")}(ga);ga.initializeApp({apiKey:"AIzaSyCu93N1kHDUDHYx_ttxRK-c43q65M1BJB0",authDomain:"bookstore-250d8.firebaseapp.com",projectId:"bookstore-250d8",storageBucket:"bookstore-250d8.appspot.com",messagingSenderId:"610627010461",appId:"1:610627010461:web:1476a2890c28565e9ef974",measurementId:"G-0F54N2VZHG"});const YT=ga.auth(),XT=ga.firestore(),JT=(0,r.createContext)({}),eC=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(!1),[o,a]=(0,r.useState)(!0),[s,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(null),[d,h]=(0,r.useState)(null),f="http://100.24.8.95:3001";(0,r.useEffect)((()=>{a(!0);const e=localStorage.getItem("jwtToken");e?fetch("".concat(f,"/secure/user/verifyToken"),{method:"POST",headers:{"Content-Type":"application/json",authorization:e},body:JSON.stringify({idToken:e})}).then((e=>e.json())).then((e=>{if(e.isTokenValid){i(!0),l(e.uemail),u(e.uid);hT(QI(XT,"users",e.uid)).then((e=>{if(e.exists()){const t=e.data();if(!1===t.status)throw new Error("Account is deactivated, please contact the bookstore admin: admin@bookstore.ca");h(!0===t.isAdmin)}})).catch((e=>{console.error("Error fetching user data from Firestore:",e),h(!1)}))}else localStorage.removeItem("jwtToken"),i(!1)})).catch((e=>{console.error("Token verification failed:",e),localStorage.removeItem("jwtToken"),i(!1)})).finally((()=>{a(!1)})):(i(!1),a(!1))}),[]);const[p,m]=(0,r.useState)(""),g=function(e){m({message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"}),setTimeout((()=>m("")),5e3)};return(0,jt.jsxs)(JT.Provider,{value:{isAdmin:d,apiURL:f,username:s,setUsername:l,isLoggedIn:n,isLoading:o,login:async(e,t)=>{try{const n=(await YT.signInWithEmailAndPassword(e,t)).user,r=await n.getIdToken(),o=n.uid,a=QI(XT,"users",o),s=await hT(a);if(!s.exists())throw new Error("Please register");{const e=s.data();if(!1===e.status)throw new Error("Account is deactivate, please contact the bookstore admin: admin@bookstore.ca");!0===e.isAdmin?h(!0):h(!1)}localStorage.setItem("jwtToken",r),l(e),u(o),i(!0),g("\u767b\u5f55\u6210\u529f","success")}catch(n){console.error("\u767b\u5f55\u5931\u8d25:",n);const e=n.message||"\u767b\u5f55\u9519\u8bef";throw g(e,"error"),new Error(e)}},logout:async()=>{try{await YT.signOut(),localStorage.removeItem("jwtToken"),u(null),i(!1),h(!1),g("\u6210\u529f\u6ce8\u9500","success")}catch(e){console.error("\u6ce8\u9500\u5931\u8d25:",e),g("\u6ce8\u9500\u5931\u8d25","error")}},showNotification:g,googleLogin:async()=>{const e=new cl;try{const t=(await Zc(YT,e)).user,n=await t.getIdToken(),r=t.uid;await hT(QI(XT,"users",t.uid)).then((e=>{if(e.exists()){const t=e.data();if(!1===t.status)throw new Error("Account is deactivate, please contact the bookstore admin: admin@bookstore.ca");!0===t.isAdmin?h(!0):h(!1)}else gT(QI(XT,"users",t.uid),{email:t.email,displayName:t.displayName,isAdmin:!1,status:!0,createdAt:new Date})})),l(t.email),u(r),localStorage.setItem("jwtToken",n),i(!0),g("Login successfully","success")}catch(t){console.error("Error during Google sign in:",t);const e=t.message||"Account is deactivate, please contact the bookstore admin: admin@bookstore.ca";throw g(e,"error"),new Error(e)}},userId:c},children:[t,(0,jt.jsx)(_i,{message:p.message,severity:p.severity,onClose:()=>m("")})]})};var tC=n(8252),nC=n(6117);function rC(e){return"string"===typeof e}function iC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function oC(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const aC=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function sC(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,a=(0,Ct.Z)(e,aC),s=o?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(r,i),{props:l,internalRef:c}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=(0,Pt.Z)(null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),t=(0,Rt.Z)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),a=(0,Rt.Z)({},n,i,r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=iC((0,Rt.Z)({},i,r)),s=oC(r),l=oC(i),c=t(a),u=(0,Pt.Z)(null==c?void 0:c.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),d=(0,Rt.Z)({},null==c?void 0:c.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),h=(0,Rt.Z)({},c,n,l,s);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}((0,Rt.Z)({},a,{externalSlotProps:s})),u=(0,nC.Z)(c,null==s?void 0:s.ref,null==(t=e.additionalProps)?void 0:t.ref),d=function(e,t,n){return void 0===e||rC(e)?t:(0,Rt.Z)({},t,{ownerState:(0,Rt.Z)({},t.ownerState,n)})}(n,(0,Rt.Z)({},l,{ref:u}),i);return d}var lC=n(4913),cC=n(7054),uC=n(8949),dC=n(5202);function hC(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function fC(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function pC(e){return parseInt((0,dC.Z)(e).getComputedStyle(e).paddingRight,10)||0}function mC(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&fC(e,i)}))}function gC(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function vC(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,lC.Z)(e);return t.body===e?(0,dC.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=hC((0,lC.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(pC(r)+e,"px");const t=(0,lC.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(pC(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,lC.Z)(r).body;else{const t=r.parentElement,n=(0,dC.Z)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const yC=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&fC(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);mC(t,e.mount,e.modalRef,r,!0);const i=gC(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=gC(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=vC(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=gC(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&fC(e.modalRef,t),mC(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&fC(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function bC(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:i=!1,manager:o=yC,closeAfterTransition:a=!1,onTransitionEnter:s,onTransitionExited:l,children:c,onClose:u,open:d,rootRef:h}=e,f=r.useRef({}),p=r.useRef(null),m=r.useRef(null),g=(0,nC.Z)(m,h),[v,y]=r.useState(!d),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const x=()=>(f.current.modalRef=m.current,f.current.mount=p.current,f.current),S=()=>{o.mount(x(),{disableScrollLock:i}),m.current&&(m.current.scrollTop=0)},k=(0,cC.Z)((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||(0,lC.Z)(p.current).body;o.add(x(),e),m.current&&S()})),_=r.useCallback((()=>o.isTopModal(x())),[o]),I=(0,cC.Z)((e=>{p.current=e,e&&(d&&_()?S():m.current&&fC(m.current,w))})),E=r.useCallback((()=>{o.remove(x(),w)}),[w,o]);r.useEffect((()=>()=>{E()}),[E]),r.useEffect((()=>{d?k():b&&a||E()}),[d,E,b,a,k]);const T=e=>t=>{var r;null==(r=e.onKeyDown)||r.call(e,t),"Escape"===t.key&&229!==t.which&&_()&&(n||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},C=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=iC(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,Rt.Z)({},n,t);return(0,Rt.Z)({role:"presentation"},r,{onKeyDown:T(r),ref:g})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Rt.Z)({"aria-hidden":!0},e,{onClick:C(e),open:d})},getTransitionProps:()=>({onEnter:(0,uC.Z)((()=>{y(!1),s&&s()}),null==c?void 0:c.props.onEnter),onExited:(0,uC.Z)((()=>{y(!0),l&&l(),a&&E()}),null==c?void 0:c.props.onExited)}),rootRef:g,portalRef:I,isTopModal:_,exited:v,hasTransition:b}}const wC=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function xC(e){const t=[],n=[];return Array.from(e.querySelectorAll(wC)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function SC(){return!0}function kC(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:a=xC,isEnabled:s=SC,open:l}=e,c=r.useRef(!1),u=r.useRef(null),d=r.useRef(null),h=r.useRef(null),f=r.useRef(null),p=r.useRef(!1),m=r.useRef(null),g=(0,nC.Z)(t.ref,m),v=r.useRef(null);r.useEffect((()=>{l&&m.current&&(p.current=!n)}),[n,l]),r.useEffect((()=>{if(!l||!m.current)return;const e=(0,lC.Z)(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),r.useEffect((()=>{if(!l||!m.current)return;const e=(0,lC.Z)(m.current),t=t=>{v.current=t,!i&&s()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!s()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!p.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=a(m.current)),n.length>0){var r,o;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=v.current)?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,i,o,s,l,a]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0};return(0,jt.jsxs)(r.Fragment,{children:[(0,jt.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),r.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),p.current=!0,f.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,jt.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}var _C=n(2876),IC=n(2971);const EC=r.forwardRef((function(e,t){const{children:n,container:i,disablePortal:o=!1}=e,[a,s]=r.useState(null),l=(0,nC.Z)(r.isValidElement(n)?n.ref:null,t);if((0,_C.Z)((()=>{o||s(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),(0,_C.Z)((()=>{if(a&&!o)return(0,IC.Z)(t,a),()=>{(0,IC.Z)(t,null)}}),[t,a,o]),o){if(r.isValidElement(n)){const e={ref:l};return r.cloneElement(n,e)}return(0,jt.jsx)(r.Fragment,{children:n})}return(0,jt.jsx)(r.Fragment,{children:a?lt.createPortal(n,a):a})}));const TC=!1;var CC="unmounted",RC="exited",PC="entering",AC="entered",NC="exiting",DC=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=RC,r.appearStatus=PC):i=AC:i=t.unmountOnExit||t.mountOnEnter?CC:RC,r.state={status:i},r.nextCallback=null,r}mr(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===CC?{status:RC}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==PC&&n!==AC&&(t=PC):n!==PC&&n!==AC||(t=NC)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===PC){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:lt.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===RC&&this.setState({status:CC})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[lt.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||TC?this.safeSetState({status:AC},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:PC},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:AC},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:lt.findDOMNode(this);t&&!TC?(this.props.onExit(r),this.safeSetState({status:NC},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:RC},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:RC},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:lt.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===CC)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,Ct.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(gr.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},t}(r.Component);function OC(){}DC.contextType=gr,DC.propTypes={},DC.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:OC,onEntering:OC,onEntered:OC,onExit:OC,onExiting:OC,onExited:OC},DC.UNMOUNTED=CC,DC.EXITED=RC,DC.ENTERING=PC,DC.ENTERED=AC,DC.EXITING=NC;const MC=DC,LC=e=>e.scrollTop;function jC(e,t){var n,r;const{timeout:i,easing:o,style:a={}}=e;return{duration:null!=(n=a.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=a.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:a.transitionDelay}}const FC=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ZC={entering:{opacity:1},entered:{opacity:1}},zC=r.forwardRef((function(e,t){const n=Vn(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:s,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:m,style:g,timeout:v=i,TransitionComponent:y=MC}=e,b=(0,Ct.Z)(e,FC),w=r.useRef(null),x=(0,ur.Z)(w,s.ref,t),S=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},k=S(h),_=S(((e,t)=>{LC(e);const r=jC({style:g,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),u&&u(e,t)})),I=S(d),E=S(m),T=S((e=>{const t=jC({style:g,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),f&&f(e)})),C=S(p);return(0,jt.jsx)(y,(0,Rt.Z)({appear:a,in:c,nodeRef:w,onEnter:_,onEntered:I,onEntering:k,onExit:T,onExited:C,onExiting:E,addEndListener:e=>{o&&o(w.current,e)},timeout:v},b,{children:(e,t)=>r.cloneElement(s,(0,Rt.Z)({style:(0,Rt.Z)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},ZC[e],g,s.props.style),ref:x},t))}))})),BC=zC;function UC(e){return(0,Nt.Z)("MuiBackdrop",e)}(0,an.Z)("MuiBackdrop",["root","invisible"]);const VC=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],qC=(0,Vt.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,Rt.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),WC=r.forwardRef((function(e,t){var n,r,i;const o=(0,qt.Z)({props:e,name:"MuiBackdrop"}),{children:a,className:s,component:l="div",components:c={},componentsProps:u={},invisible:d=!1,open:h,slotProps:f={},slots:p={},TransitionComponent:m=BC,transitionDuration:g}=o,v=(0,Ct.Z)(o,VC),y=(0,Rt.Z)({},o,{component:l,invisible:d}),b=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,Dt.Z)(r,UC,t)})(y),w=null!=(n=f.root)?n:u.root;return(0,jt.jsx)(m,(0,Rt.Z)({in:h,timeout:g},v,{children:(0,jt.jsx)(qC,(0,Rt.Z)({"aria-hidden":!0},w,{as:null!=(r=null!=(i=p.root)?i:c.Root)?r:l,className:(0,Pt.Z)(b.root,s,null==w?void 0:w.className),ownerState:(0,Rt.Z)({},y,null==w?void 0:w.ownerState),classes:b,ref:t,children:a}))}))}));function HC(e){return(0,Nt.Z)("MuiModal",e)}(0,an.Z)("MuiModal",["root","hidden","backdrop"]);const KC=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],GC=(0,Vt.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),QC=(0,Vt.ZP)(WC,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),$C=r.forwardRef((function(e,t){var n,i,o,a,s,l;const c=(0,qt.Z)({name:"MuiModal",props:e}),{BackdropComponent:u=QC,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:p,container:m,component:g,components:v={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:x=!1,disablePortal:S=!1,disableRestoreFocus:k=!1,disableScrollLock:_=!1,hideBackdrop:I=!1,keepMounted:E=!1,onBackdropClick:T,open:C,slotProps:R,slots:P}=c,A=(0,Ct.Z)(c,KC),N=(0,Rt.Z)({},c,{closeAfterTransition:f,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:x,disablePortal:S,disableRestoreFocus:k,disableScrollLock:_,hideBackdrop:I,keepMounted:E}),{getRootProps:D,getBackdropProps:O,getTransitionProps:M,portalRef:L,isTopModal:j,exited:F,hasTransition:Z}=bC((0,Rt.Z)({},N,{rootRef:t})),z=(0,Rt.Z)({},N,{exited:F}),B=(e=>{const{open:t,exited:n,classes:r}=e,i={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,Dt.Z)(i,HC,r)})(z),U={};if(void 0===p.props.tabIndex&&(U.tabIndex="-1"),Z){const{onEnter:e,onExited:t}=M();U.onEnter=e,U.onExited=t}const V=null!=(n=null!=(i=null==P?void 0:P.root)?i:v.Root)?n:GC,q=null!=(o=null!=(a=null==P?void 0:P.backdrop)?a:v.Backdrop)?o:u,W=null!=(s=null==R?void 0:R.root)?s:y.root,H=null!=(l=null==R?void 0:R.backdrop)?l:y.backdrop,K=sC({elementType:V,externalSlotProps:W,externalForwardedProps:A,getSlotProps:D,additionalProps:{ref:t,as:g},ownerState:z,className:(0,Pt.Z)(h,null==W?void 0:W.className,null==B?void 0:B.root,!z.open&&z.exited&&(null==B?void 0:B.hidden))}),G=sC({elementType:q,externalSlotProps:H,additionalProps:d,getSlotProps:e=>O((0,Rt.Z)({},e,{onClick:t=>{T&&T(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,Pt.Z)(null==H?void 0:H.className,null==d?void 0:d.className,null==B?void 0:B.backdrop),ownerState:z});return E||C||Z&&!F?(0,jt.jsx)(EC,{ref:L,container:m,disablePortal:S,children:(0,jt.jsxs)(V,(0,Rt.Z)({},K,{children:[!I&&u?(0,jt.jsx)(q,(0,Rt.Z)({},G)):null,(0,jt.jsx)(kC,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:k,isEnabled:j,open:C,children:r.cloneElement(p,U)})]}))}):null})),YC=$C;function XC(e){return(0,Nt.Z)("MuiDialog",e)}const JC=(0,an.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const eR=r.createContext({}),tR=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],nR=(0,Vt.ZP)(WC,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),rR=(0,Vt.ZP)(YC,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),iR=(0,Vt.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat((0,Ut.Z)(n.scroll))]]}})((e=>{let{ownerState:t}=e;return(0,Rt.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),oR=(0,Vt.ZP)(lr,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat((0,Ut.Z)(n.scroll))],t["paperWidth".concat((0,Ut.Z)(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(JC.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit),["&.".concat(JC.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(JC.paperScrollBody)]:{margin:0,maxWidth:"100%"}})})),aR=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiDialog"}),i=Vn(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":s,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:h=!1,fullScreen:f=!1,fullWidth:p=!1,maxWidth:m="sm",onBackdropClick:g,onClose:v,open:y,PaperComponent:b=lr,PaperProps:w={},scroll:x="paper",TransitionComponent:S=BC,transitionDuration:k=o,TransitionProps:_}=n,I=(0,Ct.Z)(n,tR),E=(0,Rt.Z)({},n,{disableEscapeKeyDown:h,fullScreen:f,fullWidth:p,maxWidth:m,scroll:x}),T=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e,a={root:["root"],container:["container","scroll".concat((0,Ut.Z)(n))],paper:["paper","paperScroll".concat((0,Ut.Z)(n)),"paperWidth".concat((0,Ut.Z)(String(r))),i&&"paperFullWidth",o&&"paperFullScreen"]};return(0,Dt.Z)(a,XC,t)})(E),C=r.useRef(),R=(0,tC.Z)(s),P=r.useMemo((()=>({titleId:R})),[R]);return(0,jt.jsx)(rR,(0,Rt.Z)({className:(0,Pt.Z)(T.root,d),closeAfterTransition:!0,components:{Backdrop:nR},componentsProps:{backdrop:(0,Rt.Z)({transitionDuration:k,as:l},c)},disableEscapeKeyDown:h,onClose:v,open:y,ref:t,onClick:e=>{C.current&&(C.current=null,g&&g(e),v&&v(e,"backdropClick"))},ownerState:E},I,{children:(0,jt.jsx)(S,(0,Rt.Z)({appear:!0,in:y,timeout:k,role:"presentation"},_,{children:(0,jt.jsx)(iR,{className:(0,Pt.Z)(T.container),onMouseDown:e=>{C.current=e.target===e.currentTarget},ownerState:E,children:(0,jt.jsx)(oR,(0,Rt.Z)({as:b,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":R},w,{className:(0,Pt.Z)(T.paper,w.className),ownerState:E,children:(0,jt.jsx)(eR.Provider,{value:P,children:u})}))})}))}))}));function sR(e){return(0,Nt.Z)("MuiDialogActions",e)}(0,an.Z)("MuiDialogActions",["root","spacing"]);const lR=["className","disableSpacing"],cR=(0,Vt.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,Rt.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),uR=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:i=!1}=n,o=(0,Ct.Z)(n,lR),a=(0,Rt.Z)({},n,{disableSpacing:i}),s=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,Dt.Z)(r,sR,t)})(a);return(0,jt.jsx)(cR,(0,Rt.Z)({className:(0,Pt.Z)(s.root,r),ownerState:a,ref:t},o))}));function dR(e){return(0,Nt.Z)("MuiDialogContent",e)}(0,an.Z)("MuiDialogContent",["root","dividers"]);function hR(e){return(0,Nt.Z)("MuiDialogTitle",e)}const fR=(0,an.Z)("MuiDialogTitle",["root"]),pR=["className","dividers"],mR=(0,Vt.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:{[".".concat(fR.root," + &")]:{paddingTop:0}})})),gR=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiDialogContent"}),{className:r,dividers:i=!1}=n,o=(0,Ct.Z)(n,pR),a=(0,Rt.Z)({},n,{dividers:i}),s=(e=>{const{classes:t,dividers:n}=e,r={root:["root",n&&"dividers"]};return(0,Dt.Z)(r,dR,t)})(a);return(0,jt.jsx)(mR,(0,Rt.Z)({className:(0,Pt.Z)(s.root,r),ownerState:a,ref:t},o))})),vR=["className","id"],yR=(0,Vt.ZP)(vn,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),bR=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiDialogTitle"}),{className:i,id:o}=n,a=(0,Ct.Z)(n,vR),s=n,l=(e=>{const{classes:t}=e;return(0,Dt.Z)({root:["root"]},hR,t)})(s),{titleId:c=o}=r.useContext(eR);return(0,jt.jsx)(yR,(0,Rt.Z)({component:"h2",className:(0,Pt.Z)(l.root,i),ownerState:s,ref:t,variant:"h6",id:null!=o?o:c},a))}));function wR(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function xR(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(wR(e.value)&&""!==e.value||t&&wR(e.defaultValue)&&""!==e.defaultValue)}var SR=n(9103);const kR=r.createContext(void 0);function _R(e){return(0,Nt.Z)("MuiFormControl",e)}(0,an.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const IR=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],ER=(0,Vt.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,Rt.Z)({},t.root,t["margin".concat((0,Ut.Z)(n.margin))],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,Rt.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),TR=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiFormControl"}),{children:i,className:o,color:a="primary",component:s="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:m="medium",variant:g="outlined"}=n,v=(0,Ct.Z)(n,IR),y=(0,Rt.Z)({},n,{color:a,component:s,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:m,variant:g}),b=(e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root","none"!==n&&"margin".concat((0,Ut.Z)(n)),r&&"fullWidth"]};return(0,Dt.Z)(i,_R,t)})(y),[w,x]=r.useState((()=>{let e=!1;return i&&r.Children.forEach(i,(t=>{if(!(0,SR.Z)(t,["Input","Select"]))return;const n=(0,SR.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[S,k]=r.useState((()=>{let e=!1;return i&&r.Children.forEach(i,(t=>{(0,SR.Z)(t,["Input","Select"])&&(xR(t.props,!0)||xR(t.props.inputProps,!0))&&(e=!0)})),e})),[_,I]=r.useState(!1);l&&_&&I(!1);const E=void 0===u||l?_:u;let T;const C=r.useMemo((()=>({adornedStart:w,setAdornedStart:x,color:a,disabled:l,error:c,filled:S,focused:E,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{I(!1)},onEmpty:()=>{k(!1)},onFilled:()=>{k(!0)},onFocus:()=>{I(!0)},registerEffect:T,required:p,variant:g})),[w,a,l,c,S,E,d,h,T,p,m,g]);return(0,jt.jsx)(kR.Provider,{value:C,children:(0,jt.jsx)(ER,(0,Rt.Z)({as:s,ownerState:y,className:(0,Pt.Z)(b.root,o),ref:t},v,{children:i}))})})),CR=TR;function RR(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}function PR(){return r.useContext(kR)}function AR(e){return(0,Nt.Z)("MuiFormLabel",e)}const NR=(0,an.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),DR=["children","className","color","component","disabled","error","filled","focused","required"],OR=(0,Vt.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,Rt.Z)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(NR.focused)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(NR.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(NR.error)]:{color:(t.vars||t).palette.error.main}})})),MR=(0,Vt.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(NR.error)]:{color:(t.vars||t).palette.error.main}}})),LR=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiFormLabel"}),{children:r,className:i,component:o="label"}=n,a=(0,Ct.Z)(n,DR),s=RR({props:n,muiFormControl:PR(),states:["color","required","focused","disabled","error","filled"]}),l=(0,Rt.Z)({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),c=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:a,required:s}=e,l={root:["root","color".concat((0,Ut.Z)(n)),i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return(0,Dt.Z)(l,AR,t)})(l);return(0,jt.jsxs)(OR,(0,Rt.Z)({as:o,ownerState:l,className:(0,Pt.Z)(c.root,i),ref:t},a,{children:[r,s.required&&(0,jt.jsxs)(MR,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))}));function jR(e){return(0,Nt.Z)("MuiInputLabel",e)}(0,an.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const FR=["disableAnimation","margin","shrink","variant","className"],ZR=(0,Vt.ZP)(LR,{shouldForwardProp:e=>(0,Vt.FO)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(NR.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,Rt.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,Rt.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,Rt.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}),"standard"===n.variant&&{"&:not(label) + div":{marginTop:16}})})),zR=r.forwardRef((function(e,t){const n=(0,qt.Z)({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:i,className:o}=n,a=(0,Ct.Z)(n,FR),s=PR();let l=i;"undefined"===typeof l&&s&&(l=s.filled||s.focused||s.adornedStart);const c=RR({props:n,muiFormControl:s,states:["size","variant","required","focused"]}),u=(0,Rt.Z)({},n,{disableAnimation:r,formControl:s,shrink:l,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),d=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:a,required:s}=e,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"normal"!==r&&"size".concat((0,Ut.Z)(r)),a],asterisk:[s&&"asterisk"]},c=(0,Dt.Z)(l,jR,t);return(0,Rt.Z)({},t,c)})(u);return(0,jt.jsx)(ZR,(0,Rt.Z)({"data-shrink":l,ownerState:u,ref:t,className:(0,Pt.Z)(d.root,o)},a,{classes:d}))})),BR=zR;var UR=n(6189),VR=(n(7441),n(8301));const qR=r.createContext({});function WR(e){return(0,Nt.Z)("MuiList",e)}(0,an.Z)("MuiList",["root","padding","dense","subheader"]);const HR=["children","className","component","dense","disablePadding","subheader"],KR=(0,Vt.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,Rt.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),GR=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiList"}),{children:i,className:o,component:a="ul",dense:s=!1,disablePadding:l=!1,subheader:c}=n,u=(0,Ct.Z)(n,HR),d=r.useMemo((()=>({dense:s})),[s]),h=(0,Rt.Z)({},n,{component:a,dense:s,disablePadding:l}),f=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e,o={root:["root",!n&&"padding",r&&"dense",i&&"subheader"]};return(0,Dt.Z)(o,WR,t)})(h);return(0,jt.jsx)(qR.Provider,{value:d,children:(0,jt.jsxs)(KR,(0,Rt.Z)({as:a,className:(0,Pt.Z)(f.root,o),ref:t,ownerState:h},u,{children:[c,i]}))})})),QR=hC;var $R=n(162);const YR=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function XR(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function JR(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function eP(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function tP(e,t,n,r,i,o){let a=!1,s=i(e,t,!!t&&n);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}const t=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&eP(s,o)&&!t)return s.focus(),!0;s=i(e,s,n)}return!1}const nP=r.forwardRef((function(e,t){const{actions:n,autoFocus:i=!1,autoFocusItem:o=!1,children:a,className:s,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=(0,Ct.Z)(e,YR),f=r.useRef(null),p=r.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,$R.Z)((()=>{i&&f.current.focus()}),[i]),r.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{const n=!f.current.style.width;if(e.clientHeight<f.current.clientHeight&&n){const n="".concat(QR((0,VR.Z)(e)),"px");f.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=n,f.current.style.width="calc(100% + ".concat(n,")")}return f.current}})),[]);const m=(0,ur.Z)(f,t);let g=-1;r.Children.forEach(a,((e,t)=>{r.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===g)&&(g=t),g===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=a.length&&(g=-1))):g===t&&(g+=1,g>=a.length&&(g=-1))}));const v=r.Children.map(a,((e,t)=>{if(t===g){const t={};return o&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(t.tabIndex=0),r.cloneElement(e,t)}return e}));return(0,jt.jsx)(GR,(0,Rt.Z)({role:"menu",ref:m,className:s,onKeyDown:e=>{const t=f.current,n=e.key,r=(0,VR.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),tP(t,r,c,l,XR);else if("ArrowUp"===n)e.preventDefault(),tP(t,r,c,l,JR);else if("Home"===n)e.preventDefault(),tP(t,null,c,l,XR);else if("End"===n)e.preventDefault(),tP(t,null,c,l,JR);else if(1===n.length){const i=p.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);const s=r&&!i.repeating&&eP(r,i);i.previousKeyMatched&&(s||tP(t,r,!1,l,XR,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:i?0:-1},h,{children:v}))})),rP=nP;var iP=n(3199),oP=n(7602);const aP=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function sP(e){return"scale(".concat(e,", ").concat(e**2,")")}const lP={entering:{opacity:1,transform:sP(1)},entered:{opacity:1,transform:"none"}},cP="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),uP=r.forwardRef((function(e,t){const{addEndListener:n,appear:i=!0,children:o,easing:a,in:s,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:f,style:p,timeout:m="auto",TransitionComponent:g=MC}=e,v=(0,Ct.Z)(e,aP),y=r.useRef(),b=r.useRef(),w=Vn(),x=r.useRef(null),S=(0,ur.Z)(x,o.ref,t),k=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},_=k(u),I=k(((e,t)=>{LC(e);const{duration:n,delay:r,easing:i}=jC({style:p,timeout:m,easing:a},{mode:"enter"});let o;"auto"===m?(o=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=n,e.style.transition=[w.transitions.create("opacity",{duration:o,delay:r}),w.transitions.create("transform",{duration:cP?o:.666*o,delay:r,easing:i})].join(","),l&&l(e,t)})),E=k(c),T=k(f),C=k((e=>{const{duration:t,delay:n,easing:r}=jC({style:p,timeout:m,easing:a},{mode:"exit"});let i;"auto"===m?(i=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=t,e.style.transition=[w.transitions.create("opacity",{duration:i,delay:n}),w.transitions.create("transform",{duration:cP?i:.666*i,delay:cP?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=sP(.75),d&&d(e)})),R=k(h);return r.useEffect((()=>()=>{clearTimeout(y.current)}),[]),(0,jt.jsx)(g,(0,Rt.Z)({appear:i,in:s,nodeRef:x,onEnter:I,onEntered:E,onEntering:_,onExit:C,onExited:R,onExiting:T,addEndListener:e=>{"auto"===m&&(y.current=setTimeout(e,b.current||0)),n&&n(x.current,e)},timeout:"auto"===m?null:m},v,{children:(e,t)=>r.cloneElement(o,(0,Rt.Z)({style:(0,Rt.Z)({opacity:0,transform:sP(.75),visibility:"exited"!==e||s?void 0:"hidden"},lP[e],p,o.props.style),ref:S},t))}))}));uP.muiSupportAuto=!0;const dP=uP;function hP(e){return(0,Nt.Z)("MuiPopover",e)}(0,an.Z)("MuiPopover",["root","paper"]);const fP=["onEntering"],pP=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],mP=["slotProps"];function gP(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function vP(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function yP(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function bP(e){return"function"===typeof e?e():e}const wP=(0,Vt.ZP)(YC,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),xP=(0,Vt.ZP)(lr,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),SP=r.forwardRef((function(e,t){var n,i,o;const a=(0,qt.Z)({props:e,name:"MuiPopover"}),{action:s,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:f,container:p,elevation:m=8,marginThreshold:g=16,open:v,PaperProps:y={},slots:b,slotProps:w,transformOrigin:x={vertical:"top",horizontal:"left"},TransitionComponent:S=dP,transitionDuration:k="auto",TransitionProps:{onEntering:_}={},disableScrollLock:I=!1}=a,E=(0,Ct.Z)(a.TransitionProps,fP),T=(0,Ct.Z)(a,pP),C=null!=(n=null==w?void 0:w.paper)?n:y,R=r.useRef(),P=(0,ur.Z)(R,C.ref),A=(0,Rt.Z)({},a,{anchorOrigin:c,anchorReference:d,elevation:m,marginThreshold:g,externalPaperSlotProps:C,transformOrigin:x,TransitionComponent:S,transitionDuration:k,TransitionProps:E}),N=(e=>{const{classes:t}=e;return(0,Dt.Z)({root:["root"],paper:["paper"]},hP,t)})(A),D=r.useCallback((()=>{if("anchorPosition"===d)return u;const e=bP(l),t=(e&&1===e.nodeType?e:(0,VR.Z)(R.current).body).getBoundingClientRect();return{top:t.top+gP(t,c.vertical),left:t.left+vP(t,c.horizontal)}}),[l,c.horizontal,c.vertical,u,d]),O=r.useCallback((e=>({vertical:gP(e,x.vertical),horizontal:vP(e,x.horizontal)})),[x.horizontal,x.vertical]),M=r.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=O(t);if("none"===d)return{top:null,left:null,transformOrigin:yP(n)};const r=D();let i=r.top-n.vertical,o=r.left-n.horizontal;const a=i+t.height,s=o+t.width,c=(0,oP.Z)(bP(l)),u=c.innerHeight-g,h=c.innerWidth-g;if(null!==g&&i<g){const e=i-g;i-=e,n.vertical+=e}else if(null!==g&&a>u){const e=a-u;i-=e,n.vertical+=e}if(null!==g&&o<g){const e=o-g;o-=e,n.horizontal+=e}else if(s>h){const e=s-h;o-=e,n.horizontal+=e}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:yP(n)}}),[l,d,D,O,g]),[L,j]=r.useState(v),F=r.useCallback((()=>{const e=R.current;if(!e)return;const t=M(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,j(!0)}),[M]);r.useEffect((()=>(I&&window.addEventListener("scroll",F),()=>window.removeEventListener("scroll",F))),[l,I,F]);r.useEffect((()=>{v&&F()})),r.useImperativeHandle(s,(()=>v?{updatePosition:()=>{F()}}:null),[v,F]),r.useEffect((()=>{if(!v)return;const e=(0,iP.Z)((()=>{F()})),t=(0,oP.Z)(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,v,F]);let Z=k;"auto"!==k||S.muiSupportAuto||(Z=void 0);const z=p||(l?(0,VR.Z)(bP(l)).body:void 0),B=null!=(i=null==b?void 0:b.root)?i:wP,U=null!=(o=null==b?void 0:b.paper)?o:xP,V=sC({elementType:U,externalSlotProps:(0,Rt.Z)({},C,{style:L?C.style:(0,Rt.Z)({},C.style,{opacity:0})}),additionalProps:{elevation:m,ref:P},ownerState:A,className:(0,Pt.Z)(N.paper,null==C?void 0:C.className)}),q=sC({elementType:B,externalSlotProps:(null==w?void 0:w.root)||{},externalForwardedProps:T,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:z,open:v},ownerState:A,className:(0,Pt.Z)(N.root,f)}),{slotProps:W}=q,H=(0,Ct.Z)(q,mP);return(0,jt.jsx)(B,(0,Rt.Z)({},H,!rC(B)&&{slotProps:W,disableScrollLock:I},{children:(0,jt.jsx)(S,(0,Rt.Z)({appear:!0,in:v,onEntering:(e,t)=>{_&&_(e,t),F()},onExited:()=>{j(!1)},timeout:Z},E,{children:(0,jt.jsx)(U,(0,Rt.Z)({},V,{children:h}))}))}))}));function kP(e){return(0,Nt.Z)("MuiMenu",e)}(0,an.Z)("MuiMenu",["root","paper","list"]);const _P=["onEntering"],IP=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],EP={vertical:"top",horizontal:"right"},TP={vertical:"top",horizontal:"left"},CP=(0,Vt.ZP)(SP,{shouldForwardProp:e=>(0,Vt.FO)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),RP=(0,Vt.ZP)(xP,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),PP=(0,Vt.ZP)(rP,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),AP=r.forwardRef((function(e,t){var n,i;const o=(0,qt.Z)({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:s,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:y={},slotProps:b={}}=o,w=(0,Ct.Z)(o.TransitionProps,_P),x=(0,Ct.Z)(o,IP),S=Vn(),k="rtl"===S.direction,_=(0,Rt.Z)({},o,{autoFocus:a,disableAutoFocusItem:c,MenuListProps:u,onEntering:g,PaperProps:f,transitionDuration:m,TransitionProps:w,variant:v}),I=(e=>{const{classes:t}=e;return(0,Dt.Z)({root:["root"],paper:["paper"],list:["list"]},kP,t)})(_),E=a&&!c&&h,T=r.useRef(null);let C=-1;r.Children.map(s,((e,t)=>{r.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===C)&&(C=t))}));const R=null!=(n=y.paper)?n:RP,P=null!=(i=b.paper)?i:f,A=sC({elementType:y.root,externalSlotProps:b.root,ownerState:_,className:[I.root,l]}),N=sC({elementType:R,externalSlotProps:P,ownerState:_,className:I.paper});return(0,jt.jsx)(CP,(0,Rt.Z)({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:k?"right":"left"},transformOrigin:k?EP:TP,slots:{paper:R,root:y.root},slotProps:{root:A,paper:N},open:h,ref:t,transitionDuration:m,TransitionProps:(0,Rt.Z)({onEntering:(e,t)=>{T.current&&T.current.adjustStyleForScrollbar(e,S),g&&g(e,t)}},w),ownerState:_},x,{classes:p,children:(0,jt.jsx)(PP,(0,Rt.Z)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:T,autoFocus:a&&(-1===C||c),autoFocusItem:E,variant:v},u,{className:(0,Pt.Z)(I.list,u.className),children:s}))}))})),NP=AP;function DP(e){return(0,Nt.Z)("MuiNativeSelect",e)}const OP=(0,an.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),MP=["className","disabled","error","IconComponent","inputRef","variant"],LP=e=>{let{ownerState:t,theme:n}=e;return(0,Rt.Z)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,Rt.Z)({},n.vars?{backgroundColor:"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(OP.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},jP=(0,Vt.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Vt.FO,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(OP.multiple)]:t.multiple}]}})(LP),FP=e=>{let{ownerState:t,theme:n}=e;return(0,Rt.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,["&.".concat(OP.disabled)]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},ZP=(0,Vt.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat((0,Ut.Z)(n.variant))],n.open&&t.iconOpen]}})(FP),zP=r.forwardRef((function(e,t){const{className:n,disabled:i,error:o,IconComponent:a,inputRef:s,variant:l="standard"}=e,c=(0,Ct.Z)(e,MP),u=(0,Rt.Z)({},e,{disabled:i,variant:l,error:o}),d=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:a}=e,s={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon","icon".concat((0,Ut.Z)(n)),o&&"iconOpen",r&&"disabled"]};return(0,Dt.Z)(s,DP,t)})(u);return(0,jt.jsxs)(r.Fragment,{children:[(0,jt.jsx)(jP,(0,Rt.Z)({ownerState:u,className:(0,Pt.Z)(d.select,n),disabled:i,ref:s||t},c)),e.multiple?null:(0,jt.jsx)(ZP,{as:a,ownerState:u,className:d.icon})]})})),BP=zP;var UP=n(5158);function VP(e){return(0,Nt.Z)("MuiSelect",e)}const qP=(0,an.Z)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var WP;const HP=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],KP=(0,Vt.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(qP.select)]:t.select},{["&.".concat(qP.select)]:t[n.variant]},{["&.".concat(qP.error)]:t.error},{["&.".concat(qP.multiple)]:t.multiple}]}})(LP,{["&.".concat(qP.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),GP=(0,Vt.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat((0,Ut.Z)(n.variant))],n.open&&t.iconOpen]}})(FP),QP=(0,Vt.ZP)("input",{shouldForwardProp:e=>(0,Vt.Dz)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function $P(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function YP(e){return null==e||"string"===typeof e&&!e.trim()}const XP=r.forwardRef((function(e,t){var n;const{"aria-describedby":i,"aria-label":o,autoFocus:a,autoWidth:s,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:f,error:p=!1,IconComponent:m,inputRef:g,labelId:v,MenuProps:y={},multiple:b,name:w,onBlur:x,onChange:S,onClose:k,onFocus:_,onOpen:I,open:E,readOnly:T,renderValue:C,SelectDisplayProps:R={},tabIndex:P,value:A,variant:N="standard"}=e,D=(0,Ct.Z)(e,HP),[O,M]=(0,UP.Z)({controlled:A,default:d,name:"Select"}),[L,j]=(0,UP.Z)({controlled:E,default:u,name:"Select"}),F=r.useRef(null),Z=r.useRef(null),[z,B]=r.useState(null),{current:U}=r.useRef(null!=E),[V,q]=r.useState(),W=(0,ur.Z)(t,g),H=r.useCallback((e=>{Z.current=e,e&&B(e)}),[]),K=null==z?void 0:z.parentNode;r.useImperativeHandle(W,(()=>({focus:()=>{Z.current.focus()},node:F.current,value:O})),[O]),r.useEffect((()=>{u&&L&&z&&!U&&(q(s?null:K.clientWidth),Z.current.focus())}),[z,s]),r.useEffect((()=>{a&&Z.current.focus()}),[a]),r.useEffect((()=>{if(!v)return;const e=(0,VR.Z)(Z.current).getElementById(v);if(e){const t=()=>{getSelection().isCollapsed&&Z.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[v]);const G=(e,t)=>{e?I&&I(t):k&&k(t),U||(q(s?null:K.clientWidth),j(e))},Q=r.Children.toArray(l),$=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(b){n=Array.isArray(O)?O.slice():[];const t=O.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),O!==n&&(M(n),S)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:w}}),S(i,e)}b||G(!1,t)}},Y=null!==z&&L;let X,J;delete D["aria-invalid"];const ee=[];let te=!1,ne=!1;(xR({value:O})||f)&&(C?X=C(O):te=!0);const re=Q.map((e=>{if(!r.isValidElement(e))return null;let t;if(b){if(!Array.isArray(O))throw new Error((0,UR.Z)(2));t=O.some((t=>$P(t,e.props.value))),t&&te&&ee.push(e.props.children)}else t=$P(O,e.props.value),t&&te&&(J=e.props.children);return t&&(ne=!0),r.cloneElement(e,{"aria-selected":t?"true":"false",onClick:$(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));te&&(X=b?0===ee.length?null:ee.reduce(((e,t,n)=>(e.push(t),n<ee.length-1&&e.push(", "),e)),[]):J);let ie,oe=V;!s&&U&&z&&(oe=K.clientWidth),ie="undefined"!==typeof P?P:h?null:0;const ae=R.id||(w?"mui-component-select-".concat(w):void 0),se=(0,Rt.Z)({},e,{variant:N,value:O,open:Y,error:p}),le=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:a}=e,s={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon","icon".concat((0,Ut.Z)(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,Dt.Z)(s,VP,t)})(se),ce=(0,Rt.Z)({},y.PaperProps,null==(n=y.slotProps)?void 0:n.paper),ue=(0,tC.Z)(),de=(0,tC.Z)();return(0,jt.jsxs)(r.Fragment,{children:[(0,jt.jsx)(KP,(0,Rt.Z)({ref:H,tabIndex:ie,role:"combobox","aria-controls":ue,"aria-disabled":h?"true":void 0,"aria-expanded":Y?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,ae].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:e=>{if(!T){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),G(!0,e))}},onMouseDown:h||T?null:e=>{0===e.button&&(e.preventDefault(),Z.current.focus(),G(!0,e))},onBlur:e=>{!Y&&x&&(Object.defineProperty(e,"target",{writable:!0,value:{value:O,name:w}}),x(e))},onFocus:_},R,{ownerState:se,className:(0,Pt.Z)(R.className,le.select,c),id:ae,children:YP(X)?WP||(WP=(0,jt.jsx)("span",{className:"notranslate",children:"\u200b"})):X})),(0,jt.jsx)(QP,(0,Rt.Z)({"aria-invalid":p,value:Array.isArray(O)?O.join(","):O,name:null!=w?w:de,ref:F,"aria-hidden":!0,onChange:e=>{const t=Q.find((t=>t.props.value===e.target.value));void 0!==t&&(M(t.props.value),S&&S(e,t))},tabIndex:-1,disabled:h,className:le.nativeInput,autoFocus:a,ownerState:se},D)),(0,jt.jsx)(GP,{as:m,className:le.icon,ownerState:se}),(0,jt.jsx)(NP,(0,Rt.Z)({id:"menu-".concat(w||""),anchorEl:K,open:Y,onClose:e=>{G(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,Rt.Z)({"aria-labelledby":v,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:ue},y.MenuListProps),slotProps:(0,Rt.Z)({},y.slotProps,{paper:(0,Rt.Z)({},ce,{style:(0,Rt.Z)({minWidth:oe},null!=ce?ce.style:null)})}),children:re}))]})})),JP=XP,eA=(0,ui.Z)((0,jt.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");var tA=n(2254);const nA=["onChange","maxRows","minRows","style","value"];function rA(e){return parseInt(e,10)||0}const iA={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function oA(e){return void 0===e||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}const aA=r.forwardRef((function(e,t){const{onChange:n,maxRows:i,minRows:o=1,style:a,value:s}=e,l=(0,Ct.Z)(e,nA),{current:c}=r.useRef(null!=s),u=r.useRef(null),d=(0,nC.Z)(t,u),h=r.useRef(null),f=r.useRef(0),[p,m]=r.useState({outerHeightStyle:0}),g=r.useCallback((()=>{const t=u.current,n=(0,dC.Z)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};const r=h.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const a=n.boxSizing,s=rA(n.paddingBottom)+rA(n.paddingTop),l=rA(n.borderBottomWidth)+rA(n.borderTopWidth),c=r.scrollHeight;r.value="x";const d=r.scrollHeight;let f=c;o&&(f=Math.max(Number(o)*d,f)),i&&(f=Math.min(Number(i)*d,f)),f=Math.max(f,d);return{outerHeightStyle:f+("border-box"===a?s+l:0),overflow:Math.abs(f-c)<=1}}),[i,o,e.placeholder]),v=(e,t)=>{const{outerHeightStyle:n,overflow:r}=t;return f.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(f.current+=1,{overflow:r,outerHeightStyle:n}):e},y=r.useCallback((()=>{const e=g();oA(e)||m((t=>v(t,e)))}),[g]);(0,_C.Z)((()=>{const e=()=>{f.current=0,(()=>{const e=g();oA(e)||lt.flushSync((()=>{m((t=>v(t,e)))}))})()};let t;const n=(0,tA.Z)(e),r=u.current,i=(0,dC.Z)(r);let o;return i.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(o=new ResizeObserver(e),o.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),i.removeEventListener("resize",n),o&&o.disconnect()}}),[g]),(0,_C.Z)((()=>{y()})),r.useEffect((()=>{f.current=0}),[s]);return(0,jt.jsxs)(r.Fragment,{children:[(0,jt.jsx)("textarea",(0,Rt.Z)({value:s,onChange:e=>{f.current=0,c||y(),n&&n(e)},ref:d,rows:o,style:(0,Rt.Z)({height:p.outerHeightStyle,overflow:p.overflow?"hidden":void 0},a)},l)),(0,jt.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:(0,Rt.Z)({},iA,a,{paddingTop:0,paddingBottom:0})})]})}));function sA(e){return(0,Nt.Z)("MuiInputBase",e)}const lA=(0,an.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),cA=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],uA=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,Ut.Z)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},dA=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},hA=(0,Vt.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:uA})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(lA.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,Rt.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),fA=(0,Vt.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:dA})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,i=(0,Rt.Z)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),o={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,Rt.Z)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(lA.formControl," &")]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},["&.".concat(lA.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),pA=(0,jt.jsx)(Cn,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),mA=r.forwardRef((function(e,t){var n;const i=(0,qt.Z)({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:a,autoFocus:s,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:m=!1,id:g,inputComponent:v="input",inputProps:y={},inputRef:b,maxRows:w,minRows:x,multiline:S=!1,name:k,onBlur:_,onChange:I,onClick:E,onFocus:T,onKeyDown:C,onKeyUp:R,placeholder:P,readOnly:A,renderSuffix:N,rows:D,slotProps:O={},slots:M={},startAdornment:L,type:j="text",value:F}=i,Z=(0,Ct.Z)(i,cA),z=null!=y.value?y.value:F,{current:B}=r.useRef(null!=z),U=r.useRef(),V=r.useCallback((e=>{0}),[]),q=(0,ur.Z)(U,b,y.ref,V),[W,H]=r.useState(!1),K=PR();const G=RR({props:i,muiFormControl:K,states:["color","disabled","error","hiddenLabel","size","required","filled"]});G.focused=K?K.focused:W,r.useEffect((()=>{!K&&h&&W&&(H(!1),_&&_())}),[K,h,W,_]);const Q=K&&K.onFilled,$=K&&K.onEmpty,Y=r.useCallback((e=>{xR(e)?Q&&Q():$&&$()}),[Q,$]);(0,$R.Z)((()=>{B&&Y({value:z})}),[z,Y,B]);r.useEffect((()=>{Y(U.current)}),[]);let X=v,J=y;S&&"input"===X&&(J=D?(0,Rt.Z)({type:void 0,minRows:D,maxRows:D},J):(0,Rt.Z)({type:void 0,maxRows:w,minRows:x},J),X=aA);r.useEffect((()=>{K&&K.setAdornedStart(Boolean(L))}),[K,L]);const ee=(0,Rt.Z)({},i,{color:G.color||"primary",disabled:G.disabled,endAdornment:p,error:G.error,focused:G.focused,formControl:K,fullWidth:m,hiddenLabel:G.hiddenLabel,multiline:S,size:G.size,startAdornment:L,type:j}),te=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:f,type:p}=e,m={root:["root","color".concat((0,Ut.Z)(n)),r&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",h&&"medium"!==h&&"size".concat((0,Ut.Z)(h)),u&&"multiline",f&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return(0,Dt.Z)(m,sA,t)})(ee),ne=M.root||c.Root||hA,re=O.root||u.root||{},ie=M.input||c.Input||fA;return J=(0,Rt.Z)({},J,null!=(n=O.input)?n:u.input),(0,jt.jsxs)(r.Fragment,{children:[!f&&pA,(0,jt.jsxs)(ne,(0,Rt.Z)({},re,!rC(ne)&&{ownerState:(0,Rt.Z)({},ee,re.ownerState)},{ref:t,onClick:e=>{U.current&&e.currentTarget===e.target&&U.current.focus(),E&&E(e)}},Z,{className:(0,Pt.Z)(te.root,re.className,l,A&&"MuiInputBase-readOnly"),children:[L,(0,jt.jsx)(kR.Provider,{value:null,children:(0,jt.jsx)(ie,(0,Rt.Z)({ownerState:ee,"aria-invalid":G.error,"aria-describedby":o,autoComplete:a,autoFocus:s,defaultValue:d,disabled:G.disabled,id:g,onAnimationStart:e=>{Y("mui-auto-fill-cancel"===e.animationName?U.current:{value:"x"})},name:k,placeholder:P,readOnly:A,required:G.required,rows:D,value:z,onKeyDown:C,onKeyUp:R,type:j},J,!rC(ie)&&{as:X,ownerState:(0,Rt.Z)({},ee,J.ownerState)},{ref:q,className:(0,Pt.Z)(te.input,J.className,A&&"MuiInputBase-readOnly"),onBlur:e=>{_&&_(e),y.onBlur&&y.onBlur(e),K&&K.onBlur?K.onBlur(e):H(!1)},onChange:function(e){if(!B){const t=e.target||U.current;if(null==t)throw new Error((0,UR.Z)(1));Y({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.onChange&&y.onChange(e,...n),I&&I(e,...n)},onFocus:e=>{G.disabled?e.stopPropagation():(T&&T(e),y.onFocus&&y.onFocus(e),K&&K.onFocus?K.onFocus(e):H(!0))}}))}),p,N?N((0,Rt.Z)({},G,{startAdornment:L})):null]}))]})})),gA=mA;function vA(e){return(0,Nt.Z)("MuiInput",e)}const yA=(0,Rt.Z)({},lA,(0,an.Z)("MuiInput",["root","underline","input"])),bA=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],wA=(0,Vt.ZP)(hA,{shouldForwardProp:e=>(0,Vt.FO)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...uA(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),(0,Rt.Z)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&:after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(yA.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(yA.error)]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(yA.disabled,", .").concat(yA.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat(yA.disabled,":before")]:{borderBottomStyle:"dotted"}})})),xA=(0,Vt.ZP)(fA,{name:"MuiInput",slot:"Input",overridesResolver:dA})({}),SA=r.forwardRef((function(e,t){var n,r,i,o;const a=(0,qt.Z)({props:e,name:"MuiInput"}),{disableUnderline:s,components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:p={},type:m="text"}=a,g=(0,Ct.Z)(a,bA),v=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,Dt.Z)(r,vA,t);return(0,Rt.Z)({},t,i)})(a),y={root:{ownerState:{disableUnderline:s}}},b=(null!=f?f:c)?(0,Qt.Z)(null!=f?f:c,y):y,w=null!=(n=null!=(r=p.root)?r:l.Root)?n:wA,x=null!=(i=null!=(o=p.input)?o:l.Input)?i:xA;return(0,jt.jsx)(gA,(0,Rt.Z)({slots:{root:w,input:x},slotProps:b,fullWidth:u,inputComponent:d,multiline:h,ref:t,type:m},g,{classes:v}))}));SA.muiName="Input";const kA=SA;function _A(e){return(0,Nt.Z)("MuiFilledInput",e)}const IA=(0,Rt.Z)({},lA,(0,an.Z)("MuiFilledInput",["root","underline","input"])),EA=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],TA=(0,Vt.ZP)(hA,{shouldForwardProp:e=>(0,Vt.FO)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...uA(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const i="light"===t.palette.mode,o=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",a=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,Rt.Z)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a}},["&.".concat(IA.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:a},["&.".concat(IA.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&:after":{borderBottom:"2px solid ".concat(null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(IA.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(IA.error)]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(IA.disabled,", .").concat(IA.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(IA.disabled,":before")]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,Rt.Z)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),CA=(0,Vt.ZP)(fA,{name:"MuiFilledInput",slot:"Input",overridesResolver:dA})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),RA=r.forwardRef((function(e,t){var n,r,i,o;const a=(0,qt.Z)({props:e,name:"MuiFilledInput"}),{components:s={},componentsProps:l,fullWidth:c=!1,inputComponent:u="input",multiline:d=!1,slotProps:h,slots:f={},type:p="text"}=a,m=(0,Ct.Z)(a,EA),g=(0,Rt.Z)({},a,{fullWidth:c,inputComponent:u,multiline:d,type:p}),v=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,Dt.Z)(r,_A,t);return(0,Rt.Z)({},t,i)})(a),y={root:{ownerState:g},input:{ownerState:g}},b=(null!=h?h:l)?(0,Qt.Z)(y,null!=h?h:l):y,w=null!=(n=null!=(r=f.root)?r:s.Root)?n:TA,x=null!=(i=null!=(o=f.input)?o:s.Input)?i:CA;return(0,jt.jsx)(gA,(0,Rt.Z)({slots:{root:w,input:x},componentsProps:b,fullWidth:c,inputComponent:u,multiline:d,ref:t,type:p},m,{classes:v}))}));RA.muiName="Input";const PA=RA;var AA;const NA=["children","classes","className","label","notched"],DA=(0,Vt.ZP)("fieldset",{shouldForwardProp:Vt.FO})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),OA=(0,Vt.ZP)("legend",{shouldForwardProp:Vt.FO})((e=>{let{ownerState:t,theme:n}=e;return(0,Rt.Z)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,Rt.Z)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function MA(e){return(0,Nt.Z)("MuiOutlinedInput",e)}const LA=(0,Rt.Z)({},lA,(0,an.Z)("MuiOutlinedInput",["root","notchedOutline","input"])),jA=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],FA=(0,Vt.ZP)(hA,{shouldForwardProp:e=>(0,Vt.FO)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:uA})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,Rt.Z)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(LA.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(LA.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):r}},["&.".concat(LA.focused," .").concat(LA.notchedOutline)]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},["&.".concat(LA.error," .").concat(LA.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(LA.disabled," .").concat(LA.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,Rt.Z)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),ZA=(0,Vt.ZP)((function(e){const{className:t,label:n,notched:r}=e,i=(0,Ct.Z)(e,NA),o=null!=n&&""!==n,a=(0,Rt.Z)({},e,{notched:r,withLabel:o});return(0,jt.jsx)(DA,(0,Rt.Z)({"aria-hidden":!0,className:t,ownerState:a},i,{children:(0,jt.jsx)(OA,{ownerState:a,children:o?(0,jt.jsx)("span",{children:n}):AA||(AA=(0,jt.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),zA=(0,Vt.ZP)(fA,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:dA})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),BA=r.forwardRef((function(e,t){var n,i,o,a,s;const l=(0,qt.Z)({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:p,slots:m={},type:g="text"}=l,v=(0,Ct.Z)(l,jA),y=(e=>{const{classes:t}=e,n=(0,Dt.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},MA,t);return(0,Rt.Z)({},t,n)})(l),b=PR(),w=RR({props:l,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),x=(0,Rt.Z)({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:b,fullWidth:u,hiddenLabel:w.hiddenLabel,multiline:f,size:w.size,type:g}),S=null!=(n=null!=(i=m.root)?i:c.Root)?n:FA,k=null!=(o=null!=(a=m.input)?a:c.Input)?o:zA;return(0,jt.jsx)(gA,(0,Rt.Z)({slots:{root:S,input:k},renderSuffix:e=>(0,jt.jsx)(ZA,{ownerState:x,className:y.notchedOutline,label:null!=h&&""!==h&&w.required?s||(s=(0,jt.jsxs)(r.Fragment,{children:[h,"\u2009","*"]})):h,notched:"undefined"!==typeof p?p:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:u,inputComponent:d,multiline:f,ref:t,type:g},v,{classes:(0,Rt.Z)({},y,{notchedOutline:null})}))}));BA.muiName="Input";const UA=BA,VA=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],qA=["root"],WA={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,Vt.FO)(e)&&"variant"!==e,slot:"Root"},HA=(0,Vt.ZP)(kA,WA)(""),KA=(0,Vt.ZP)(UA,WA)(""),GA=(0,Vt.ZP)(PA,WA)(""),QA=r.forwardRef((function(e,t){const n=(0,qt.Z)({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:a={},className:s,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=eA,id:d,input:h,inputProps:f,label:p,labelId:m,MenuProps:g,multiple:v=!1,native:y=!1,onClose:b,onOpen:w,open:x,renderValue:S,SelectDisplayProps:k,variant:_="outlined"}=n,I=(0,Ct.Z)(n,VA),E=y?BP:JP,T=RR({props:n,muiFormControl:PR(),states:["variant","error"]}),C=T.variant||_,R=(0,Rt.Z)({},n,{variant:C,classes:a}),P=(e=>{const{classes:t}=e;return t})(R),A=(0,Ct.Z)(P,qA),N=h||{standard:(0,jt.jsx)(HA,{ownerState:R}),outlined:(0,jt.jsx)(KA,{label:p,ownerState:R}),filled:(0,jt.jsx)(GA,{ownerState:R})}[C],D=(0,ur.Z)(t,N.ref);return(0,jt.jsx)(r.Fragment,{children:r.cloneElement(N,(0,Rt.Z)({inputComponent:E,inputProps:(0,Rt.Z)({children:o,error:T.error,IconComponent:u,variant:C,type:void 0,multiple:v},y?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:b,onOpen:w,open:x,renderValue:S,SelectDisplayProps:(0,Rt.Z)({id:d},k)},f,{classes:f?(0,Qt.Z)(A,f.classes):A},h?h.props.inputProps:{})},v&&y&&"outlined"===C?{notched:!0}:{},{ref:D,className:(0,Pt.Z)(N.props.className,s,P.root)},!h&&{variant:C},I))})}));QA.muiName="Select";const $A=QA;const YA=(0,an.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const XA=(0,an.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);const JA=(0,an.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function eN(e){return(0,Nt.Z)("MuiMenuItem",e)}const tN=(0,an.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),nN=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],rN=(0,Vt.ZP)(Wr,{shouldForwardProp:e=>(0,Vt.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(tN.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,nr.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(tN.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,nr.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(tN.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,nr.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,nr.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(tN.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(tN.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(YA.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(YA.inset)]:{marginLeft:52},["& .".concat(JA.root)]:{marginTop:0,marginBottom:0},["& .".concat(JA.inset)]:{paddingLeft:36},["& .".concat(XA.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,Rt.Z)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(XA.root," svg")]:{fontSize:"1.25rem"}}))})),iN=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:a=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=n,f=(0,Ct.Z)(n,nN),p=r.useContext(qR),m=r.useMemo((()=>({dense:a||p.dense||!1,disableGutters:l})),[p.dense,a,l]),g=r.useRef(null);(0,$R.Z)((()=>{i&&g.current&&g.current.focus()}),[i]);const v=(0,Rt.Z)({},n,{dense:m.dense,divider:s,disableGutters:l}),y=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:a}=e,s={root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},l=(0,Dt.Z)(s,eN,a);return(0,Rt.Z)({},a,l)})(n),b=(0,ur.Z)(g,t);let w;return n.disabled||(w=void 0!==d?d:-1),(0,jt.jsx)(qR.Provider,{value:m,children:(0,jt.jsx)(rN,(0,Rt.Z)({ref:b,role:u,tabIndex:w,component:o,focusVisibleClassName:(0,Pt.Z)(y.focusVisible,c),className:(0,Pt.Z)(y.root,h)},f,{ownerState:v,classes:y}))})}));function oN(e){const{row:t}=e,[n,i]=(0,r.useState)(!1),[o,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(null),{userId:m,apiURL:g,showNotification:v,isLoggedIn:y}=(0,r.useContext)(JT),b=localStorage.getItem("jwtToken"),[w,x]=(0,r.useState)(""),[S,k]=(0,r.useState)({}),_=e=>{u(!0),fetch("".concat(g,"/secure/book/getAllbookList/").concat(m),{method:"GET",headers:{"Content-Type":"application/json",authorization:b}}).then((e=>{if(e.ok)return e.json();throw new Error("Network response was not ok.")})).then((t=>{k({bookId:e.id,bookTitle:e.volumeInfo?e.volumeInfo.title:e.title,bookAuthor:e.volumeInfo?e.volumeInfo.authors[0]:e.author,pages:e.volumeInfo?e.volumeInfo.pageCount:e.pageCount}),delete t.data.index,h(null),p(t.data),a(!0)})).catch((e=>{console.error("Error adding book to cart:",e)})).finally((()=>{u(!1)}))},I=()=>{const e={userId:m,newBook:{bookId:t.title,bookPrice:t.price,quantity:1}};fetch("".concat(g,"/secure/cart/updateCart/").concat(m),{method:"POST",headers:{"Content-Type":"application/json",authorization:b},body:JSON.stringify(e)}).then((e=>{if(e.ok)return e.json();throw new Error("Network response was not ok.")})).then((e=>{v("Book added to book list","success")})).catch((e=>{console.error("Error adding book to book list:",e)}))};return(0,jt.jsxs)(r.Fragment,{children:[(0,jt.jsx)(tr,{item:!0,xs:12,sm:6,md:4,sx:{width:"100%",height:"100%"},children:(0,jt.jsxs)(lr,{elevation:6,sx:{margin:2,padding:2,transition:"transform 0.3s ease-in-out","&:hover":{transform:"scale(1.1)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},backgroundColor:"#f5f5f5"},children:[(0,jt.jsx)(vn,{className:"book-title",variant:"h5",sx:{width:"100%",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.title}),(0,jt.jsxs)(un,{sx:{display:"flex",marginTop:5,alignItems:"center"},children:[(0,jt.jsx)("img",{src:t.imgLinkSmall,alt:'Cover of the book "'.concat(t.title,'"'),style:{marginRight:16,width:"100px",height:"150px"}}),(0,jt.jsxs)(un,{sx:{textAlign:"left",marginBottom:"auto"},children:[(0,jt.jsxs)(vn,{variant:"h7",children:["Publisher: ",t.publisher]}),(0,jt.jsx)("br",{}),(0,jt.jsxs)(vn,{variant:"h7",children:["Date: ",t.publishedDate]}),(0,jt.jsx)("br",{}),(0,jt.jsxs)(vn,{variant:"h7",children:["Author: ",t.author[0]]}),(0,jt.jsx)("br",{}),(0,jt.jsxs)(vn,{variant:"h7",children:["Price: ","".concat(t.price," ").concat(t.currency)]})]})]}),(0,jt.jsxs)(un,{sx:{marginTop:"auto",display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,jt.jsx)(ni,{variant:"contained",color:"primary",onClick:()=>{return e=t.id,l(!0),void fetch("".concat(g,"/open/book/getBook/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>{if(e.ok)return e.json();throw new Error("Network response was not ok.")})).then((e=>{p(null),h(e.data),a(!0)})).catch((e=>{console.error("Error adding book to cart:",e)})).finally((()=>{l(!1)}));var e},sx:{mt:2},children:"View"}),(0,jt.jsx)(ni,{disabled:!y,variant:"contained",color:"primary",onClick:()=>_(t),sx:{mt:2},children:"Add List"}),(0,jt.jsx)(ni,{disabled:!y,variant:"contained",color:"primary",onClick:()=>I(t.id),sx:{mt:2},children:"Add Cart"})]})]})}),(0,jt.jsxs)(aR,{open:o,onClose:()=>{a(!1),p(null),p(null)},children:[s?(0,jt.jsx)("div",{children:"Loading..."}):d&&(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsx)(bR,{children:(0,jt.jsx)(vn,{style:{fontSize:"45px",margin:0,padding:0},sx:{textAlign:"center",fontFamily:"Caveat",fontWeight:600},children:"Book Details"})}),(0,jt.jsx)(gR,{children:(0,jt.jsxs)(tr,{container:!0,spacing:2,sx:{marginTop:"auto",display:"fix",justifyContent:"space-between",width:"100%"},children:[(0,jt.jsx)(tr,{item:!0,md:6,sx:{height:"400px"},children:(0,jt.jsx)(un,{sx:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},children:(0,jt.jsx)("img",{src:d.volumeInfo.imageLinks.medium,alt:"Cover of ".concat(d.volumeInfo.title),style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})})}),(0,jt.jsx)(tr,{item:!0,md:6,children:(0,jt.jsxs)(un,{children:[(0,jt.jsx)(vn,{variant:"h5",style:{fontWeight:"bold"},children:t.title}),(0,jt.jsx)(vn,{variant:"subtitle1",children:d.volumeInfo.subtitle}),(0,jt.jsx)("br",{}),(0,jt.jsxs)(vn,{variant:"body",children:["by ",d.volumeInfo.authors]}),(0,jt.jsx)("br",{}),(0,jt.jsx)("br",{}),d.volumeInfo.categories&&d.volumeInfo.categories.length>0&&(0,jt.jsxs)("div",{children:[(0,jt.jsx)(vn,{variant:"body2",style:{fontWeight:"bold"},children:"Category:"}),(0,jt.jsx)(vn,{variant:"body2",children:d.volumeInfo.categories.join(", ")})]}),(0,jt.jsx)("br",{}),(0,jt.jsxs)(vn,{variant:"body2",children:["Published by: ",d.volumeInfo.publisher]}),(0,jt.jsxs)(vn,{variant:"body2",children:["Published on: ",d.volumeInfo.publishedDate]}),(0,jt.jsxs)(vn,{variant:"body2",children:["Page: ",d.volumeInfo.pageCount]})]})}),(0,jt.jsx)(tr,{item:!0,md:12,children:(0,jt.jsxs)(un,{children:[(0,jt.jsx)(vn,{variant:"body2",style:{fontWeight:"bold"},children:"Public Description:"}),(0,jt.jsx)(vn,{variant:"body2",dangerouslySetInnerHTML:{__html:d.volumeInfo.description},component:"span",sx:{marginLeft:1}})]})})]})}),(0,jt.jsxs)(uR,{children:[(0,jt.jsx)(ni,{onClick:()=>{a(!1),p(null),p(null)},children:"Cancel"}),(0,jt.jsx)(ni,{disabled:!y,onClick:()=>_(d),children:"Add List"}),(0,jt.jsx)(ni,{disabled:!y,onClick:()=>I(d.id),children:"Add Cart"})]})]}),c?(0,jt.jsx)("div",{children:"Loading..."}):f&&(0,jt.jsxs)(un,{sx:{width:"100%",padding:2},children:[(0,jt.jsx)(vn,{style:{fontSize:"45px",margin:0,padding:0},sx:{textAlign:"center",fontFamily:"Caveat",fontWeight:600},children:"Select Book List to Add"}),(0,jt.jsxs)(CR,{fullWidth:!0,children:[(0,jt.jsx)(BR,{id:"demo-simple-select-label",children:"BookList Name"}),(0,jt.jsx)($A,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:w,label:"Select the Book List you want to Add",onChange:e=>x(e.target.value),children:Object.keys(f).map((e=>(0,jt.jsx)(iN,{value:e,children:f[e].bookListName},e)))})]}),(0,jt.jsxs)(uR,{children:[(0,jt.jsx)(ni,{onClick:()=>{(()=>{const e={action:"add",newBook:S};fetch("".concat(g,"/secure/book/bookList/").concat(m,"/").concat(w),{method:"PUT",headers:{"Content-Type":"application/json",authorization:b},body:JSON.stringify(e)}).then((e=>e.ok?e.json():e.json().then((e=>{throw e})))).then((e=>{v("Book added to book list","success")})).catch((e=>{v(e.message,"error")})).finally((()=>{k({}),x(""),h(null),p(null),a(!1)}))})()},children:"Add"}),(0,jt.jsx)(ni,{onClick:()=>{a(!1),p(null),p(null)},children:"Cancel"})]})]})]})]})}function aN(){const[e,t]=(0,r.useState)([]);(0,r.useEffect)((()=>{fetch("".concat(n,"/open/book/random"),{method:"GET"}).then((e=>e.json())).then((e=>{const n=e.data.map(((e,t)=>function(e,t,n,r,i,o,a,s,l){return{id:e,title:t,author:n[0],imgLinkSmall:r,price:parseFloat(i).toFixed(2),currency:o,publisher:a,publishedDate:s,pageCount:l}}(e.id,e.title,e.author,e.imgLinkSmall,e.price,e.currency,e.publisher,e.publishedDate,e.pageCount)));t(n)})).catch((e=>console.error("Error fetching data:",e)))}),[]);const{apiURL:n}=(0,r.useContext)(JT);return(0,jt.jsx)(tr,{container:!0,spacing:2,children:e.map((e=>(0,jt.jsx)(oN,{row:e},e.id)))})}const sN=(0,rn.Z)({palette:{primary:{main:"#556cd6"}}}),lN=()=>(0,jt.jsx)(Bn,{theme:sN,children:(0,jt.jsxs)(Ht,{component:"main",children:[(0,jt.jsx)(An,{}),(0,jt.jsxs)(un,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,jt.jsx)(vn,{component:"h1",variant:"h2",sx:{display:"block",width:"100%",textAlign:"center",fontFamily:"Caveat",fontWeight:600,backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",padding:"10px"},children:" Online Book Shopping "}),(0,jt.jsx)(aN,{sx:{mt:3}})]})]})}),cN=(0,ui.Z)((0,jt.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function uN(e){return(0,Nt.Z)("MuiAvatar",e)}(0,an.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const dN=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],hN=(0,Vt.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,Rt.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),fN=(0,Vt.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),pN=(0,Vt.ZP)(cN,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const mN=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:a,component:s="div",imgProps:l,sizes:c,src:u,srcSet:d,variant:h="circular"}=n,f=(0,Ct.Z)(n,dN);let p=null;const m=function(e){let{crossOrigin:t,referrerPolicy:n,src:i,srcSet:o}=e;const[a,s]=r.useState(!1);return r.useEffect((()=>{if(!i&&!o)return;s(!1);let e=!0;const r=new Image;return r.onload=()=>{e&&s("loaded")},r.onerror=()=>{e&&s("error")},r.crossOrigin=t,r.referrerPolicy=n,r.src=i,o&&(r.srcset=o),()=>{e=!1}}),[t,n,i,o]),a}((0,Rt.Z)({},l,{src:u,srcSet:d})),g=u||d,v=g&&"error"!==m,y=(0,Rt.Z)({},n,{colorDefault:!v,component:s,variant:h}),b=(e=>{const{classes:t,variant:n,colorDefault:r}=e,i={root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,Dt.Z)(i,uN,t)})(y);return p=v?(0,jt.jsx)(fN,(0,Rt.Z)({alt:i,srcSet:d,src:u,sizes:c,ownerState:y,className:b.img},l)):null!=o?o:g&&i?i[0]:(0,jt.jsx)(pN,{ownerState:y,className:b.fallback}),(0,jt.jsx)(hN,(0,Rt.Z)({as:s,ownerState:y,className:(0,Pt.Z)(b.root,a),ref:t},f,{children:p}))})),gN=mN;function vN(e){return(0,Nt.Z)("MuiFormHelperText",e)}const yN=(0,an.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var bN;const wN=["children","className","component","disabled","error","filled","focused","margin","required","variant"],xN=(0,Vt.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat((0,Ut.Z)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(yN.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(yN.error)]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),SN=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p"}=n,a=(0,Ct.Z)(n,wN),s=RR({props:n,muiFormControl:PR(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,Rt.Z)({},n,{component:o,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),c=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:a,focused:s,required:l}=e,c={root:["root",i&&"disabled",o&&"error",r&&"size".concat((0,Ut.Z)(r)),n&&"contained",s&&"focused",a&&"filled",l&&"required"]};return(0,Dt.Z)(c,vN,t)})(l);return(0,jt.jsx)(xN,(0,Rt.Z)({as:o,ownerState:l,className:(0,Pt.Z)(c.root,i),ref:t},a,{children:" "===r?bN||(bN=(0,jt.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))}));function kN(e){return(0,Nt.Z)("MuiTextField",e)}(0,an.Z)("MuiTextField",["root"]);const _N=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],IN={standard:kA,filled:PA,outlined:UA},EN=(0,Vt.ZP)(CR,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),TN=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:a,color:s="primary",defaultValue:l,disabled:c=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:f,id:p,InputLabelProps:m,inputProps:g,InputProps:v,inputRef:y,label:b,maxRows:w,minRows:x,multiline:S=!1,name:k,onBlur:_,onChange:I,onFocus:E,placeholder:T,required:C=!1,rows:R,select:P=!1,SelectProps:A,type:N,value:D,variant:O="outlined"}=n,M=(0,Ct.Z)(n,_N),L=(0,Rt.Z)({},n,{autoFocus:i,color:s,disabled:c,error:u,fullWidth:h,multiline:S,required:C,select:P,variant:O}),j=(e=>{const{classes:t}=e;return(0,Dt.Z)({root:["root"]},kN,t)})(L);const F={};"outlined"===O&&(m&&"undefined"!==typeof m.shrink&&(F.notched=m.shrink),F.label=b),P&&(A&&A.native||(F.id=void 0),F["aria-describedby"]=void 0);const Z=(0,tC.Z)(p),z=f&&Z?"".concat(Z,"-helper-text"):void 0,B=b&&Z?"".concat(Z,"-label"):void 0,U=IN[O],V=(0,jt.jsx)(U,(0,Rt.Z)({"aria-describedby":z,autoComplete:r,autoFocus:i,defaultValue:l,fullWidth:h,multiline:S,name:k,rows:R,maxRows:w,minRows:x,type:N,value:D,id:Z,inputRef:y,onBlur:_,onChange:I,onFocus:E,placeholder:T,inputProps:g},F,v));return(0,jt.jsxs)(EN,(0,Rt.Z)({className:(0,Pt.Z)(j.root,a),disabled:c,error:u,fullWidth:h,ref:t,required:C,color:s,variant:O,ownerState:L},M,{children:[null!=b&&""!==b&&(0,jt.jsx)(BR,(0,Rt.Z)({htmlFor:Z,id:B},m,{children:b})),P?(0,jt.jsx)($A,(0,Rt.Z)({"aria-describedby":z,id:Z,labelId:B,value:D,input:V},A,{children:o})):V,f&&(0,jt.jsx)(SN,(0,Rt.Z)({id:z},d,{children:f}))]}))})),CN=TN;var RN=n(5682);const PN=["component","direction","spacing","divider","children","className","useFlexGap"],AN=(0,Lt.Z)(),NN=Mt("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function DN(e){return(0,Ot.Z)({props:e,name:"MuiStack",defaultTheme:AN})}function ON(e,t){const n=r.Children.toArray(e).filter(Boolean);return n.reduce(((e,i,o)=>(e.push(i),o<n.length-1&&e.push(r.cloneElement(t,{key:"separator-".concat(o)})),e)),[])}const MN=e=>{let{ownerState:t,theme:n}=e,r=(0,Rt.Z)({display:"flex",flexDirection:"column"},(0,Un.k9)({theme:n},(0,Un.P$)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,RN.hB)(n),i=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),o=(0,Un.P$)({values:t.direction,base:i}),a=(0,Un.P$)({values:t.spacing,base:i});"object"===typeof o&&Object.keys(o).forEach(((e,t,n)=>{if(!o[e]){const r=t>0?o[n[t-1]]:"column";o[e]=r}}));const s=(n,r)=>{return t.useFlexGap?{gap:(0,RN.NA)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((i=r?o[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i]))]:(0,RN.NA)(e,n)}};var i};r=(0,Qt.Z)(r,(0,Un.k9)({theme:n},a,s))}return r=(0,Un.dt)(n.breakpoints,r),r};const LN=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=NN,useThemeProps:n=DN,componentName:i="MuiStack"}=e,o=t(MN),a=r.forwardRef((function(e,t){const r=Jt(n(e)),{component:a="div",direction:s="column",spacing:l=0,divider:c,children:u,className:d,useFlexGap:h=!1}=r,f=(0,Ct.Z)(r,PN),p={direction:s,spacing:l,useFlexGap:h},m=(0,Dt.Z)({root:["root"]},(e=>(0,Nt.Z)(i,e)),{});return(0,jt.jsx)(o,(0,Rt.Z)({as:a,ownerState:p,ref:t,className:(0,Pt.Z)(m.root,d)},f,{children:c?ON(u,c):u}))}));return a}({createStyledComponent:(0,Vt.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,qt.Z)({props:e,name:"MuiStack"})}),jN=LN;function FN(e){return(0,Nt.Z)("MuiFormControlLabel",e)}const ZN=(0,an.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),zN=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],BN=(0,Vt.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(ZN.label)]:t.label},t.root,t["labelPlacement".concat((0,Ut.Z)(n.labelPlacement))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(ZN.disabled)]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(ZN.label)]:{["&.".concat(ZN.disabled)]:{color:(t.vars||t).palette.text.disabled}}})})),UN=(0,Vt.ZP)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(ZN.error)]:{color:(t.vars||t).palette.error.main}}})),VN=r.forwardRef((function(e,t){var n,i;const o=(0,qt.Z)({props:e,name:"MuiFormControlLabel"}),{className:a,componentsProps:s={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:h="end",required:f,slotProps:p={}}=o,m=(0,Ct.Z)(o,zN),g=PR(),v=null!=(n=null!=c?c:l.props.disabled)?n:null==g?void 0:g.disabled,y=null!=f?f:l.props.required,b={disabled:v,required:y};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof l.props[e]&&"undefined"!==typeof o[e]&&(b[e]=o[e])}));const w=RR({props:o,muiFormControl:g,states:["error"]}),x=(0,Rt.Z)({},o,{disabled:v,labelPlacement:h,required:y,error:w.error}),S=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e,a={root:["root",n&&"disabled","labelPlacement".concat((0,Ut.Z)(r)),i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return(0,Dt.Z)(a,FN,t)})(x),k=null!=(i=p.typography)?i:s.typography;let _=d;return null==_||_.type===vn||u||(_=(0,jt.jsx)(vn,(0,Rt.Z)({component:"span"},k,{className:(0,Pt.Z)(S.label,null==k?void 0:k.className),children:_}))),(0,jt.jsxs)(BN,(0,Rt.Z)({className:(0,Pt.Z)(S.root,a),ownerState:x,ref:t},m,{children:[r.cloneElement(l,b),y?(0,jt.jsxs)(jN,{display:"block",children:[_,(0,jt.jsxs)(UN,{ownerState:x,"aria-hidden":!0,className:S.asterisk,children:["\u2009","*"]})]}):_]}))}));function qN(e){return(0,Nt.Z)("PrivateSwitchBase",e)}(0,an.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const WN=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],HN=(0,Vt.ZP)(Wr)((e=>{let{ownerState:t}=e;return(0,Rt.Z)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),KN=(0,Vt.ZP)("input",{shouldForwardProp:Vt.FO})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),GN=r.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:i,className:o,defaultChecked:a,disabled:s,disableFocusRipple:l=!1,edge:c=!1,icon:u,id:d,inputProps:h,inputRef:f,name:p,onBlur:m,onChange:g,onFocus:v,readOnly:y,required:b=!1,tabIndex:w,type:x,value:S}=e,k=(0,Ct.Z)(e,WN),[_,I]=(0,UP.Z)({controlled:r,default:Boolean(a),name:"SwitchBase",state:"checked"}),E=PR();let T=s;E&&"undefined"===typeof T&&(T=E.disabled);const C="checkbox"===x||"radio"===x,R=(0,Rt.Z)({},e,{checked:_,disabled:T,disableFocusRipple:l,edge:c}),P=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&"edge".concat((0,Ut.Z)(i))],input:["input"]};return(0,Dt.Z)(o,qN,t)})(R);return(0,jt.jsxs)(HN,(0,Rt.Z)({component:"span",className:(0,Pt.Z)(P.root,o),centerRipple:!0,focusRipple:!l,disabled:T,tabIndex:null,role:void 0,onFocus:e=>{v&&v(e),E&&E.onFocus&&E.onFocus(e)},onBlur:e=>{m&&m(e),E&&E.onBlur&&E.onBlur(e)},ownerState:R,ref:t},k,{children:[(0,jt.jsx)(KN,(0,Rt.Z)({autoFocus:n,checked:r,defaultChecked:a,className:P.input,disabled:T,id:C?d:void 0,name:p,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;I(t),g&&g(e,t)},readOnly:y,ref:f,required:b,ownerState:R,tabIndex:w,type:x},"checkbox"===x&&void 0===S?{}:{value:S},h)),_?i:u]}))})),QN=GN,$N=(0,ui.Z)((0,jt.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),YN=(0,ui.Z)((0,jt.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),XN=(0,ui.Z)((0,jt.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function JN(e){return(0,Nt.Z)("MuiCheckbox",e)}const eD=(0,an.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),tD=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],nD=(0,Vt.ZP)(QN,{shouldForwardProp:e=>(0,Vt.FO)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t["size".concat((0,Ut.Z)(n.size))],"default"!==n.color&&t["color".concat((0,Ut.Z)(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,nr.Fq)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(eD.checked,", &.").concat(eD.indeterminate)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(eD.disabled)]:{color:(t.vars||t).palette.action.disabled}})})),rD=(0,jt.jsx)(YN,{}),iD=(0,jt.jsx)($N,{}),oD=(0,jt.jsx)(XN,{}),aD=r.forwardRef((function(e,t){var n,i;const o=(0,qt.Z)({props:e,name:"MuiCheckbox"}),{checkedIcon:a=rD,color:s="primary",icon:l=iD,indeterminate:c=!1,indeterminateIcon:u=oD,inputProps:d,size:h="medium",className:f}=o,p=(0,Ct.Z)(o,tD),m=c?u:l,g=c?u:a,v=(0,Rt.Z)({},o,{color:s,indeterminate:c,size:h}),y=(e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,o={root:["root",n&&"indeterminate","color".concat((0,Ut.Z)(r)),"size".concat((0,Ut.Z)(i))]},a=(0,Dt.Z)(o,JN,t);return(0,Rt.Z)({},t,a)})(v);return(0,jt.jsx)(nD,(0,Rt.Z)({type:"checkbox",inputProps:(0,Rt.Z)({"data-indeterminate":c},d),icon:r.cloneElement(m,{fontSize:null!=(n=m.props.fontSize)?n:h}),checkedIcon:r.cloneElement(g,{fontSize:null!=(i=g.props.fontSize)?i:h}),ownerState:v,ref:t,className:(0,Pt.Z)(y.root,f)},p,{classes:y}))}));function sD(e){return(0,Nt.Z)("MuiLink",e)}const lD=(0,an.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var cD=n(8529);const uD={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},dD=e=>{let{theme:t,ownerState:n}=e;const r=(e=>uD[e]||e)(n.color),i=(0,cD.DW)(t,"palette.".concat(r),!1)||n.color,o=(0,cD.DW)(t,"palette.".concat(r,"Channel"));return"vars"in t&&o?"rgba(".concat(o," / 0.4)"):(0,nr.Fq)(i,.4)},hD=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],fD=(0,Vt.ZP)(vn,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["underline".concat((0,Ut.Z)(n.underline))],"button"===n.component&&t.button]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,Rt.Z)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:dD({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(lD.focusVisible)]:{outline:"auto"}})})),pD=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiLink"}),{className:i,color:o="primary",component:a="a",onBlur:s,onFocus:l,TypographyClasses:c,underline:u="always",variant:d="inherit",sx:h}=n,f=(0,Ct.Z)(n,hD),{isFocusVisibleRef:p,onBlur:m,onFocus:g,ref:v}=(0,hr.Z)(),[y,b]=r.useState(!1),w=(0,ur.Z)(t,v),x=(0,Rt.Z)({},n,{color:o,component:a,focusVisible:y,underline:u,variant:d}),S=(e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e,o={root:["root","underline".concat((0,Ut.Z)(i)),"button"===n&&"button",r&&"focusVisible"]};return(0,Dt.Z)(o,sD,t)})(x);return(0,jt.jsx)(fD,(0,Rt.Z)({color:o,className:(0,Pt.Z)(S.root,i),classes:c,component:a,onBlur:e=>{m(e),!1===p.current&&b(!1),s&&s(e)},onFocus:e=>{g(e),!0===p.current&&b(!0),l&&l(e)},ref:w,ownerState:x,variant:d,sx:[...Object.keys(uD).includes(o)?[]:[{color:o}],...Array.isArray(h)?h:[h]]},f))})),mD=pD;var gD=n(403);function vD(e){return(0,jt.jsxs)(vn,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Copyright \xa9 ",(0,jt.jsx)(mD,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}const yD=(0,rn.Z)();function bD(){return(0,jt.jsxs)(Bn,{theme:yD,children:[(0,jt.jsx)(An,{}),(0,jt.jsx)(Ht,{component:"main",maxWidth:"xs",children:(0,jt.jsxs)(lr,{elevation:6,sx:{margin:2,padding:2,backgroundColor:"#f5f5f5"},children:[(0,jt.jsxs)(un,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,jt.jsx)(gN,{sx:{m:1,bgcolor:"secondary.main"},children:(0,jt.jsx)(gD.Z,{})}),(0,jt.jsx)(vn,{component:"h1",variant:"h5",children:"Sign up"}),(0,jt.jsxs)(un,{component:"form",noValidate:!0,onSubmit:async e=>{e.preventDefault();const t=new FormData(e.currentTarget),n=t.get("email"),r=t.get("password"),i=t.get("firstName")+" "+t.get("lastName");try{const e=(await YT.createUserWithEmailAndPassword(n,r)).user;await e.updateProfile({displayName:i}),await gT(QI(XT,"users",e.uid),{email:n,displayName:i,isAdmin:!1,status:!0,createdAt:new Date})}catch(o){console.error("Error:",o)}},sx:{mt:3},children:[(0,jt.jsxs)(tr,{container:!0,spacing:2,children:[(0,jt.jsx)(tr,{item:!0,xs:12,sm:6,children:(0,jt.jsx)(CN,{autoComplete:"given-name",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),(0,jt.jsx)(tr,{item:!0,xs:12,sm:6,children:(0,jt.jsx)(CN,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"family-name"})}),(0,jt.jsx)(tr,{item:!0,xs:12,children:(0,jt.jsx)(CN,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),(0,jt.jsx)(tr,{item:!0,xs:12,children:(0,jt.jsx)(CN,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password"})}),(0,jt.jsx)(tr,{item:!0,xs:12,children:(0,jt.jsx)(VN,{control:(0,jt.jsx)(aD,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),(0,jt.jsx)(ni,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),(0,jt.jsx)(tr,{container:!0,justifyContent:"flex-end",children:(0,jt.jsx)(tr,{item:!0,children:(0,jt.jsx)(mD,{href:"/login",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),(0,jt.jsx)(vD,{sx:{mt:5}})]})})]})}const wD=(0,rn.Z)({palette:{primary:{main:"#556cd6"}}});function xD(e){return(0,jt.jsxs)(vn,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Copyright \xa9 ",(0,jt.jsx)(mD,{color:"inherit",href:"https://mui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}function SD(){const{login:e,googleLogin:t}=(0,r.useContext)(JT),n=qe();return(0,jt.jsxs)(Bn,{theme:wD,children:[(0,jt.jsx)(An,{}),(0,jt.jsx)(Ht,{component:"main",maxWidth:"xs",children:(0,jt.jsxs)(lr,{elevation:6,sx:{margin:2,padding:2,backgroundColor:"#f5f5f5"},children:[(0,jt.jsxs)(un,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,jt.jsx)(gN,{sx:{m:1,bgcolor:"secondary.main"},children:(0,jt.jsx)(gD.Z,{})}),(0,jt.jsx)(vn,{component:"h1",variant:"h5",children:"Sign in"}),(0,jt.jsxs)(un,{component:"form",onSubmit:async t=>{t.preventDefault();const r=new FormData(t.currentTarget);try{await e(r.get("email"),r.get("password")),n("/")}catch(i){console.error("\u767b\u5f55\u5931\u8d25:",i)}},noValidate:!0,sx:{mt:1},children:[(0,jt.jsx)(CN,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),(0,jt.jsx)(CN,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),(0,jt.jsx)(ni,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign In"}),(0,jt.jsx)(ni,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:1,mb:2},onClick:async e=>{e.preventDefault();try{await t(),n("/")}catch(r){console.error("\u767b\u5f55\u5931\u8d25:",r)}},children:"Sign in with Google"}),(0,jt.jsxs)(tr,{container:!0,children:[(0,jt.jsx)(tr,{item:!0,xs:!0,children:(0,jt.jsx)(mD,{href:"#",variant:"body2",children:"Forgot password?"})}),(0,jt.jsx)(tr,{item:!0,children:(0,jt.jsx)(mD,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),(0,jt.jsx)(xD,{sx:{mt:5}})]})})]})}const kD=r.createContext();function _D(e){return(0,Nt.Z)("MuiTable",e)}(0,an.Z)("MuiTable",["root","stickyHeader"]);const ID=["className","component","padding","size","stickyHeader"],ED=(0,Vt.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,Rt.Z)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},n.stickyHeader&&{borderCollapse:"separate"})})),TD="table",CD=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiTable"}),{className:i,component:o=TD,padding:a="normal",size:s="medium",stickyHeader:l=!1}=n,c=(0,Ct.Z)(n,ID),u=(0,Rt.Z)({},n,{component:o,padding:a,size:s,stickyHeader:l}),d=(e=>{const{classes:t,stickyHeader:n}=e,r={root:["root",n&&"stickyHeader"]};return(0,Dt.Z)(r,_D,t)})(u),h=r.useMemo((()=>({padding:a,size:s,stickyHeader:l})),[a,s,l]);return(0,jt.jsx)(kD.Provider,{value:h,children:(0,jt.jsx)(ED,(0,Rt.Z)({as:o,role:o===TD?null:"table",ref:t,className:(0,Pt.Z)(d.root,i),ownerState:u},c))})}));const RD=r.createContext();function PD(e){return(0,Nt.Z)("MuiTableBody",e)}(0,an.Z)("MuiTableBody",["root"]);const AD=["className","component"],ND=(0,Vt.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),DD={variant:"body"},OD="tbody",MD=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiTableBody"}),{className:r,component:i=OD}=n,o=(0,Ct.Z)(n,AD),a=(0,Rt.Z)({},n,{component:i}),s=(e=>{const{classes:t}=e;return(0,Dt.Z)({root:["root"]},PD,t)})(a);return(0,jt.jsx)(RD.Provider,{value:DD,children:(0,jt.jsx)(ND,(0,Rt.Z)({className:(0,Pt.Z)(s.root,r),as:i,ref:t,role:i===OD?null:"rowgroup",ownerState:a},o))})}));function LD(e){return(0,Nt.Z)("MuiTableCell",e)}const jD=(0,an.Z)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),FD=["align","className","component","padding","scope","size","sortDirection","variant"],ZD=(0,Vt.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["size".concat((0,Ut.Z)(n.size))],"normal"!==n.padding&&t["padding".concat((0,Ut.Z)(n.padding))],"inherit"!==n.align&&t["align".concat((0,Ut.Z)(n.align))],n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?(0,nr.$n)((0,nr.Fq)(t.palette.divider,1),.88):(0,nr._j)((0,nr.Fq)(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===n.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:(t.vars||t).palette.text.primary},"footer"===n.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&{padding:"6px 16px",["&.".concat(jD.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),zD=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiTableCell"}),{align:i="inherit",className:o,component:a,padding:s,scope:l,size:c,sortDirection:u,variant:d}=n,h=(0,Ct.Z)(n,FD),f=r.useContext(kD),p=r.useContext(RD),m=p&&"head"===p.variant;let g;g=a||(m?"th":"td");let v=l;"td"===g?v=void 0:!v&&m&&(v="col");const y=d||p&&p.variant,b=(0,Rt.Z)({},n,{align:i,component:g,padding:s||(f&&f.padding?f.padding:"normal"),size:c||(f&&f.size?f.size:"medium"),sortDirection:u,stickyHeader:"head"===y&&f&&f.stickyHeader,variant:y}),w=(e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:a}=e,s={root:["root",n,a&&"stickyHeader","inherit"!==r&&"align".concat((0,Ut.Z)(r)),"normal"!==i&&"padding".concat((0,Ut.Z)(i)),"size".concat((0,Ut.Z)(o))]};return(0,Dt.Z)(s,LD,t)})(b);let x=null;return u&&(x="asc"===u?"ascending":"descending"),(0,jt.jsx)(ZD,(0,Rt.Z)({as:g,ref:t,className:(0,Pt.Z)(w.root,o),"aria-sort":x,scope:v,ownerState:b},h))})),BD=zD;function UD(e){return(0,Nt.Z)("MuiTableContainer",e)}(0,an.Z)("MuiTableContainer",["root"]);const VD=["className","component"],qD=(0,Vt.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),WD=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiTableContainer"}),{className:r,component:i="div"}=n,o=(0,Ct.Z)(n,VD),a=(0,Rt.Z)({},n,{component:i}),s=(e=>{const{classes:t}=e;return(0,Dt.Z)({root:["root"]},UD,t)})(a);return(0,jt.jsx)(qD,(0,Rt.Z)({ref:t,as:i,className:(0,Pt.Z)(s.root,r),ownerState:a},o))}));function HD(e){return(0,Nt.Z)("MuiTableHead",e)}(0,an.Z)("MuiTableHead",["root"]);const KD=["className","component"],GD=(0,Vt.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),QD={variant:"head"},$D="thead",YD=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiTableHead"}),{className:r,component:i=$D}=n,o=(0,Ct.Z)(n,KD),a=(0,Rt.Z)({},n,{component:i}),s=(e=>{const{classes:t}=e;return(0,Dt.Z)({root:["root"]},HD,t)})(a);return(0,jt.jsx)(RD.Provider,{value:QD,children:(0,jt.jsx)(GD,(0,Rt.Z)({as:i,className:(0,Pt.Z)(s.root,r),ref:t,role:i===$D?null:"rowgroup",ownerState:a},o))})}));function XD(e){return(0,Nt.Z)("MuiTableRow",e)}const JD=(0,an.Z)("MuiTableRow",["root","selected","hover","head","footer"]),eO=["className","component","hover","selected"],tO=(0,Vt.ZP)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(JD.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(JD.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,nr.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,nr.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),nO="tr",rO=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiTableRow"}),{className:i,component:o=nO,hover:a=!1,selected:s=!1}=n,l=(0,Ct.Z)(n,eO),c=r.useContext(RD),u=(0,Rt.Z)({},n,{component:o,hover:a,selected:s,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),d=(e=>{const{classes:t,selected:n,hover:r,head:i,footer:o}=e,a={root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]};return(0,Dt.Z)(a,XD,t)})(u);return(0,jt.jsx)(tO,(0,Rt.Z)({as:o,ref:t,className:(0,Pt.Z)(d.root,i),role:o===nO?null:"row",ownerState:u},l))})),iO=rO;var oO=n(5585),aO=n(2419);const sO=(0,rn.Z)(),lO=()=>{const[e,t]=(0,r.useState)(!1),n=qe(),{userId:i,apiURL:o,showNotification:a}=(0,r.useContext)(JT),[s,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),f=localStorage.getItem("jwtToken"),[p,m]=(0,r.useState)({cardNumber:"",expiryDate:"",cvv:""});(0,r.useEffect)((()=>{i&&g()}),[i]),(0,r.useEffect)((()=>{t(s.length>0)}),[s]);const g=async()=>{try{const e=await fetch("".concat(o,"/secure/cart/getCart/").concat(i),{method:"GET",headers:{"Content-Type":"application/json",authorization:f}});if(e.ok){const t=await e.json(),n=Object.values(t);l(Object.values(n[0]))}}catch(e){console.error("Error fetching cart items:",e)}},v=async(e,t)=>{try{(await fetch("".concat(o,"/secure/cart/updateCart/").concat(i),{method:"POST",headers:{"Content-Type":"application/json",authorization:f},body:JSON.stringify({userId:i,newBook:{bookId:e,bookPrice:s.find((t=>t.bookId===e)).bookPrice,quantity:t}})})).ok&&(a("Update cart successfully","success"),g())}catch(n){console.error("Error updating cart:",n)}},y=e=>e.toFixed(2),{subtotal:b,tax:w,total:x}=(()=>{const e=s.reduce(((e,t)=>e+(e=>e.quantity*parseFloat(e.bookPrice))(t)),0),t=.1*e;return{subtotal:e,tax:t,total:e+t+5}})(),S=e=>{m({...p,[e.target.name]:e.target.value})};return(0,jt.jsx)(Bn,{theme:sO,children:(0,jt.jsxs)(Ht,{component:"main",maxWidth:"lg",children:[(0,jt.jsx)(An,{}),(0,jt.jsxs)(un,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,jt.jsx)(vn,{component:"h1",variant:"h2",sx:{display:"block",width:"100%",textAlign:"center",fontFamily:"Caveat",fontWeight:600,backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",padding:"10px"},children:"Cart"}),(0,jt.jsx)(WD,{sx:{mt:3},component:lr,children:(0,jt.jsxs)(CD,{sx:{minWidth:650},"aria-label":"cart table",children:[(0,jt.jsx)(YD,{children:(0,jt.jsxs)(iO,{children:[(0,jt.jsx)(BD,{children:"Book Name"}),(0,jt.jsx)(BD,{align:"right",children:"Quantity"}),(0,jt.jsx)(BD,{align:"right",children:"Price"})]})}),(0,jt.jsx)(MD,{children:s.map((e=>(0,jt.jsxs)(iO,{children:[(0,jt.jsx)(BD,{component:"th",scope:"row",children:e.bookId}),(0,jt.jsxs)(BD,{align:"right",children:[(0,jt.jsx)(ci,{onClick:()=>v(e.bookId,-1),children:(0,jt.jsx)(oO.Z,{})}),e.quantity,(0,jt.jsx)(ci,{onClick:()=>v(e.bookId,1),children:(0,jt.jsx)(aO.Z,{})})]}),(0,jt.jsxs)(BD,{align:"right",children:["$",e.bookPrice]})]},e.bookId)))})]})}),e&&(0,jt.jsx)(lr,{elevation:6,sx:{backgroundColor:"#f5f5f5"},children:(0,jt.jsxs)(un,{sx:{m:4},children:[(0,jt.jsxs)(vn,{variant:"h6",component:"div",children:["Subtotal: $",y(b)]}),(0,jt.jsxs)(vn,{variant:"h6",component:"div",children:["Shipping: $",y(5)]}),(0,jt.jsxs)(vn,{variant:"h6",component:"div",children:["Tax: $",y(w)]}),(0,jt.jsxs)(vn,{variant:"h6",component:"div",sx:{fontWeight:"bold"},children:["Total: $",y(x)]})]})}),(0,jt.jsxs)(aR,{open:c,onClose:()=>u(!1),children:[(0,jt.jsx)(bR,{children:(0,jt.jsx)(vn,{style:{fontSize:"45px",margin:0,padding:0},sx:{textAlign:"center",fontFamily:"Caveat",fontWeight:600},children:"Process Payment"})}),(0,jt.jsx)(gR,{children:(0,jt.jsxs)(un,{component:"form",sx:{mt:1,width:"100%"},children:[(0,jt.jsx)(CN,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"cardNumber",label:"Card Number",name:"cardNumber",autoFocus:!0,onChange:S,value:p.cardNumber,inputProps:{pattern:"\\d{16}",title:"Please enter a 16-digit card number"},error:!!p.cardNumber&&!/^\d{16}$/.test(p.cardNumber),helperText:p.cardNumber&&!/^\d{16}$/.test(p.cardNumber)?"Please enter a valid 16-digit card number":""}),(0,jt.jsx)(CN,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"expiryDate",label:"Expiry Date",type:"text",id:"expiryDate",onChange:S,value:p.expiryDate,inputProps:{pattern:"(0[1-9]|1[0-2])/(\\d{2})",title:"Please enter a valid expiry date in MM/YY format"},error:!!p.expiryDate&&!/^(0[1-9]|1[0-2])\/(\d{2})$/.test(p.expiryDate),helperText:p.expiryDate&&!/^(0[1-9]|1[0-2])\/(\d{2})$/.test(p.expiryDate)?"Please enter a valid expiry date in MM/YY format":""}),(0,jt.jsx)(CN,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"cvv",label:"CVV",type:"text",id:"cvv",onChange:S,value:p.cvv,inputProps:{pattern:"\\d{3,4}",title:"Please enter a valid CVV (3 or 4 digits)"},error:!!p.cvv&&!/^\d{3,4}$/.test(p.cvv),helperText:p.cvv&&!/^\d{3,4}$/.test(p.cvv)?"Please enter a valid CVV (3 or 4 digits)":""}),(0,jt.jsx)(ni,{type:"button",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:async()=>{if(0!==s.length)try{const e=await fetch("".concat(o,"/secure/order/process-payment"),{method:"POST",headers:{"Content-Type":"application/json",authorization:f},body:JSON.stringify({...p,uid:i})}).finally((()=>{u(!1)}));if("success"===(await e.json()).data){const e={orderDetail:{...s.reduce(((e,t,n)=>(e["book".concat(n+1)]={title:t.bookId,author:t.author,prive:t.bookPrice,quantity:t.quantity.toString()},e)),{}),total:b.toFixed(2),shipment:5..toFixed(2),tax:w.toFixed(2),final:x.toFixed(2)}};await(async e=>{try{const t=await fetch("".concat(o,"/secure/order/CreateOrder/").concat(i),{method:"POST",headers:{"Content-Type":"application/json",authorization:f},body:JSON.stringify(e)}),n=await t.json();t.ok||console.error("Order creation failed",n)}catch(t){console.error("Error creating order",t)}})(e),a("Paid successfully","success"),n("/orderhistory")}else a("Check your payment information again","error")}catch(e){console.error("Payment error:",e)}else alert("Your cart is empty. Please add some products before checkout.")},children:"Pay Now"})]})}),(0,jt.jsx)(uR,{children:(0,jt.jsx)(ni,{onClick:()=>u(!1),children:"Cancel"})})]}),e&&(0,jt.jsx)(ni,{variant:"contained",color:"primary",onClick:()=>{u(!0)},children:"Checkout"})]})]})})};function cO(e){return(0,Nt.Z)("MuiAppBar",e)}(0,an.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const uO=["className","color","enableColorOnDark","position"],dO=(e,t)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t,hO=(0,Vt.ZP)(lr,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat((0,Ut.Z)(n.position))],t["color".concat((0,Ut.Z)(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,Rt.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,Rt.Z)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,Rt.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,Rt.Z)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:dO(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:dO(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:dO(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:dO(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),fO=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiAppBar"}),{className:r,color:i="primary",enableColorOnDark:o=!1,position:a="fixed"}=n,s=(0,Ct.Z)(n,uO),l=(0,Rt.Z)({},n,{color:i,position:a,enableColorOnDark:o}),c=(e=>{const{color:t,position:n,classes:r}=e,i={root:["root","color".concat((0,Ut.Z)(t)),"position".concat((0,Ut.Z)(n))]};return(0,Dt.Z)(i,cO,r)})(l);return(0,jt.jsx)(hO,(0,Rt.Z)({square:!0,component:"header",ownerState:l,elevation:4,className:(0,Pt.Z)(c.root,r,"fixed"===a&&"mui-fixed"),ref:t},s))}));function pO(e){return(0,Nt.Z)("MuiToolbar",e)}(0,an.Z)("MuiToolbar",["root","gutters","regular","dense"]);const mO=["className","component","disableGutters","variant"],gO=(0,Vt.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar})),vO=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:o=!1,variant:a="regular"}=n,s=(0,Ct.Z)(n,mO),l=(0,Rt.Z)({},n,{component:i,disableGutters:o,variant:a}),c=(e=>{const{classes:t,disableGutters:n,variant:r}=e,i={root:["root",!n&&"gutters",r]};return(0,Dt.Z)(i,pO,t)})(l);return(0,jt.jsx)(gO,(0,Rt.Z)({as:i,className:(0,Pt.Z)(c.root,r),ref:t,ownerState:l},s))})),yO=vO;var bO=n(5403),wO=n(2898);const xO=(0,Vt.ZP)("div")((e=>{let{theme:t}=e;return{position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:(0,nr.Fq)(t.palette.common.white,.15),"&:hover":{backgroundColor:(0,nr.Fq)(t.palette.common.white,.25)},marginRight:t.spacing(2),marginLeft:0,width:"100%",[t.breakpoints.up("sm")]:{marginLeft:t.spacing(3),width:"auto"}}})),SO=(0,Vt.ZP)("div")((e=>{let{theme:t}=e;return{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"}})),kO=(0,Vt.ZP)(gA)((e=>{let{theme:t}=e;return{color:"inherit","& .MuiInputBase-input":{padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),")"),transition:t.transitions.create("width"),width:"100%",[t.breakpoints.up("md")]:{width:"20ch"}}}}));function _O(){const[e,t]=r.useState(null),[n,i]=r.useState(null),{isLoggedIn:o,logout:a,username:s,isAdmin:l}=(Boolean(e),Boolean(n),(0,r.useContext)(JT)),[c,u]=(0,r.useState)(""),d=qe(),h=async()=>{try{await a(),d("/login")}catch(e){console.error("\u6ce8\u9500\u5931\u8d25:",e)}},f="primary-search-account-menu-mobile";return(0,jt.jsx)(un,{sx:{flexGrow:1},children:(0,jt.jsx)(fO,{position:"static",children:(0,jt.jsxs)(yO,{children:[(0,jt.jsx)(vn,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",sm:"block"}},children:"MyStore"}),(0,jt.jsxs)(xO,{children:[(0,jt.jsx)(SO,{children:(0,jt.jsx)(bO.Z,{})}),(0,jt.jsx)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.currentTarget);if(t.get("searchQuery").trim()){const e=new URLSearchParams(t).toString();d("/searchresult?".concat(e)),u("")}else d("/searchresult")},id:"searchForm",children:(0,jt.jsx)(kO,{placeholder:"Search\u2026",inputProps:{"aria-label":"search"},name:"searchQuery",value:c,onChange:e=>u(e.target.value)})})]}),(0,jt.jsx)(un,{sx:{flexGrow:1}}),(0,jt.jsxs)(un,{sx:{display:{xs:"none",md:"flex"}},children:[(0,jt.jsx)(ni,{sx:{my:2,color:"white",display:"block"},component:It,to:"/",children:"Home"}),!o&&(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsx)(ni,{sx:{my:2,color:"white",display:"block"},component:It,to:"/login",children:"Login"}),(0,jt.jsx)(ni,{sx:{my:2,color:"white",display:"block"},component:It,to:"/register",children:"Register"})]}),l&&(0,jt.jsx)(jt.Fragment,{children:(0,jt.jsx)(ni,{sx:{my:2,color:"white",display:"block"},component:It,to:"/adminpage",children:"Admin"})}),(0,jt.jsx)(ni,{sx:{my:2,color:"white",display:"block"},component:It,to:"/cart",children:"Cart"}),(0,jt.jsx)(ni,{sx:{my:2,color:"white",display:"block"},component:It,to:"/booklist",children:"SelfList"}),(0,jt.jsx)(ni,{sx:{my:2,color:"white",display:"block"},component:It,to:"/orderhistory",children:"OrderHistory"}),o&&(0,jt.jsx)(ni,{sx:{my:2,color:"white",display:"block"},onClick:h,children:"Logout"}),o&&(0,jt.jsx)(vn,{variant:"h6",noWrap:!0,component:"div",sx:{my:2,color:"white",display:"block"},children:s})]}),(0,jt.jsx)(un,{sx:{display:{xs:"flex",md:"none"}},children:(0,jt.jsx)(ci,{size:"large","aria-label":"show more","aria-controls":f,"aria-haspopup":"true",onClick:e=>{i(e.currentTarget)},color:"inherit",children:(0,jt.jsx)(wO.Z,{})})})]})})})}function IO(e){return(0,jt.jsxs)(vn,{variant:"body2",color:"text.secondary",align:"center",...e,children:["Copyright \xa9 ",(0,jt.jsx)(mD,{color:"inherit",href:"https://mui.com/",children:"9065 Project"})," ",(new Date).getFullYear(),"."]})}const EO=()=>(0,jt.jsx)("div",{children:(0,jt.jsx)(IO,{})}),TO=e=>{let{children:t}=e;const{isLoggedIn:n,isLoading:i,showNotification:o}=(0,r.useContext)(JT),a=Ue();return(0,r.useEffect)((()=>{!i&!n&&"/login"!==a.pathname&&o("\u8bf7\u767b\u5f55\u4ee5\u8bbf\u95ee\u6b64\u9875\u9762","error")}),[n,a,o,i]),!n&!i?(0,jt.jsx)(it,{to:"/login",state:{from:a},replace:!0}):t};function CO(e){const{row:t,userId:n}=e,[i,o]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(null),[p,m]=(0,r.useState)(null),{apiURL:g,showNotification:v,isLoggedIn:y}=(0,r.useContext)(JT),b=localStorage.getItem("jwtToken"),[w,x]=(0,r.useState)(""),[S,k]=(0,r.useState)({}),_=()=>{const e={userId:n,newBook:{bookId:t.title,bookPrice:t.price,quantity:1}};fetch("".concat(g,"/secure/cart/updateCart/").concat(n),{method:"POST",headers:{"Content-Type":"application/json",authorization:b},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>v("Book added to cart:","success"))).catch((e=>console.error("Error adding book to cart:",e)))},I=e=>{d(!0),fetch("".concat(g,"/secure/book/getAllbookList/").concat(n),{method:"GET",headers:{"Content-Type":"application/json",authorization:b}}).then((e=>{if(e.ok)return e.json();throw new Error("Network response was not ok.")})).then((t=>{k({bookId:e.id,bookTitle:e.volumeInfo?e.volumeInfo.title:e.title,bookAuthor:e.volumeInfo?e.volumeInfo.authors[0]:e.author,pages:e.volumeInfo?e.volumeInfo.pageCount:e.pageCount}),delete t.data.index,f(null),m(t.data),s(!0)})).catch((e=>{console.error("Error adding book to cart:",e)})).finally((()=>{d(!1)}))};return(0,jt.jsxs)(r.Fragment,{children:[(0,jt.jsx)(An,{}),(0,jt.jsx)(tr,{item:!0,xs:12,sm:6,md:3,sx:{width:"100%",height:"100%"},children:(0,jt.jsxs)(lr,{elevation:6,sx:{margin:2,padding:2,transition:"transform 0.3s ease-in-out","&:hover":{transform:"scale(1.1)",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},backgroundColor:"#f5f5f5"},children:[(0,jt.jsx)(vn,{className:"book-title",variant:"h5",sx:{width:"100%",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.title}),(0,jt.jsxs)(un,{sx:{display:"flex",marginTop:5,alignItems:"center"},children:[(0,jt.jsx)("img",{src:t.imgLinkSmall,alt:'Cover of the book "'.concat(t.title,'"'),style:{marginRight:16,width:"100px",height:"150px"}}),(0,jt.jsxs)(un,{sx:{textAlign:"left",marginBottom:"auto"},children:[(0,jt.jsxs)(vn,{variant:"h7",children:["Publisher: ",t.publisher]}),(0,jt.jsx)("br",{}),(0,jt.jsxs)(vn,{variant:"h7",children:["Date: ",t.publishedDate]}),(0,jt.jsx)("br",{}),(0,jt.jsxs)(vn,{variant:"h7",children:["Author: ",t.author[0]]}),(0,jt.jsx)("br",{}),(0,jt.jsxs)(vn,{variant:"h7",children:["Price: ","".concat(t.price," ").concat(t.currency)]})]})]}),(0,jt.jsxs)(un,{sx:{marginTop:"auto",display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,jt.jsx)(ni,{variant:"contained",color:"primary",onClick:()=>{return e=t.id,c(!0),void fetch("".concat(g,"/open/book/getBook/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>{if(e.ok)return e.json();throw new Error("Network response was not ok.")})).then((e=>{m(null),f(e.data),s(!0)})).catch((e=>{console.error("Error adding book to cart:",e)})).finally((()=>{c(!1)}));var e},sx:{mt:2},children:"View"}),(0,jt.jsx)(ni,{disabled:!y,variant:"contained",color:"primary",onClick:()=>I(t),sx:{mt:2},children:"Add List"}),(0,jt.jsx)(ni,{disabled:!y,variant:"contained",color:"primary",onClick:()=>_(t.id),sx:{mt:2},children:"Add Cart"})]})]})}),(0,jt.jsxs)(aR,{open:a,onClose:()=>{s(!1),m(null),m(null)},children:[l?(0,jt.jsx)("div",{children:"Loading..."}):h&&(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsx)(bR,{children:(0,jt.jsx)(vn,{style:{fontSize:"45px",margin:0,padding:0},sx:{textAlign:"center",fontFamily:"Caveat",fontWeight:600},children:"Book Details"})}),(0,jt.jsx)(gR,{children:(0,jt.jsxs)(tr,{container:!0,spacing:2,sx:{marginTop:"auto",display:"fix",justifyContent:"space-between",width:"100%"},children:[(0,jt.jsx)(tr,{item:!0,md:6,sx:{height:"400px"},children:(0,jt.jsx)(un,{sx:{width:"100%",height:"100%",justifyContent:"center",alignItems:"center"},children:(0,jt.jsx)("img",{src:h.volumeInfo.imageLinks.medium,alt:"Cover of ".concat(h.volumeInfo.title),style:{maxWidth:"100%",maxHeight:"100%",objectFit:"fill"}})})}),(0,jt.jsx)(tr,{item:!0,md:6,children:(0,jt.jsxs)(un,{children:[(0,jt.jsx)(vn,{variant:"h5",style:{fontWeight:"bold"},children:t.title}),(0,jt.jsx)(vn,{variant:"subtitle1",children:h.volumeInfo.subtitle}),(0,jt.jsx)("br",{}),(0,jt.jsxs)(vn,{variant:"body",children:["by ",h.volumeInfo.authors]}),(0,jt.jsx)("br",{}),(0,jt.jsx)("br",{}),h.volumeInfo.categories&&h.volumeInfo.categories.length>0&&(0,jt.jsxs)("div",{children:[(0,jt.jsx)(vn,{variant:"body2",style:{fontWeight:"bold"},children:"Category:"}),(0,jt.jsx)(vn,{variant:"body2",children:h.volumeInfo.categories.join(", ")})]}),(0,jt.jsx)("br",{}),(0,jt.jsxs)(vn,{variant:"body2",children:["Published by: ",h.volumeInfo.publisher]}),(0,jt.jsxs)(vn,{variant:"body2",children:["Published on: ",h.volumeInfo.publishedDate]}),(0,jt.jsxs)(vn,{variant:"body2",children:["Page: ",h.volumeInfo.pageCount]})]})}),(0,jt.jsx)(tr,{item:!0,md:12,children:(0,jt.jsxs)(un,{children:[(0,jt.jsx)(vn,{variant:"body2",style:{fontWeight:"bold"},children:"Public Description:"}),(0,jt.jsx)(vn,{variant:"body2",dangerouslySetInnerHTML:{__html:h.volumeInfo.description},component:"span",sx:{marginLeft:1}})]})})]})}),(0,jt.jsxs)(uR,{children:[(0,jt.jsx)(ni,{onClick:()=>{s(!1),m(null),m(null)},children:"Cancel"}),(0,jt.jsx)(ni,{disabled:!y,onClick:()=>I(h),children:"Add List"}),(0,jt.jsx)(ni,{disabled:!y,onClick:()=>_(h.id),children:"Add Cart"})]})]}),u?(0,jt.jsx)("div",{children:"Loading..."}):p&&(0,jt.jsxs)(un,{sx:{width:"100%",padding:2},children:[(0,jt.jsx)(vn,{style:{fontSize:"45px",margin:0,padding:0},sx:{textAlign:"center",fontFamily:"Caveat",fontWeight:600},children:"Select Book List to Add"}),(0,jt.jsxs)(CR,{fullWidth:!0,children:[(0,jt.jsx)(BR,{id:"demo-simple-select-label",children:"BookList Name"}),(0,jt.jsx)($A,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:w,label:"Select the Book List you want to Add",onChange:e=>x(e.target.value),children:Object.keys(p).map((e=>(0,jt.jsx)(iN,{value:e,children:p[e].bookListName},e)))})]}),(0,jt.jsxs)(uR,{children:[(0,jt.jsx)(ni,{onClick:()=>{(()=>{const e={action:"add",newBook:S};fetch("".concat(g,"/secure/book/bookList/").concat(n,"/").concat(w),{method:"PUT",headers:{"Content-Type":"application/json",authorization:b},body:JSON.stringify(e)}).then((e=>e.ok?e.json():e.json().then((e=>{throw e})))).then((e=>{v("Book added to book list","success")})).catch((e=>{v(e.message,"error")})).finally((()=>{k({}),x(""),f(null),m(null),s(!1)}))})()},children:"Add"}),(0,jt.jsx)(ni,{onClick:()=>{s(!1),m(null),m(null)},children:"Cancel"})]})]})]})]})}const RO=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)({title:"",author:""}),o=Ue(),{userId:a,apiURL:s}=(0,r.useContext)(JT);(0,r.useEffect)((()=>{const e=new URLSearchParams(o.search);e.toString()&&l(e.toString())}),[o.search]);const l=e=>{fetch("".concat(s,"/open/book/search?").concat(e),{method:"GET"}).then((e=>e.json())).then((e=>{const n=e.data.map((e=>function(e,t,n,r,i,o){return{id:e,title:t,author:(Array.isArray(n)?n:n?[n]:["Unknown"]).join(", "),imgLinkSmall:r||"img/noimg.png",price:parseFloat(i).toFixed(2),currency:o}}(e.id,e.title,e.author,e.imgLinkSmall,e.price,e.currency,e.publisher,e.publishedDate,e.pageCount)));t(n)})).catch((e=>console.error("Error:",e)))};return(0,jt.jsx)(tr,{container:!0,spacing:2,children:e.map((e=>(0,jt.jsx)(CO,{row:e},e.id)))})};var PO=n(1314);function AO(e){return(0,Nt.Z)("MuiCollapse",e)}(0,an.Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const NO=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],DO=(0,Vt.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===n.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===n.state&&(0,Rt.Z)({height:"auto",overflow:"visible"},"horizontal"===n.orientation&&{width:"auto"}),"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&{visibility:"hidden"})})),OO=(0,Vt.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})((e=>{let{ownerState:t}=e;return(0,Rt.Z)({display:"flex",width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),MO=(0,Vt.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})((e=>{let{ownerState:t}=e;return(0,Rt.Z)({width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),LO=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiCollapse"}),{addEndListener:i,children:o,className:a,collapsedSize:s="0px",component:l,easing:c,in:u,onEnter:d,onEntered:h,onEntering:f,onExit:p,onExited:m,onExiting:g,orientation:v="vertical",style:y,timeout:b=PO.x9.standard,TransitionComponent:w=MC}=n,x=(0,Ct.Z)(n,NO),S=(0,Rt.Z)({},n,{orientation:v,collapsedSize:s}),k=(e=>{const{orientation:t,classes:n}=e,r={root:["root","".concat(t)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(t)],wrapperInner:["wrapperInner","".concat(t)]};return(0,Dt.Z)(r,AO,n)})(S),_=Vn(),I=r.useRef(),E=r.useRef(null),T=r.useRef(),C="number"===typeof s?"".concat(s,"px"):s,R="horizontal"===v,P=R?"width":"height";r.useEffect((()=>()=>{clearTimeout(I.current)}),[]);const A=r.useRef(null),N=(0,ur.Z)(t,A),D=e=>t=>{if(e){const n=A.current;void 0===t?e(n):e(n,t)}},O=()=>E.current?E.current[R?"clientWidth":"clientHeight"]:0,M=D(((e,t)=>{E.current&&R&&(E.current.style.position="absolute"),e.style[P]=C,d&&d(e,t)})),L=D(((e,t)=>{const n=O();E.current&&R&&(E.current.style.position="");const{duration:r,easing:i}=jC({style:y,timeout:b,easing:c},{mode:"enter"});if("auto"===b){const t=_.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(t,"ms"),T.current=t}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style[P]="".concat(n,"px"),e.style.transitionTimingFunction=i,f&&f(e,t)})),j=D(((e,t)=>{e.style[P]="auto",h&&h(e,t)})),F=D((e=>{e.style[P]="".concat(O(),"px"),p&&p(e)})),Z=D(m),z=D((e=>{const t=O(),{duration:n,easing:r}=jC({style:y,timeout:b,easing:c},{mode:"exit"});if("auto"===b){const n=_.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(n,"ms"),T.current=n}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style[P]=C,e.style.transitionTimingFunction=r,g&&g(e)}));return(0,jt.jsx)(w,(0,Rt.Z)({in:u,onEnter:M,onEntered:j,onEntering:L,onExit:F,onExited:Z,onExiting:z,addEndListener:e=>{"auto"===b&&(I.current=setTimeout(e,T.current||0)),i&&i(A.current,e)},nodeRef:A,timeout:"auto"===b?null:b},x,{children:(e,t)=>(0,jt.jsx)(DO,(0,Rt.Z)({as:l,className:(0,Pt.Z)(k.root,a,{entered:k.entered,exited:!u&&"0px"===C&&k.hidden}[e]),style:(0,Rt.Z)({[R?"minWidth":"minHeight"]:C},y),ownerState:(0,Rt.Z)({},S,{state:e}),ref:N},t,{children:(0,jt.jsx)(OO,{ownerState:(0,Rt.Z)({},S,{state:e}),className:k.wrapper,ref:E,children:(0,jt.jsx)(MO,{ownerState:(0,Rt.Z)({},S,{state:e}),className:k.wrapperInner,children:o})})}))}))}));LO.muiSupportAuto=!0;const jO=LO;function FO(e){return(0,Nt.Z)("MuiSwitch",e)}const ZO=(0,an.Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),zO=["className","color","edge","size","sx"],BO=(0,Vt.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t["edge".concat((0,Ut.Z)(n.edge))],t["size".concat((0,Ut.Z)(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,Rt.Z)({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},"start"===t.edge&&{marginLeft:-8},"end"===t.edge&&{marginRight:-8},"small"===t.size&&{width:40,height:24,padding:7,["& .".concat(ZO.thumb)]:{width:16,height:16},["& .".concat(ZO.switchBase)]:{padding:4,["&.".concat(ZO.checked)]:{transform:"translateX(16px)"}}})})),UO=(0,Vt.ZP)(QN,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{["& .".concat(ZO.input)]:t.input},"default"!==n.color&&t["color".concat((0,Ut.Z)(n.color))]]}})((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:"".concat("light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]),transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),["&.".concat(ZO.checked)]:{transform:"translateX(20px)"},["&.".concat(ZO.disabled)]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:"".concat("light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600])},["&.".concat(ZO.checked," + .").concat(ZO.track)]:{opacity:.5},["&.".concat(ZO.disabled," + .").concat(ZO.track)]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:"".concat("light"===t.palette.mode?.12:.2)},["& .".concat(ZO.input)]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,nr.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(ZO.checked)]:{color:(t.vars||t).palette[n.color].main,"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,nr.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(ZO.disabled)]:{color:t.vars?t.vars.palette.Switch["".concat(n.color,"DisabledColor")]:"".concat("light"===t.palette.mode?(0,nr.$n)(t.palette[n.color].main,.62):(0,nr._j)(t.palette[n.color].main,.55))}},["&.".concat(ZO.checked," + .").concat(ZO.track)]:{backgroundColor:(t.vars||t).palette[n.color].main}})})),VO=(0,Vt.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),qO=(0,Vt.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),WO=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiSwitch"}),{className:r,color:i="primary",edge:o=!1,size:a="medium",sx:s}=n,l=(0,Ct.Z)(n,zO),c=(0,Rt.Z)({},n,{color:i,edge:o,size:a}),u=(e=>{const{classes:t,edge:n,size:r,color:i,checked:o,disabled:a}=e,s={root:["root",n&&"edge".concat((0,Ut.Z)(n)),"size".concat((0,Ut.Z)(r))],switchBase:["switchBase","color".concat((0,Ut.Z)(i)),o&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=(0,Dt.Z)(s,FO,t);return(0,Rt.Z)({},t,l)})(c),d=(0,jt.jsx)(qO,{className:u.thumb,ownerState:c});return(0,jt.jsxs)(BO,{className:(0,Pt.Z)(u.root,r),sx:s,ownerState:c,children:[(0,jt.jsx)(UO,(0,Rt.Z)({type:"checkbox",icon:d,checkedIcon:d,ref:t,ownerState:c},l,{classes:(0,Rt.Z)({},u,{root:u.switchBase})})),(0,jt.jsx)(VO,{className:u.track,ownerState:c})]})})),HO=(0,ui.Z)((0,jt.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp"),KO=(0,ui.Z)((0,jt.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");function GO(){const{userId:e,apiURL:t,showNotification:n}=(0,r.useContext)(JT),[i,o]=(0,r.useState)([]),[a,s]=(0,r.useState)(null),l=localStorage.getItem("jwtToken"),[c,u]=(0,r.useState)({name:"",isPrivate:!1,description:""});(0,r.useEffect)((()=>{e&&d()}),[e,t,l]);const d=()=>{const r="".concat(t,"/secure/book/getAllBookList/").concat(e);fetch(r,{headers:{"Content-Type":"application/json",Authorization:l}}).then((e=>e.json())).then((e=>{e.data.hasOwnProperty("index")&&delete e.data.index;const t=Object.entries(e.data).map((e=>{let[t,n]=e;return{id:t,bookListName:n.bookListName,description:n.description,lastEdit:n.lastEdit,numOfBooks:n.numOfBooks,owner:n.owner,isPublic:"true"===n.public,totalPages:n.totalPages}}));o(t)})).catch((e=>{console.error("Error fetching booklists:",e),n("\u52a0\u8f7d\u4e66\u5355\u5931\u8d25","error")}))},h=e=>{const{name:t,value:n,checked:r}=e.target;u({...c,[t]:"isPrivate"===t?r:n})};return(0,jt.jsxs)(un,{sx:{padding:2},children:[(0,jt.jsx)(WD,{component:lr,children:(0,jt.jsxs)(CD,{"aria-label":"collapsible table",children:[(0,jt.jsx)(YD,{children:(0,jt.jsxs)(iO,{children:[(0,jt.jsx)(BD,{}),(0,jt.jsx)(BD,{children:"\u4e66\u5355\u540d\u79f0"}),(0,jt.jsx)(BD,{align:"right",children:"\u516c\u5f00/\u79c1\u6709"}),(0,jt.jsx)(BD,{align:"right",children:"\u64cd\u4f5c"})]})}),(0,jt.jsx)(MD,{children:i.map((e=>(0,jt.jsxs)(r.Fragment,{children:[(0,jt.jsxs)(iO,{sx:{"& > *":{borderBottom:"unset"}},children:[(0,jt.jsx)(BD,{children:(0,jt.jsx)(ci,{size:"small",onClick:()=>{return t=e.id,void s(a===t?null:t);var t},children:a===e.id?(0,jt.jsx)(HO,{}):(0,jt.jsx)(KO,{})})}),(0,jt.jsx)(BD,{component:"th",scope:"row",children:e.bookListName}),(0,jt.jsx)(BD,{align:"right",children:e.isPublic?"\u516c\u5f00":"\u79c1\u6709"}),(0,jt.jsx)(BD,{align:"right"})]}),(0,jt.jsx)(iO,{children:(0,jt.jsx)(BD,{style:{paddingBottom:0,paddingTop:0},colSpan:6,children:(0,jt.jsx)(jO,{in:a===e.id,timeout:"auto",unmountOnExit:!0,children:(0,jt.jsxs)(un,{margin:1,children:[(0,jt.jsxs)(vn,{variant:"h6",gutterBottom:!0,component:"div",children:[e.bookListName," Details"]}),(0,jt.jsxs)(vn,{variant:"body1",children:["Description: ",e.description]}),(0,jt.jsxs)(vn,{variant:"body1",children:["Last Edit: ",e.lastEdit]}),(0,jt.jsxs)(vn,{variant:"body1",children:["Number of Books: ",e.numOfBooks]}),(0,jt.jsxs)(vn,{variant:"body1",children:["Owner: ",e.owner]}),(0,jt.jsxs)(vn,{variant:"body1",children:["Total Pages: ",e.totalPages]})]})})})})]},e.id)))})]})}),(0,jt.jsx)(lr,{sx:{padding:2,marginBottom:2},children:(0,jt.jsxs)(un,{display:"flex",flexDirection:"column",gap:2,children:[(0,jt.jsx)(CN,{label:"\u4e66\u5355\u540d\u79f0",name:"name",value:c.name,onChange:h}),(0,jt.jsx)(CN,{label:"\u63cf\u8ff0",name:"description",multiline:!0,rows:4,value:c.description,onChange:h}),(0,jt.jsx)(VN,{control:(0,jt.jsx)(WO,{checked:c.isPrivate,onChange:h,name:"isPrivate"}),label:c.isPrivate?"\u79c1\u6709":"\u516c\u5f00"}),(0,jt.jsx)(ni,{variant:"contained",color:"primary",onClick:()=>{const r="".concat(t,"/secure/book/bookList/").concat(e),a={newBookList:{owner:"name",bookListName:c.name,totalPages:0,numOfBooks:0,public:c.isPrivate?"false":"true",description:c.description}};fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Authorization:l},body:JSON.stringify(a)}).then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{o([...i,e.newBookList]),u({name:"",isPrivate:!1,description:""}),n("\u65b0\u4e66\u5355\u5df2\u521b\u5efa","success")})).catch((e=>{console.error("Error adding new booklist:",e),n("\u521b\u5efa\u4e66\u5355\u5931\u8d25","error")}))},children:"\u521b\u5efa\u4e66\u5355"})]})})]})}const QO=(0,rn.Z)(),$O=()=>{const{apiURL:e,userId:t}=(0,r.useContext)(JT),[n,i]=(0,r.useState)([]),o=localStorage.getItem("jwtToken");(0,r.useEffect)((()=>{null!==t&&a()}),[t]);const a=async()=>{try{const n=await fetch("".concat(e,"/secure/order/getAllOrders/").concat(t),{method:"GET",headers:{"Content-Type":"application/json",authorization:o}});if(n.ok){const e=(await n.json()).data;i(Object.entries(e).map((e=>{let[t,n]=e;return{orderId:t,...n,books:Object.entries(n).filter((e=>{let[t]=e;return t.startsWith("book")}))}})))}else console.error("Failed to fetch order history")}catch(n){console.error("Error fetching order history:",n)}};return(0,jt.jsx)(Bn,{theme:QO,children:(0,jt.jsxs)(Ht,{component:"main",maxWidth:"lg",children:[(0,jt.jsx)(An,{}),(0,jt.jsxs)(un,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,jt.jsx)(vn,{component:"h1",variant:"h2",sx:{display:"block",width:"100%",textAlign:"center",fontFamily:"Caveat",fontWeight:600,backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",padding:"10px"},children:" Order History "}),(0,jt.jsx)(WD,{component:lr,sx:{mt:3},children:(0,jt.jsxs)(CD,{sx:{minWidth:650},"aria-label":"order history table",children:[(0,jt.jsx)(YD,{children:(0,jt.jsxs)(iO,{children:[(0,jt.jsx)(BD,{children:"Order ID"}),(0,jt.jsx)(BD,{align:"right",children:"Books"}),(0,jt.jsx)(BD,{align:"right",children:"Date/Time"}),(0,jt.jsx)(BD,{align:"right",children:"Total"}),(0,jt.jsx)(BD,{align:"right",children:"Shipment"}),(0,jt.jsx)(BD,{align:"right",children:"Tax"}),(0,jt.jsx)(BD,{align:"right",children:"Final"})]})}),(0,jt.jsx)(MD,{children:n.map((e=>(0,jt.jsxs)(iO,{children:[(0,jt.jsx)(BD,{component:"th",scope:"row",children:e.orderId}),(0,jt.jsx)(BD,{align:"right",children:e.books.map(((e,t)=>{let[n,r]=e;return(0,jt.jsx)(un,{children:"Book ".concat(r.title,": ").concat(r.quantity," x $").concat(r.prive)},n)}))}),(0,jt.jsx)(BD,{align:"right",children:e.datetime}),(0,jt.jsxs)(BD,{align:"right",children:["$",e.total]}),(0,jt.jsxs)(BD,{align:"right",children:["$",e.shipment]}),(0,jt.jsxs)(BD,{align:"right",children:["$",e.tax]}),(0,jt.jsxs)(BD,{align:"right",children:["$",e.final]})]},e.orderId)))})]})})]})]})})},YO=()=>{const{apiURL:e,userId:t}=(0,r.useContext)(JT),[n,i]=(0,r.useState)([]),[o,a]=(0,r.useState)(!0),[s,l]=(0,r.useState)(!1),c=localStorage.getItem("jwtToken");(0,r.useEffect)((()=>{const t={"Content-Type":"application/json",Authorization:localStorage.getItem("jwtToken")};fetch("".concat(e,"/secure/admin/getUsers"),{method:"GET",headers:t}).then((e=>e.json())).then((e=>{i(e.data),a(!1)})).catch((e=>{console.error("Error fetching user data:",e),a(!1)}))}),[e]);return(0,jt.jsxs)(Ht,{component:"main",maxWidth:"lg",sx:{backgroundColor:"#ffffff"},children:[(0,jt.jsx)(An,{}),(0,jt.jsx)("h1",{children:"Admin Page"}),o?(0,jt.jsx)("p",{children:"Loading..."}):(0,jt.jsx)(WD,{component:lr,children:(0,jt.jsxs)(CD,{children:[(0,jt.jsx)(YD,{children:(0,jt.jsxs)(iO,{children:[(0,jt.jsx)(BD,{children:"ID"}),(0,jt.jsx)(BD,{children:"Username"}),(0,jt.jsx)(BD,{children:"Email"}),(0,jt.jsx)(BD,{children:"Is Admin"}),(0,jt.jsx)(BD,{children:"Status"})]})}),(0,jt.jsx)(MD,{children:n.map((r=>r.uid!==t&&(0,jt.jsxs)(iO,{children:[(0,jt.jsx)(BD,{children:r.uid}),(0,jt.jsx)(BD,{children:r.displayName}),(0,jt.jsx)(BD,{children:r.email}),(0,jt.jsx)(BD,{children:(0,jt.jsx)(WO,{checked:r.isAdmin,onChange:()=>((t,r)=>{l(!0),fetch("".concat(e,"/secure/admin/userPermission/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:c}}).then((e=>e.json())).then((e=>{const o=n.map((e=>(e.uid===t&&(e.isAdmin=!r),e)));i(o)})).catch((e=>{console.error("Error updating user status:",e)})).finally((()=>{l(!1)}))})(r.uid,r.isAdmin),color:"primary",name:"isAdminStatus",inputProps:{"aria-label":"admin status"}})}),(0,jt.jsx)(BD,{children:(0,jt.jsx)(WO,{checked:r.status,onChange:()=>((t,r)=>{l(!0),fetch("".concat(e,"/secure/admin/userActivation/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:c}}).then((e=>e.json())).then((e=>{const o=n.map((e=>(e.uid===t&&(e.status=!r),e)));i(o)})).catch((e=>{console.error("Error updating user status:",e)})).finally((()=>{l(!1)}))})(r.uid,r.status),color:"primary",name:"userStatus",inputProps:{"aria-label":"user status"}})})]},r.uid)))})]})})]})};const XO=r.createContext({});function JO(e){return(0,Nt.Z)("MuiAccordion",e)}const eM=(0,an.Z)("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),tM=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],nM=(0,Vt.ZP)(lr,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(eM.region)]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],n),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],n)},"&:first-of-type":{"&:before":{display:"none"}},["&.".concat(eM.expanded)]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},["&.".concat(eM.disabled)]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),(e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({},!n.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!n.disableGutters&&{["&.".concat(eM.expanded)]:{margin:"16px 0"}})})),rM=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiAccordion"}),{children:i,className:o,defaultExpanded:a=!1,disabled:s=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,TransitionComponent:h=jO,TransitionProps:f}=n,p=(0,Ct.Z)(n,tM),[m,g]=(0,UP.Z)({controlled:c,default:a,name:"Accordion",state:"expanded"}),v=r.useCallback((e=>{g(!m),u&&u(e,!m)}),[m,u,g]),[y,...b]=r.Children.toArray(i),w=r.useMemo((()=>({expanded:m,disabled:s,disableGutters:l,toggle:v})),[m,s,l,v]),x=(0,Rt.Z)({},n,{square:d,disabled:s,disableGutters:l,expanded:m}),S=(e=>{const{classes:t,square:n,expanded:r,disabled:i,disableGutters:o}=e,a={root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]};return(0,Dt.Z)(a,JO,t)})(x);return(0,jt.jsxs)(nM,(0,Rt.Z)({className:(0,Pt.Z)(S.root,o),ref:t,ownerState:x,square:d},p,{children:[(0,jt.jsx)(XO.Provider,{value:w,children:y}),(0,jt.jsx)(h,(0,Rt.Z)({in:m,timeout:"auto"},f,{children:(0,jt.jsx)("div",{"aria-labelledby":y.props.id,id:y.props["aria-controls"],role:"region",className:S.region,children:b})}))]}))}));function iM(e){return(0,Nt.Z)("MuiAccordionSummary",e)}const oM=(0,an.Z)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),aM=["children","className","expandIcon","focusVisibleClassName","onClick"],sM=(0,Vt.ZP)(Wr,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t,ownerState:n}=e;const r={duration:t.transitions.duration.shortest};return(0,Rt.Z)({display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],r),["&.".concat(oM.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(oM.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["&:hover:not(.".concat(oM.disabled,")")]:{cursor:"pointer"}},!n.disableGutters&&{["&.".concat(oM.expanded)]:{minHeight:64}})})),lM=(0,Vt.ZP)("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})((e=>{let{theme:t,ownerState:n}=e;return(0,Rt.Z)({display:"flex",flexGrow:1,margin:"12px 0"},!n.disableGutters&&{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),["&.".concat(oM.expanded)]:{margin:"20px 0"}})})),cM=(0,Vt.ZP)("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})((e=>{let{theme:t}=e;return{display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),["&.".concat(oM.expanded)]:{transform:"rotate(180deg)"}}})),uM=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiAccordionSummary"}),{children:i,className:o,expandIcon:a,focusVisibleClassName:s,onClick:l}=n,c=(0,Ct.Z)(n,aM),{disabled:u=!1,disableGutters:d,expanded:h,toggle:f}=r.useContext(XO),p=(0,Rt.Z)({},n,{expanded:h,disabled:u,disableGutters:d}),m=(e=>{const{classes:t,expanded:n,disabled:r,disableGutters:i}=e,o={root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]};return(0,Dt.Z)(o,iM,t)})(p);return(0,jt.jsxs)(sM,(0,Rt.Z)({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":h,className:(0,Pt.Z)(m.root,o),focusVisibleClassName:(0,Pt.Z)(m.focusVisible,s),onClick:e=>{f&&f(e),l&&l(e)},ref:t,ownerState:p},c,{children:[(0,jt.jsx)(lM,{className:m.content,ownerState:p,children:i}),a&&(0,jt.jsx)(cM,{className:m.expandIconWrapper,ownerState:p,children:a})]}))}));function dM(e){return(0,Nt.Z)("MuiAccordionDetails",e)}(0,an.Z)("MuiAccordionDetails",["root"]);const hM=["className"],fM=(0,Vt.ZP)("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{padding:t.spacing(1,2,2)}})),pM=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiAccordionDetails"}),{className:r}=n,i=(0,Ct.Z)(n,hM),o=n,a=(e=>{const{classes:t}=e;return(0,Dt.Z)({root:["root"]},dM,t)})(o);return(0,jt.jsx)(fM,(0,Rt.Z)({className:(0,Pt.Z)(a.root,r),ref:t,ownerState:o},i))}));var mM=n(1131);function gM(e){return(0,Nt.Z)("MuiCircularProgress",e)}(0,an.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var vM,yM,bM,wM;const xM=["className","color","disableShrink","size","style","thickness","value","variant"];let SM,kM,_M,IM;const EM=44,TM=_n(SM||(SM=vM||(vM=fr(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),CM=_n(kM||(kM=yM||(yM=fr(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),RM=(0,Vt.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat((0,Ut.Z)(n.color))]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,Rt.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&kn(_M||(_M=bM||(bM=fr(["\n      animation: "," 1.4s linear infinite;\n    "]))),TM)})),PM=(0,Vt.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),AM=(0,Vt.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat((0,Ut.Z)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:n}=e;return(0,Rt.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&kn(IM||(IM=wM||(wM=fr(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),CM)})),NM=r.forwardRef((function(e,t){const n=(0,qt.Z)({props:e,name:"MuiCircularProgress"}),{className:r,color:i="primary",disableShrink:o=!1,size:a=40,style:s,thickness:l=3.6,value:c=0,variant:u="indeterminate"}=n,d=(0,Ct.Z)(n,xM),h=(0,Rt.Z)({},n,{color:i,disableShrink:o,size:a,thickness:l,value:c,variant:u}),f=(e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,o={root:["root",n,"color".concat((0,Ut.Z)(r))],svg:["svg"],circle:["circle","circle".concat((0,Ut.Z)(n)),i&&"circleDisableShrink"]};return(0,Dt.Z)(o,gM,t)})(h),p={},m={},g={};if("determinate"===u){const e=2*Math.PI*((EM-l)/2);p.strokeDasharray=e.toFixed(3),g["aria-valuenow"]=Math.round(c),p.strokeDashoffset="".concat(((100-c)/100*e).toFixed(3),"px"),m.transform="rotate(-90deg)"}return(0,jt.jsx)(RM,(0,Rt.Z)({className:(0,Pt.Z)(f.root,r),style:(0,Rt.Z)({width:a,height:a},m,s),ownerState:h,ref:t,role:"progressbar"},g,d,{children:(0,jt.jsx)(PM,{className:f.svg,ownerState:h,viewBox:"".concat(22," ").concat(22," ").concat(EM," ").concat(EM),children:(0,jt.jsx)(AM,{className:f.circle,style:p,ownerState:h,cx:EM,cy:EM,r:(EM-l)/2,fill:"none",strokeWidth:l})})}))})),DM=NM,OM=e=>{let{bookListId:t,onAddReview:n,userName:i,ownerId:o}=e;const[a,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1),{apiURL:u,userId:d}=(0,r.useContext)(JT),h=localStorage.getItem("jwtToken");return(0,jt.jsxs)(lr,{elevation:3,style:{padding:"16px",background:"#ffffff"},children:[(0,jt.jsx)(aA,{minRows:4,cols:50,value:a,onChange:e=>{s(e.target.value)},placeholder:"\u5728\u6b64\u8f93\u5165\u60a8\u7684\u8bc4\u8bba",disabled:l}),(0,jt.jsx)(ni,{variant:"contained",color:"primary",onClick:async()=>{if(a.trim()){c(!0);try{if(!(await fetch("".concat(u,"/secure/book/booklist/addReview/").concat(d),{method:"POST",headers:{"Content-Type":"application/json",Authorization:h},body:JSON.stringify({blid:t,content:a,userName:i,oid:"leo1",uid:d})})).ok)throw new Error("\u6dfb\u52a0\u8bc4\u8bba\u5931\u8d25");s("")}catch(e){alert(e.message)}finally{c(!1)}}else alert("\u8bc4\u8bba\u4e0d\u80fd\u4e3a\u7a7a\u3002")},disabled:l,children:l?(0,jt.jsx)(DM,{size:24}):"\u6dfb\u52a0\u8bc4\u8bba"})]})},MM=()=>{const[e,t]=(0,r.useState)([{id:1,name:"Item 1",description:"Description 1"},{id:2,name:"Item 2",description:"Description 2"},{id:3,name:"Item 3",description:"Description 3"}]);return(0,jt.jsxs)("div",{children:[(0,jt.jsx)("h1",{children:"Public List"}),(0,jt.jsx)(WD,{component:lr,children:(0,jt.jsxs)(CD,{children:[(0,jt.jsx)(YD,{children:(0,jt.jsxs)(iO,{children:[(0,jt.jsx)(BD,{children:"ID"}),(0,jt.jsx)(BD,{children:"Name"}),(0,jt.jsx)(BD,{children:"Actions"})]})}),(0,jt.jsx)(MD,{children:e.map((e=>(0,jt.jsxs)(iO,{children:[(0,jt.jsx)(BD,{children:e.id}),(0,jt.jsx)(BD,{children:e.name}),(0,jt.jsx)(BD,{children:(0,jt.jsxs)(rM,{children:[(0,jt.jsx)(uM,{expandIcon:(0,jt.jsx)(mM.Z,{}),"aria-controls":"panel-".concat(e.id,"-content"),id:"panel-".concat(e.id,"-header"),children:(0,jt.jsx)(vn,{children:"Details"})}),(0,jt.jsx)(pM,{children:(0,jt.jsx)(vn,{children:e.description})})]})})]},e.id)))})]})}),(0,jt.jsx)(OM,{bookListId:"bookList1",userId:"leo1",ownerID:"leo1",onAddReview:"handleAddReview"})]})},LM=(0,rn.Z)({palette:{primary:{main:"#556cd6"}}}),jM=()=>(0,jt.jsxs)(jt.Fragment,{children:[(0,jt.jsx)(_O,{}),(0,jt.jsx)(ot,{}),(0,jt.jsx)(EO,{})]}),FM=function(e,t){return ee({basename:null==t?void 0:t.basename,future:ut({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:(n={window:null==t?void 0:t.window},void 0===n&&(n={}),p((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,n)),hydrationData:(null==t?void 0:t.hydrationData)||ft(),routes:e,mapRouteProperties:st,window:null==t?void 0:t.window}).initialize();var n}([{path:"/",element:(0,jt.jsx)(jM,{}),children:[{path:"/",element:(0,jt.jsx)(lN,{})},{path:"/login",element:(0,jt.jsx)(SD,{})},{path:"/register",element:(0,jt.jsx)(bD,{})},{path:"/cart",element:(0,jt.jsx)(TO,{children:(0,jt.jsx)(lO,{})})},{path:"/list",element:(0,jt.jsx)(aN,{})},{path:"/searchresult",element:(0,jt.jsx)(RO,{})},{path:"/booklist",element:(0,jt.jsx)(GO,{})},{path:"/orderhistory",element:(0,jt.jsx)($O,{})},{path:"/adminpage",element:(0,jt.jsx)(YO,{})},{path:"/publiclist",element:(0,jt.jsx)(MM,{})},{path:"/addreview",element:(0,jt.jsx)(OM,{})}]}]);const ZM=function(){return(0,jt.jsx)(Bn,{theme:LM,children:(0,jt.jsx)(eC,{children:(0,jt.jsx)("div",{children:(0,jt.jsx)(xt,{router:FM})})})})};o.createRoot(document.getElementById("root")).render((0,jt.jsx)(r.StrictMode,{children:(0,jt.jsx)(ZM,{})}))})()})();
//# sourceMappingURL=main.c8db3f1a.js.map